var Pn=Math.pow;(self.webpackChunk=self.webpackChunk||[]).push([[326],{25566:function(yn,ir){(function(xt,se){se(ir)})(this,function(xt){"use strict";function se(W,$,H){if(H||arguments.length===2)for(var Z,st=0,it=$.length;st<it;st++)!Z&&st in $||((Z=Z||Array.prototype.slice.call($,0,st))[st]=$[st]);return W.concat(Z||Array.prototype.slice.call($))}function Pt(W){return D(W,"Function")}var Lt={}.toString,D=function(W,$){return Lt.call(W)==="[object "+$+"]"},It=function(W){return Array.isArray?Array.isArray(W):D(W,"Array")},Tt=function(W){if(typeof($=W)!="object"||$===null||!D(W,"Object"))return!1;var $;if(Object.getPrototypeOf(W)===null)return!0;for(var H=W;Object.getPrototypeOf(H)!==null;)H=Object.getPrototypeOf(H);return Object.getPrototypeOf(W)===H},mt=5;function At(W){for(var $=[],H=1;H<arguments.length;H++)$[H-1]=arguments[H];for(var Z=0;Z<$.length;Z+=1)(function st(it,tt,et,at){for(var pt in et=et||0,at=at||mt,tt){var ot;tt.hasOwnProperty(pt)&&((ot=tt[pt])!==null&&Tt(ot)?(Tt(it[pt])||(it[pt]={}),et<at?st(it[pt],ot,et+1,at):it[pt]=tt[pt]):It(ot)?(it[pt]=[],it[pt]=it[pt].concat(ot)):ot!==void 0&&(it[pt]=ot))}})(W,$[Z]);return W}function lt(W){return W}var Gt,fr=function(W,tt){var H=(tt=tt===void 0?{}:tt).fontSize,Z=tt.fontFamily,st=tt.fontWeight,it=tt.fontStyle,tt=tt.fontVariant;return(Gt=Gt||document.createElement("canvas").getContext("2d")).font=[it,tt,st,H+"px",Z].join(" "),Gt.measureText(D(W,"String")?W:"").width};if(!Pt(fr))throw new TypeError("Expected a function");var vt=typeof Float32Array!="undefined"?Float32Array:Array;function _t(){var W=new vt(9);return vt!=Float32Array&&(W[1]=0,W[2]=0,W[3]=0,W[5]=0,W[6]=0,W[7]=0),W[0]=1,W[4]=1,W[8]=1,W}Math.hypot||(Math.hypot=function(){for(var W=0,$=arguments.length;$--;)W+=arguments[$]*arguments[$];return Math.sqrt(W)});var ne=function(W,Et,Kt){var Z=Et[0],st=Et[1],it=Et[2],tt=Et[3],et=Et[4],at=Et[5],pt=Et[6],ot=Et[7],Et=Et[8],Xt=Kt[0],Bt=Kt[1],Ft=Kt[2],zt=Kt[3],St=Kt[4],Jt=Kt[5],te=Kt[6],Pe=Kt[7],Kt=Kt[8];return W[0]=Xt*Z+Bt*tt+Ft*pt,W[1]=Xt*st+Bt*et+Ft*ot,W[2]=Xt*it+Bt*at+Ft*Et,W[3]=zt*Z+St*tt+Jt*pt,W[4]=zt*st+St*et+Jt*ot,W[5]=zt*it+St*at+Jt*Et,W[6]=te*Z+Pe*tt+Kt*pt,W[7]=te*st+Pe*et+Kt*ot,W[8]=te*it+Pe*at+Kt*Et,W};function jt(W,$,H){for(;W<$;)W+=2*Math.PI;for(;H<W;)W-=2*Math.PI;return W}fr=new vt(3),vt!=Float32Array&&(fr[0]=0,fr[1]=0,fr[2]=0);function ue(tt,$,H,Z,st){var it=tt[0],tt=tt[1],et=_t();return it=[it,tt],(tt=et)[0]=1,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=1,tt[5]=0,tt[6]=it[0],tt[7]=it[1],tt[8]=1,tt}class Ht{constructor($){this.options=At({},this.getDefaultOptions()),this.update($)}getOptions(){return this.options}update($={}){this.options=At({},this.options,$),this.rescale($)}rescale($){}}function Dt(W,$,H){for(let Z=0;Z<$.length;Z+=1)W.has($[Z])||W.set(H($[Z]),Z)}function ut(W){const{value:$,from:H,to:Z,mapper:st,notFoundReturn:it}=W;let tt=st.get($);if(tt===void 0){if(it)return it;tt=H.push($)-1,st.set($,tt)}return Z[tt%Z.length]}function J(W){return W instanceof Date?$=>""+$:typeof W=="object"?$=>JSON.stringify($):$=>$}class ft extends Ht{constructor($){super($)}getDefaultOptions(){return{domain:[],range:[]}}map($){return this.domainIndexMap.size===0&&Dt(this.domainIndexMap,this.getDomain(),this.domainKey),ut({value:this.domainKey($),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert($){return this.rangeIndexMap.size===0&&Dt(this.rangeIndexMap,this.getRange(),this.rangeKey),ut({value:this.rangeKey($),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale($){var[H]=this.options.domain,[Z]=this.options.range;this.domainKey=J(H),this.rangeKey=J(Z),this.rangeIndexMap?($&&!$.range||this.rangeIndexMap.clear(),$&&!$.domain&&!$.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new ft(this.options)}getRange(){return this.options.range}getDomain(){var $,H;return this.sortedDomain||({domain:$,compare:H}=this.options,this.sortedDomain=H?[...$].sort(H):$),this.sortedDomain}}function ct(Et){const $=Et.domain;var H=$.length;if(H===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};const{range:Z,paddingOuter:st,paddingInner:it,flex:tt=[],round:et,align:at}=Et;Et=tt,ot=$.length;var pt=0<(pt=ot-Et.length)?[...Et,...new Array(pt).fill(1)]:pt<0?Et.slice(0,ot):Et,[ot,Et]=Z,Et=Et-ot,Xt=Et/(2/H*st+1-1/H*it);const Bt=Xt*it/H;Xt-=H*Bt;const Ft=function(Kt){const Oe=Math.min(...Kt);return Kt.map(Nn=>Nn/Oe)}(pt),zt=Xt/Ft.reduce((Kt,Oe)=>Kt+Oe);pt=new Map($.map((Kt,Oe)=>(Oe=Ft[Oe]*zt,[Kt,et?Math.floor(Oe):Oe])));const St=new Map($.map((Kt,Oe)=>(Oe=Ft[Oe]*zt+Bt,[Kt,et?Math.floor(Oe):Oe])));Xt=Array.from(St.values()).reduce((Kt,Oe)=>Kt+Oe),ot+=(Et-(Xt-Xt/H*it))*at;let Jt=et?Math.round(ot):ot;const te=new Array(H);for(let Kt=0;Kt<H;Kt+=1){te[Kt]=(Pe=Jt,Math.round(1e12*Pe)/1e12);var Pe=$[Kt];Jt+=St.get(Pe)}return{valueBandWidth:pt,valueStep:St,adjustedRange:te}}class Ot extends ft{constructor($){super($)}getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:void 0,flex:[]}}clone(){return new Ot(this.options)}getStep($){return this.valueStep===void 0?1:$===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get($)}getBandWidth($){return this.valueBandWidth===void 0?1:$===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get($)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:$,paddingInner:H}=this.options;return 0<$?$:H}getPaddingOuter(){var{padding:$,paddingOuter:H}=this.options;return 0<$?$:H}rescale(){super.rescale();var{align:Z,domain:$,range:st,round:it,flex:H}=this.options,{adjustedRange:Z,valueBandWidth:st,valueStep:it}=ct({align:Z,range:st,round:it,flex:H,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:$});this.valueStep=it,this.valueBandWidth=st,this.adjustedRange=Z}}function Mt(W,...$){return $.reduce((H,Z)=>st=>H(Z(st)),W)}function gt(W,$){return $-W?H=>(H-W)/($-W):H=>.5}const q=Math.sqrt(50),Vt=Math.sqrt(10),Me=Math.sqrt(2);function je(W,$,H){return $=($-W)/Math.max(0,H),W=Math.floor(Math.log($)/Math.LN10),H=$/Pn(10,W),0<=W?(H>=q?10:H>=Vt?5:H>=Me?2:1)*Pn(10,W):-Pn(10,-W)/(H>=q?10:H>=Vt?5:H>=Me?2:1)}const un=(W,$,H=5)=>{const Z=[W,$];let st=0,it=Z.length-1,tt=Z[st],et=Z[it],at;return et<tt&&([tt,et]=[et,tt],[st,it]=[it,st]),0<(at=je(tt,et,H))?(tt=Math.floor(tt/at)*at,et=Math.ceil(et/at)*at,at=je(tt,et,H)):at<0&&(tt=Math.ceil(tt*at)/at,et=Math.floor(et*at)/at,at=je(tt,et,H)),0<at?(Z[st]=Math.floor(tt/at)*at,Z[it]=Math.ceil(et/at)*at):at<0&&(Z[st]=Math.ceil(tt*at)/at,Z[it]=Math.floor(et*at)/at),Z};function An(W){return W!=null&&!Number.isNaN(W)}var Wn,fr={exports:{}},pa={exports:{}},Cn=function(W){return!(!W||typeof W=="string")&&(W instanceof Array||Array.isArray(W)||0<=W.length&&(W.splice instanceof Function||Object.getOwnPropertyDescriptor(W,W.length-1)&&W.constructor.name!=="String"))},Xl=Array.prototype.concat,la=Array.prototype.slice,z=pa.exports=function(W){for(var $=[],H=0,Z=W.length;H<Z;H++){var st=W[H];Cn(st)?$=Xl.call($,la.call(st)):$.push(st)}return $},ua=(z.wrap=function(W){return function(){return W(z(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Fi=pa.exports,kt=Object.hasOwnProperty,zi=Object.create(null);for(Wn in ua)kt.call(ua,Wn)&&(zi[ua[Wn]]=Wn);var qn=fr.exports={to:{},get:{}};function Qr(W,$,H){return Math.min(Math.max($,W),H)}function Ja(W){return W=Math.round(W).toString(16).toUpperCase(),W.length<2?"0"+W:W}qn.get=function(W){var $,H;switch(W.substring(0,3).toLowerCase()){case"hsl":$=qn.get.hsl(W),H="hsl";break;case"hwb":$=qn.get.hwb(W),H="hwb";break;default:$=qn.get.rgb(W),H="rgb"}return $?{model:H,value:$}:null},qn.get.rgb=function(W){if(!W)return null;var $,H,Z,st=[0,0,0,1];if($=W.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(Z=$[2],$=$[1],H=0;H<3;H++){var it=2*H;st[H]=parseInt($.slice(it,2+it),16)}Z&&(st[3]=parseInt(Z,16)/255)}else if($=W.match(/^#([a-f0-9]{3,4})$/i)){for(Z=($=$[1])[3],H=0;H<3;H++)st[H]=parseInt($[H]+$[H],16);Z&&(st[3]=parseInt(Z+Z,16)/255)}else{if($=W.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(H=0;H<3;H++)st[H]=parseInt($[H+1],0);else{if(!($=W.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return($=W.match(/^(\w+)$/))?$[1]==="transparent"?[0,0,0,0]:kt.call(ua,$[1])?((st=ua[$[1]])[3]=1,st):null:null;for(H=0;H<3;H++)st[H]=Math.round(2.55*parseFloat($[H+1]))}$[4]&&($[5]?st[3]=.01*parseFloat($[4]):st[3]=parseFloat($[4]))}for(H=0;H<3;H++)st[H]=Qr(st[H],0,255);return st[3]=Qr(st[3],0,1),st},qn.get.hsl=function(H){if(!H)return null;var $,H=H.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return H?($=parseFloat(H[4]),[(parseFloat(H[1])%360+360)%360,Qr(parseFloat(H[2]),0,100),Qr(parseFloat(H[3]),0,100),Qr(isNaN($)?1:$,0,1)]):null},qn.get.hwb=function(H){if(!H)return null;var $,H=H.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return H?($=parseFloat(H[4]),[(parseFloat(H[1])%360+360)%360,Qr(parseFloat(H[2]),0,100),Qr(parseFloat(H[3]),0,100),Qr(isNaN($)?1:$,0,1)]):null},qn.to.hex=function(){var W=Fi(arguments);return"#"+Ja(W[0])+Ja(W[1])+Ja(W[2])+(W[3]<1?Ja(Math.round(255*W[3])):"")},qn.to.rgb=function(){var W=Fi(arguments);return W.length<4||W[3]===1?"rgb("+Math.round(W[0])+", "+Math.round(W[1])+", "+Math.round(W[2])+")":"rgba("+Math.round(W[0])+", "+Math.round(W[1])+", "+Math.round(W[2])+", "+W[3]+")"},qn.to.rgb.percent=function(){var W=Fi(arguments),$=Math.round(W[0]/255*100),H=Math.round(W[1]/255*100),Z=Math.round(W[2]/255*100);return W.length<4||W[3]===1?"rgb("+$+"%, "+H+"%, "+Z+"%)":"rgba("+$+"%, "+H+"%, "+Z+"%, "+W[3]+")"},qn.to.hsl=function(){var W=Fi(arguments);return W.length<4||W[3]===1?"hsl("+W[0]+", "+W[1]+"%, "+W[2]+"%)":"hsla("+W[0]+", "+W[1]+"%, "+W[2]+"%, "+W[3]+")"},qn.to.hwb=function(){var W=Fi(arguments),$="";return 4<=W.length&&W[3]!==1&&($=", "+W[3]),"hwb("+W[0]+", "+W[1]+"%, "+W[2]+"%"+$+")"},qn.to.keyword=function(W){return zi[W.slice(0,3)]};var ql=fr.exports;function fa(W,$,H){let Z=H;return Z<0&&(Z+=1),1<Z&&--Z,Z<1/6?W+6*($-W)*Z:Z<.5?$:Z<2/3?W+($-W)*(2/3-Z)*6:W}function Qs(Z){if(Z=ql.get(Z),!Z)return null;var $,H,{model:Z,value:st}=Z;return Z==="rgb"?st:Z==="hsl"?(st=(Z=st)[0]/360,$=Z[1]/100,H=Z[2]/100,Z=Z[3],$==0?[255*H,255*H,255*H,Z]:[255*fa(H=2*H-($=H<.5?H*(1+$):H+$-H*$),$,st+1/3),255*fa(H,$,st),255*fa(H,$,st-1/3),Z]):null}const to=(W,$)=>H=>W*(1-H)+$*H,Gi=(W,$)=>{{if(typeof W=="number"&&typeof $=="number")return to(W,$);if(typeof W!="string"||typeof $!="string")return()=>W;{var H=W,Z=$;const st=Qs(H),it=Qs(Z);return st===null||it===null?st?()=>H:()=>Z:tt=>{const et=new Array(4);for(let Ft=0;Ft<4;Ft+=1){var at=st[Ft],pt=it[Ft];et[Ft]=at*(1-tt)+pt*tt}var[ot,Et,Xt,Bt]=et;return`rgba(${Math.round(ot)}, ${Math.round(Et)}, ${Math.round(Xt)}, ${Bt})`}}}},Js=(W,$)=>{const H=to(W,$);return Z=>Math.round(H(Z))},tc=(W,$,H)=>{let Z,st,it=W,tt=$;if(it===tt&&0<H)return[it];let et=je(it,tt,H);if(et===0||!Number.isFinite(et))return[];if(0<et){it=Math.ceil(it/et),tt=Math.floor(tt/et),st=new Array(Z=Math.ceil(tt-it+1));for(let at=0;at<Z;at+=1)st[at]=(it+at)*et}else{et=-et,it=Math.ceil(it*et),tt=Math.floor(tt*et),st=new Array(Z=Math.ceil(tt-it+1));for(let at=0;at<Z;at+=1)st[at]=(it+at)/et}return st},$i=(Z,it,H)=>{var[Z,st]=Z,[it,tt]=it;let et,at;return Mt(at=Z<st?(et=gt(Z,st),H(it,tt)):(et=gt(st,Z),H(tt,it)),et)},Bo=(W,$,H)=>{const Z=Math.min(W.length,$.length)-1,st=new Array(Z),it=new Array(Z);var tt=W[0]>W[Z],et=tt?[...W].reverse():W,at=tt?[...$].reverse():$;for(let pt=0;pt<Z;pt+=1)st[pt]=gt(et[pt],et[pt+1]),it[pt]=H(at[pt],at[pt+1]);return pt=>{var ot=function(Xt,Bt,Ft,zt,St){let Jt=Ft||0,te=zt||Xt.length;const Pe=St||(Oe=>Oe);for(;Jt<te;){var Kt=Math.floor((Jt+te)/2);Pe(Xt[Kt])>Bt?te=Kt:Jt=Kt+1}return Jt}(W,pt,1,Z)-1,Et=st[ot];return Mt(it[ot],Et)(pt)}},eo=(W,$,H,Z)=>{const st=2<Math.min(W.length,$.length)?Bo:$i;return Z=Z?Js:H,st(W,$,Z)};class Fo extends Ht{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:to,tickCount:5}}map($){return An($)?this.output($):this.options.unknown}invert($){return An($)?this.input($):this.options.unknown}nice(){var $,H,Z,st;this.options.nice&&([$,H,Z,...st]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()($,H,Z,...st))}getTicks(){const $=this.options.tickMethod;var[H,Z,st,...it]=this.getTickMethodOptions();return $(H,Z,st,...it)}getTickMethodOptions(){var{domain:$,tickCount:H}=this.options;return[$[0],$[$.length-1],H]}chooseNice(){return un}rescale(){this.nice();var[$,H]=this.chooseTransforms();this.composeOutput($,this.chooseClamp($)),this.composeInput($,H,this.chooseClamp(H))}chooseClamp(Z){var{clamp:H,range:st}=this.options,Z=this.options.domain.map(Z),st=Math.min(Z.length,st.length);if(H){H=Z[0],Z=Z[st-1];const it=Z<H?Z:H,tt=Z<H?H:Z;return et=>Math.min(Math.max(it,et),tt)}return lt}composeOutput($,H){const{domain:Z,range:st,round:it,interpolate:tt}=this.options;var et=eo(Z.map($),st,tt,it);this.output=Mt(et,H,$)}composeInput($,H,Z){const{domain:st,range:it}=this.options;$=eo(it,st.map($),to),this.input=Mt(H,Z,$)}}class jn extends Fo{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Gi,tickMethod:tc,tickCount:5}}chooseTransforms(){return[lt,lt]}clone(){return new jn(this.options)}}class Rr extends Ot{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:void 0,paddingInner:1,paddingOuter:0}}constructor($){super($)}getPaddingInner(){return 1}clone(){return new Rr(this.options)}update($){super.update($)}getPaddingOuter(){return this.options.padding}}function no(W,$){for(var H=[],Z=0,st=W.length;Z<st;Z++)H.push(W[Z].substr(0,$));return H}function ec(W,$,H,Z,st){var it=new jn({range:[$,$+Z]}),tt=new jn({range:[H,H+st]});return{transform:function(pt){var at=pt[0],pt=pt[1];return[it.map(at),tt.map(pt)]},untransform:function(pt){var at=pt[0],pt=pt[1];return[it.invert(at),tt.invert(pt)]}}}function nc(W,$,H,Z,st){return(0,W[0])($,H,Z,st)}function Y(W,$,H,Z,st){return W[0]}function ce(at,$,H,Z,st){var it=at[0],tt=at[1],et=at[2],at=at[3],pt=new jn({range:[et,at]}),ot=new jn({range:[it,tt]}),Et=1<(et=st/Z)?1:et,Xt=1<et?1/et:1;return{transform:function(zt){var Ft=zt[0],zt=zt[1],Ft=ot.map(Ft),zt=pt.map(zt);return[.5*(zt*Math.cos(Ft)*Et)+.5,.5*(zt*Math.sin(Ft)*Xt)+.5]},untransform:function(St){var Ft=St[0],St=St[1],Ft=2*(Ft-.5)/Et,St=2*(St-.5)/Xt,zt=Math.sqrt(Math.pow(Ft,2)+Math.pow(St,2)),St=jt(Math.atan2(St,Ft),it,tt);return[ot.invert(St),pt.invert(zt)]}}}function ha(W,$,H,Z,st){return{transform:function(it){var tt=it[0];return[it[1],tt]},untransform:function(it){var tt=it[0];return[it[1],tt]}}}function Yn(W){for(var $=[],H=1;H<arguments.length;H++)$[H-1]=arguments[H];return Te.apply(void 0,se([[-1,-1]],$,!1))}function ro(W){for(var $=[],H=1;H<arguments.length;H++)$[H-1]=arguments[H];return Te.apply(void 0,se([[-1,1]],$,!1))}function fn(W){for(var $=[],H=1;H<arguments.length;H++)$[H-1]=arguments[H];return Te.apply(void 0,se([[1,-1]],$,!1))}function da(tt,$,H,Z,st){var it,tt=tt[0],et=_t();return et=et,tt=tt,it=Math.sin(tt),tt=Math.cos(tt),et[0]=tt,et[1]=it,et[2]=0,et[3]=-it,et[4]=tt,et[5]=0,et[6]=0,et[7]=0,et[8]=1,et}function Ul(W,$,H,Z,st){var it=W[0],tt=W[1],et=W[2],at=(W[3]-et)/(+tt/(2*Math.PI)+1),pt=at/(2*Math.PI),ot=new jn({range:[et,et+.99*at]}),Et=new jn({range:[it,tt]}),Xt=1<(W=st/Z)?1:W,Bt=1<W?1/W:1;return{transform:function(St){var zt=St[0],St=St[1],zt=Et.map(zt),St=ot.map(St);return[.5*(Math.cos(zt)*(pt*zt+St)*Xt)+.5,.5*(Math.sin(zt)*(pt*zt+St)*Bt)+.5]},untransform:function(St){var Jt=St[0],St=St[1],Jt=2*(Jt-.5)/Xt,St=2*(St-.5)/Bt,zt=Math.sqrt(Math.pow(Jt,2)+Math.pow(St,2)),St=jt(Math.atan2(St,Jt)+Math.floor(zt/at)*Math.PI*2,it,tt),Jt=zt-pt*St;return[Et.invert(St),ot.invert(Jt)]}}}function Kl(at,$,H,Z,st){var it=at[0],tt=at[1],et=at[2],at=at[3],pt=new jn({range:[et,at]});return{transform:function(ot){for(var Et=[],Xt=ot.length,Bt=new Rr({domain:new Array(Xt).fill(0).map(function(Jt,te){return te}),range:[it,tt]}),Ft=0;Ft<Xt;Ft++){var St=ot[Ft],zt=Bt.map(Ft),St=pt.map(St);Et.push(zt,St)}return Et},untransform:function(ot){for(var Et=[],Xt=0;Xt<ot.length;Xt+=2){var Bt=ot[Xt+1];Et.push(pt.invert(Bt))}return Et}}}var pa=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fr=["January","February","March","April","May","June","July","August","September","October","November","December"],Wi=no(fr,3),Te=(function(W){for(var $=[],H=1;H<arguments.length;H++)$[H-1]=arguments[H];for(var Z=0,st=$;Z<st.length;Z++){var it,tt=st[Z];for(it in tt)W[it]=tt[it]}}({},{dayNamesShort:no(pa,3),dayNames:pa,monthNamesShort:Wi,monthNames:fr,amPm:["am","pm"],DoFn:function(W){return W+["th","st","nd","rd"][3<W%10?0:(W-W%10!=10?1:0)*W%10]}}),function(tt,$,H,Z,st){var it=tt[0],tt=tt[1],et=_t();return it=[it,tt],(tt=et)[0]=it[0],tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=it[1],tt[5]=0,tt[6]=0,tt[7]=0,tt[8]=1,tt});function Yi(W){return 1/Math.tan(W)}function zo(W,$,H,Z,st){var it=Yi(W[0]);return{transform:function(at){var et=at[0],at=at[1];return[et+at*it,at]},untransform:function(at){var et=at[0],at=at[1];return[et-at*it,at]}}}function rc(W,$,H,Z,st){var it=Yi(W[0]);return{transform:function(tt){var et=tt[0];return[et,tt[1]+et*it]},untransform:function(tt){var et=tt[0];return[et,tt[1]-et*it]}}}function pi(W,$,H,et,tt){var it=W<$,tt=(it?$-et:tt-$)||tt-et,et=it?-1:1;return et*tt*(H+1)/(H+tt/((W-$)*et))+$}function Sr(W,$,H,Z,tt){var it=W<$,tt=(it?$-Z:tt-$)||tt-Z;return tt/(tt*(H+1)/(W-$)-H*(it?-1:1))+$}function $e(W,$,H){return H?new jn({range:[0,1],domain:[0,$]}).map(W):W}function ic(et,$,H,Z,st){var it=et[0],tt=et[1],et=et[2],at=$e(it,Z,et!==void 0&&et);return{transform:function(Et){var ot=Et[0],Et=Et[1];return[pi(ot,at,tt,0,1),Et]},untransform:function(Et){var ot=Et[0],Et=Et[1];return[Sr(ot,at,tt,0,1),Et]}}}function Go(et,$,H,Z,st){var it=et[0],tt=et[1],et=et[2],at=$e(it,st,et!==void 0&&et);return{transform:function(pt){return[pt[0],pi(pt[1],at,tt,0,1)]},untransform:function(pt){return[pt[0],Sr(pt[1],at,tt,0,1)]}}}function io(pt,$,H,Z,st){var it=pt[0],tt=pt[1],et=pt[2],at=pt[3],pt=pt[4],ot=$e(it,Z,pt=pt!==void 0&&pt),Et=$e(tt,st,pt);return{transform:function(Ft){var Bt=Ft[0],Ft=Ft[1];return[pi(Bt,ot,et,0,1),pi(Ft,Et,at,0,1)]},untransform:function(Ft){var Bt=Ft[0],Ft=Ft[1];return[Sr(Bt,ot,et,0,1),Sr(Ft,Et,at,0,1)]}}}function ac(pt,$,H,Z,st){var it=pt[0],tt=pt[1],et=pt[2],at=pt[3],pt=(pt=pt[4])!==void 0&&pt,ot=new jn({range:[0,Z]}),Et=new jn({range:[0,st]}),Xt=pt?it:ot.map(it),Bt=pt?tt:Et.map(tt);return{transform:function(St){var zt=St[0],St=St[1],Jt=ot.map(zt)-Xt,te=Et.map(St)-Bt,Pe=Math.sqrt(Jt*Jt+te*te);return et<Pe?[zt,St]:(zt=pi(Pe,0,at,0,et),St=Math.atan2(te,Jt),Pe=Xt+zt*Math.cos(St),te=Bt+zt*Math.sin(St),[ot.invert(Pe),Et.invert(te)])},untransform:function(St){var zt=St[0],St=St[1],Jt=ot.map(zt)-Xt,te=Et.map(St)-Bt,Pe=Math.sqrt(Jt*Jt+te*te);return et<Pe?[zt,St]:(zt=Sr(Pe,0,at,0,et),St=Math.atan2(te,Jt),Pe=Xt+zt*Math.cos(St),te=Bt+zt*Math.sin(St),[ot.invert(Pe),Et.invert(te)])}}}function Ce(W){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ec,translate:ue,custom:nc,matrix:Y,polar:ce,transpose:ha,scale:Te,"shear.x":zo,"shear.y":rc,reflect:Yn,"reflect.x":ro,"reflect.y":fn,rotate:da,helix:Ul,parallel:Kl,fisheye:io,"fisheye.x":ic,"fisheye.y":Go,"fisheye.circular":ac},this.update(W)}Ce.prototype.update=function(W){this.options=At({},this.options,W),this.recoordinate()},Ce.prototype.clone=function(){return new Ce(this.options)},Ce.prototype.getOptions=function(){return this.options},Ce.prototype.clear=function(){this.update({transformations:[]})},Ce.prototype.getSize=function(){var W=this.options;return[W.width,W.height]},Ce.prototype.getCenter=function(){var W=this.options,$=W.x,H=W.y;return[(2*$+W.width)/2,(2*H+W.height)/2]},Ce.prototype.transform=function(){for(var W=[],$=0;$<arguments.length;$++)W[$]=arguments[$];var H=this.options.transformations;return this.update({transformations:se(se([],H,!0),[se([],W,!0)],!1)}),this},Ce.prototype.map=function(W){return this.output(W)},Ce.prototype.invert=function(W){return this.input(W)},Ce.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},Ce.prototype.compose=function(W){for(var $=(W=W===void 0?!1:W)?se([],this.options.transformations,!0).reverse():this.options.transformations,H=W?function(zt){return zt.untransform}:function(zt){return zt.transform},Z=[],st=[],it=function(zt,St){return st.push((St=St===void 0?!0:St)?(Jt=zt,function(te){for(var Pe=[],Kt=0;Kt<te.length-1;Kt+=2){var Oe=[te[Kt],te[Kt+1]],Oe=Jt(Oe);Pe.push.apply(Pe,Oe)}return Pe}):zt);var Jt},tt=0,et=$;tt<et.length;tt++){var at,pt,ot,Et,Bt=et[tt],Xt=Bt[0],Bt=Bt.slice(1),Ft=this.transformers[Xt];Ft&&(at=(Et=this.options).x,pt=Et.y,ot=Et.width,Et=Et.height,Ft=Ft(se([],Bt,!0),at,pt,ot,Et),(Bt=Ft)instanceof Float32Array||Bt instanceof Array?Z.push(Ft):(Z.length&&(it(this.createMatrixTransform(Z,W)),Z.splice(0,Z.length)),it(H(Ft)||lt,Xt!=="parallel")))}return Z.length&&it(this.createMatrixTransform(Z,W)),function(zt){for(var St=[],Jt=1;Jt<arguments.length;Jt++)St[Jt-1]=arguments[Jt];return zt?St.reduce(function(te,Pe){return function(Kt){return Pe(te(Kt))}},zt):lt}.apply(void 0,st)},Ce.prototype.createMatrixTransform=function(W,$){var H,Z,st,it,tt,et,at,pt,ot,Et,Xt,Bt,Ft=_t();return $&&W.reverse(),W.forEach(function(zt){return ne(Ft,Ft,zt)}),$&&($=W=Ft,(Bt=new vt(9))[0]=$[0],Bt[1]=$[1],Bt[2]=$[2],Bt[3]=$[3],Bt[4]=$[4],Bt[5]=$[5],Bt[6]=$[6],Bt[7]=$[7],Bt[8]=$[8],Bt=($=Bt)[0],H=$[1],Z=$[2],st=$[3],it=$[4],tt=$[5],et=$[6],at=$[7],pt=($=$[8])*it-tt*at,(Xt=Bt*pt+H*(ot=-$*st+tt*et)+Z*(Et=at*st-it*et))&&(W[0]=pt*(Xt=1/Xt),W[1]=(-$*H+Z*at)*Xt,W[2]=(tt*H-Z*it)*Xt,W[3]=ot*Xt,W[4]=($*Bt-Z*et)*Xt,W[5]=(-tt*Bt+Z*st)*Xt,W[6]=Et*Xt,W[7]=(-at*Bt+H*et)*Xt,W[8]=(it*Bt-H*st)*Xt)),function(Oe){var St,Jt,te,Pe,Kt,Oe=[Oe[0],Oe[1],1];return te=Ft,Pe=(Jt=St=Oe)[0],Kt=Jt[1],Jt=Jt[2],St[0]=Pe*te[0]+Kt*te[3]+Jt*te[6],St[1]=Pe*te[1]+Kt*te[4]+Jt*te[7],St[2]=Pe*te[2]+Kt*te[5]+Jt*te[8],[Oe[0],Oe[1]]}},xt.Coordinate=Ce,Object.defineProperty(xt,"__esModule",{value:!0})})},87082:function(){},2326:function(yn,ir,xt){"use strict";xt.d(ir,{kL:function(){return Tm}});var se={};xt.r(se),xt.d(se,{add:function(){return PT},adjoint:function(){return uT},clone:function(){return $m},copy:function(){return so},create:function(){return We},determinant:function(){return Ym},equals:function(){return LT},exactEquals:function(){return TT},frob:function(){return MT},fromQuat:function(){return Hh},fromQuat2:function(){return mT},fromRotation:function(){return dT},fromRotationTranslation:function(){return Um},fromRotationTranslationScale:function(){return yT},fromRotationTranslationScaleOrigin:function(){return uc},fromScaling:function(){return qm},fromTranslation:function(){return Xm},fromValues:function(){return lT},fromXRotation:function(){return pT},fromYRotation:function(){return vT},fromZRotation:function(){return gT},frustum:function(){return bT},getRotation:function(){return su},getScaling:function(){return Xo},getTranslation:function(){return ou},identity:function(){return au},invert:function(){return mi},lookAt:function(){return Jm},mul:function(){return CT},multiply:function(){return Un},multiplyScalar:function(){return AT},multiplyScalarAndAdd:function(){return kT},ortho:function(){return Qm},orthoNO:function(){return Zm},orthoZO:function(){return OT},perspective:function(){return xT},perspectiveFromFieldOfView:function(){return wT},perspectiveNO:function(){return Km},perspectiveZO:function(){return _T},rotate:function(){return fT},rotateX:function(){return Hm},rotateY:function(){return Vm},rotateZ:function(){return hT},scale:function(){return Yh},set:function(){return Wh},str:function(){return ET},sub:function(){return NT},subtract:function(){return ty},targetTo:function(){return ST},translate:function(){return ma},transpose:function(){return Wm}});var Pt={};xt.r(Pt),xt.d(Pt,{frequency:function(){return P8},id:function(){return A8},name:function(){return k8},weight:function(){return M8}});var Lt={};xt.r(Lt),xt.d(Lt,{bowtie:function(){return WD},cross:function(){return HD},diamond:function(){return FD},hexagon:function(){return $D},hyphen:function(){return qD},line:function(){return YD},plus:function(){return XD},point:function(){return jw},square:function(){return BD},tick:function(){return VD},triangle:function(){return zD},triangleDown:function(){return GD}});var D={};xt.r(D),xt.d(D,{area:function(){return fz},bottom:function(){return na},bottomLeft:function(){return na},bottomRight:function(){return na},inside:function(){return na},left:function(){return na},outside:function(){return pz},right:function(){return na},spider:function(){return gz},surround:function(){return yz},top:function(){return na},topLeft:function(){return na},topRight:function(){return na}});var It={};xt.r(It),xt.d(It,{geoAlbers:function(){return xA},geoAlbersUsa:function(){return aH},geoAzimuthalEqualArea:function(){return oH},geoAzimuthalEqualAreaRaw:function(){return Pg},geoAzimuthalEquidistant:function(){return sH},geoAzimuthalEquidistantRaw:function(){return Ag},geoConicConformal:function(){return lH},geoConicConformalRaw:function(){return OA},geoConicEqualArea:function(){return Mh},geoConicEqualAreaRaw:function(){return bA},geoConicEquidistant:function(){return fH},geoConicEquidistantRaw:function(){return SA},geoEqualEarth:function(){return dH},geoEqualEarthRaw:function(){return kg},geoEquirectangular:function(){return uH},geoEquirectangularRaw:function(){return Bl},geoGnomonic:function(){return pH},geoGnomonicRaw:function(){return Tg},geoIdentity:function(){return vH},geoMercator:function(){return cH},geoMercatorRaw:function(){return jl},geoNaturalEarth1:function(){return gH},geoNaturalEarth1Raw:function(){return Lg},geoOrthographic:function(){return mH},geoOrthographicRaw:function(){return Cg},geoProjection:function(){return Ni},geoProjectionMutator:function(){return Eg},geoStereographic:function(){return yH},geoStereographicRaw:function(){return Ng},geoTransverseMercator:function(){return bH},geoTransverseMercatorRaw:function(){return Rg}});var Tt={};xt.r(Tt),xt.d(Tt,{interpolateBlues:function(){return NV},interpolateBrBG:function(){return hV},interpolateBuGn:function(){return _V},interpolateBuPu:function(){return wV},interpolateCividis:function(){return FV},interpolateCool:function(){return HV},interpolateCubehelixDefault:function(){return WV},interpolateGnBu:function(){return OV},interpolateGreens:function(){return RV},interpolateGreys:function(){return IV},interpolateInferno:function(){return JV},interpolateMagma:function(){return QV},interpolateOrRd:function(){return SV},interpolateOranges:function(){return BV},interpolatePRGn:function(){return dV},interpolatePiYG:function(){return pV},interpolatePlasma:function(){return tX},interpolatePuBu:function(){return MV},interpolatePuBuGn:function(){return EV},interpolatePuOr:function(){return vV},interpolatePuRd:function(){return PV},interpolatePurples:function(){return DV},interpolateRainbow:function(){return VV},interpolateRdBu:function(){return gV},interpolateRdGy:function(){return mV},interpolateRdPu:function(){return AV},interpolateRdYlBu:function(){return yV},interpolateRdYlGn:function(){return bV},interpolateReds:function(){return jV},interpolateSinebow:function(){return UV},interpolateSpectral:function(){return xV},interpolateTurbo:function(){return KV},interpolateViridis:function(){return ZV},interpolateWarm:function(){return YV},interpolateYlGn:function(){return TV},interpolateYlGnBu:function(){return kV},interpolateYlOrBr:function(){return LV},interpolateYlOrRd:function(){return CV},schemeAccent:function(){return zH},schemeBlues:function(){return hk},schemeBrBG:function(){return HA},schemeBuGn:function(){return tk},schemeBuPu:function(){return ek},schemeCategory10:function(){return FH},schemeDark2:function(){return GH},schemeGnBu:function(){return nk},schemeGreens:function(){return dk},schemeGreys:function(){return pk},schemeOrRd:function(){return rk},schemeOranges:function(){return mk},schemePRGn:function(){return VA},schemePaired:function(){return $H},schemePastel1:function(){return WH},schemePastel2:function(){return YH},schemePiYG:function(){return XA},schemePuBu:function(){return ak},schemePuBuGn:function(){return ik},schemePuOr:function(){return qA},schemePuRd:function(){return ok},schemePurples:function(){return vk},schemeRdBu:function(){return UA},schemeRdGy:function(){return KA},schemeRdPu:function(){return sk},schemeRdYlBu:function(){return ZA},schemeRdYlGn:function(){return QA},schemeReds:function(){return gk},schemeSet1:function(){return HH},schemeSet2:function(){return VH},schemeSet3:function(){return XH},schemeSpectral:function(){return JA},schemeTableau10:function(){return qH},schemeYlGn:function(){return lk},schemeYlGnBu:function(){return ck},schemeYlOrBr:function(){return uk},schemeYlOrRd:function(){return fk}});const mt="main-layer",At="label-layer",lt="element",Gt="view",vt="plot",_t="component",ne="label",jt="area";var ue=xt(3580),Ht=xt.n(ue),Dt={}.toString,ut=function(t,e){return Dt.call(t)==="[object "+e+"]"},J=ut,ft=function(t){return J(t,"Number")},ct=ft;function Ot(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Mt=function(t,e){return Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Mt(t,e)};function gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var q=function(){return q=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q.apply(this,arguments)};function Vt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Me(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function je(t,e){return function(r,n){e(r,n,t)}}function un(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function An(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function Wn(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Cn=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Xl(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cn(e,t,r)}function la(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function ua(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(z(arguments[e]));return t}function Fi(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function kt(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function zi(t){return this instanceof zi?(this.v=t,this):new zi(t)}function qn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(d){return new Promise(function(p,v){a.push([h,d,p,v])>1||s(h,d)})})}function s(h,d){try{c(n[h](d))}catch(p){f(a[0][3],p)}}function c(h){h.value instanceof zi?Promise.resolve(h.value.v).then(l,u):f(a[0][2],h)}function l(h){s("next",h)}function u(h){s("throw",h)}function f(h,d){h(d),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Qr(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:zi(t[i](o)),done:i==="return"}:a?a(o):o}:a}}function Ja(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof la=="function"?la(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function ql(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var fa=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Qs(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cn(e,t,r);return fa(e,t),e}function to(t){return t&&t.__esModule?t:{default:t}}function Gi(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Js(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function tc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}var $i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Bo(t){return Array.isArray(t)&&t.every(function(e){var r=e[0].toLowerCase();return $i[r]===e.length-1&&"achlmqstvz".includes(r)})}function eo(t){return Bo(t)&&t.every(function(e){var r=e[0];return r===r.toUpperCase()})}function Fo(t){return eo(t)&&t.every(function(e){var r=e[0];return"ACLMQZ".includes(r)})}var jn={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Rr(t){return t.map(function(e){return Array.isArray(e)?[].concat(e):e})}function no(t){for(var e=t.pathValue[t.segmentStart],r=e.toLowerCase(),n=t.data;n.length>=$i[r]&&(r==="m"&&n.length>2?(t.segments.push([e].concat(n.splice(0,2))),r="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(n.splice(0,$i[r]))),!!$i[r]););}function ec(t){var e=t.index,r=t.pathValue,n=r.charCodeAt(e);if(n===48){t.param=0,t.index+=1;return}if(n===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'+r[e]+'", expecting 0 or 1 at index '+e}function nc(t){return t>=48&&t<=57||t===43||t===45||t===46}function Y(t){return t>=48&&t<=57}function ce(t){var e=t.max,r=t.pathValue,n=t.index,i=n,a=!1,o=!1,s=!1,c=!1,l;if(i>=e){t.err="[path-util]: Invalid path value at index "+i+', "pathValue" is missing param';return}if(l=r.charCodeAt(i),(l===43||l===45)&&(i+=1,l=r.charCodeAt(i)),!Y(l)&&l!==46){t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" is not a number';return}if(l!==46){if(a=l===48,i+=1,l=r.charCodeAt(i),a&&i<e&&l&&Y(l)){t.err="[path-util]: Invalid path value at index "+n+', "'+r[n]+'" illegal number';return}for(;i<e&&Y(r.charCodeAt(i));)i+=1,o=!0;l=r.charCodeAt(i)}if(l===46){for(c=!0,i+=1;Y(r.charCodeAt(i));)i+=1,s=!0;l=r.charCodeAt(i)}if(l===101||l===69){if(c&&!o&&!s){t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" invalid float exponent';return}if(i+=1,l=r.charCodeAt(i),(l===43||l===45)&&(i+=1),i<e&&Y(r.charCodeAt(i)))for(;i<e&&Y(r.charCodeAt(i));)i+=1;else{t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" invalid integer exponent';return}}t.index=i,t.param=+t.pathValue.slice(n,i)}function ha(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&e.includes(t)}function Yn(t){for(var e=t.pathValue,r=t.max;t.index<r&&ha(e.charCodeAt(t.index));)t.index+=1}function ro(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function fn(t){return(t|32)===97}function da(t){var e=t.max,r=t.pathValue,n=t.index,i=r.charCodeAt(n),a=$i[r[n].toLowerCase()];if(t.segmentStart=n,!ro(i)){t.err='[path-util]: Invalid path value "'+r[n]+'" is not a path command';return}if(t.index+=1,Yn(t),t.data=[],!a){no(t);return}for(;;){for(var o=a;o>0;o-=1){if(fn(i)&&(o===3||o===4)?ec(t):ce(t),t.err.length)return;t.data.push(t.param),Yn(t),t.index<e&&r.charCodeAt(t.index)===44&&(t.index+=1,Yn(t))}if(t.index>=t.max||!nc(r.charCodeAt(t.index)))break}no(t)}var Ul=function(){function t(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Kl(t){if(Bo(t))return Rr(t);var e=new Ul(t);for(Yn(e);e.index<e.max&&!e.err.length;)da(e);return e.err?e.err:e.segments}function pa(t){if(eo(t))return Rr(t);var e=Kl(t),r=0,n=0,i=0,a=0;return e.map(function(o){var s=o.slice(1).map(Number),c=o[0],l=c.toUpperCase();if(c==="M")return r=s[0],n=s[1],i=r,a=n,["M",r,n];var u;if(c!==l)switch(l){case"A":u=[l,s[0],s[1],s[2],s[3],s[4],s[5]+r,s[6]+n];break;case"V":u=[l,s[0]+n];break;case"H":u=[l,s[0]+r];break;default:{var f=s.map(function(d,p){return d+(p%2?n:r)});u=[l].concat(f)}}else u=[l].concat(s);var h=u.length;switch(l){case"Z":r=i,n=a;break;case"H":r=u[1];break;case"V":n=u[1];break;default:r=u[h-2],n=u[h-1],l==="M"&&(i=r,a=n)}return u})}function fr(t,e){var r=t[0],n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=t.slice(1).map(Number),c=t;if("TQ".includes(r)||(e.qx=null,e.qy=null),r==="H")c=["L",t[1],i];else if(r==="V")c=["L",n,t[1]];else if(r==="S"){var l=n*2-a,u=i*2-o;e.x1=l,e.y1=u,c=["C",l,u].concat(s)}else if(r==="T"){var f=n*2-e.qx,h=i*2-e.qy;e.qx=f,e.qy=h,c=["Q",f,h].concat(s)}else if(r==="Q"){var d=s[0],p=s[1];e.qx=d,e.qy=p}return c}function Wi(t){if(Fo(t))return Rr(t);for(var e=pa(t),r=q({},jn),n=0;n<e.length;n+=1){e[n]=fr(e[n],r);var i=e[n],a=i.length;r.x1=+i[a-2],r.y1=+i[a-1],r.x2=+i[a-4]||r.x1,r.y2=+i[a-3]||r.y1}return e}function Te(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return[n+(a-n)*r,i+(o-i)*r]}function Yi(t,e,r,n,i){var a=Ot([t,e],[r,n]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:t,y:e};else if(i>=a)o={x:r,y:n};else{var s=Te([t,e],[r,n],i/a),c=s[0],l=s[1];o={x:c,y:l}}return{length:a,point:o,min:{x:Math.min(t,r),y:Math.min(e,n)},max:{x:Math.max(t,r),y:Math.max(e,n)}}}function zo(t,e){var r=t.x,n=t.y,i=e.x,a=e.y,o=r*i+n*a,s=Math.sqrt((Math.pow(r,2)+Math.pow(n,2))*(Math.pow(i,2)+Math.pow(a,2))),c=r*a-n*i<0?-1:1,l=c*Math.acos(o/s);return l}function rc(t,e,r,n,i,a,o,s,c,l){var u=Math.abs,f=Math.sin,h=Math.cos,d=Math.sqrt,p=Math.PI,v=u(r),g=u(n),m=(i%360+360)%360,b=m*(p/180);if(t===s&&e===c)return{x:t,y:e};if(v===0||g===0)return Yi(t,e,s,c,l).point;var _=(t-s)/2,O=(e-c)/2,E={x:h(b)*_+f(b)*O,y:-f(b)*_+h(b)*O},P=Math.pow(E.x,2)/Math.pow(v,2)+Math.pow(E.y,2)/Math.pow(g,2);P>1&&(v*=d(P),g*=d(P));var A=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(E.y,2)-Math.pow(g,2)*Math.pow(E.x,2),T=Math.pow(v,2)*Math.pow(E.y,2)+Math.pow(g,2)*Math.pow(E.x,2),C=A/T;C=C<0?0:C;var L=(a!==o?1:-1)*d(C),N={x:L*(v*E.y/g),y:L*(-(g*E.x)/v)},x={x:h(b)*N.x-f(b)*N.y+(t+s)/2,y:f(b)*N.x+h(b)*N.y+(e+c)/2},y={x:(E.x-N.x)/v,y:(E.y-N.y)/g},w=zo({x:1,y:0},y),M={x:(-E.x-N.x)/v,y:(-E.y-N.y)/g},S=zo(y,M);!o&&S>0?S-=2*p:o&&S<0&&(S+=2*p),S%=2*p;var k=w+S*l,I=v*h(k),j=g*f(k),F={x:h(b)*I-f(b)*j+x.x,y:f(b)*I+h(b)*j+x.y};return F}function pi(t,e,r,n,i,a,o,s,c,l,u){var f,h=u.bbox,d=h===void 0?!0:h,p=u.length,v=p===void 0?!0:p,g=u.sampleSize,m=g===void 0?30:g,b=typeof l=="number",_=t,O=e,E=0,P=[_,O,E],A=[_,O],T=0,C={x:0,y:0},L=[{x:_,y:O}];b&&l<=0&&(C={x:_,y:O});for(var N=0;N<=m;N+=1){if(T=N/m,f=rc(t,e,r,n,i,a,o,s,c,T),_=f.x,O=f.y,d&&L.push({x:_,y:O}),v&&(E+=Ot(A,[_,O])),A=[_,O],b&&E>=l&&l>P[2]){var x=(E-l)/(E-P[2]);C={x:A[0]*(1-x)+P[0]*x,y:A[1]*(1-x)+P[1]*x}}P=[_,O,E]}return b&&l>=E&&(C={x:s,y:c}),{length:E,point:C,min:{x:Math.min.apply(null,L.map(function(y){return y.x})),y:Math.min.apply(null,L.map(function(y){return y.y}))},max:{x:Math.max.apply(null,L.map(function(y){return y.x})),y:Math.max.apply(null,L.map(function(y){return y.y}))}}}function Sr(t,e,r,n,i,a,o,s,c){var l=1-c;return{x:Math.pow(l,3)*t+3*Math.pow(l,2)*c*r+3*l*Math.pow(c,2)*i+Math.pow(c,3)*o,y:Math.pow(l,3)*e+3*Math.pow(l,2)*c*n+3*l*Math.pow(c,2)*a+Math.pow(c,3)*s}}function $e(t,e,r,n,i,a,o,s,c,l){var u,f=l.bbox,h=f===void 0?!0:f,d=l.length,p=d===void 0?!0:d,v=l.sampleSize,g=v===void 0?10:v,m=typeof c=="number",b=t,_=e,O=0,E=[b,_,O],P=[b,_],A=0,T={x:0,y:0},C=[{x:b,y:_}];m&&c<=0&&(T={x:b,y:_});for(var L=0;L<=g;L+=1){if(A=L/g,u=Sr(t,e,r,n,i,a,o,s,A),b=u.x,_=u.y,h&&C.push({x:b,y:_}),p&&(O+=Ot(P,[b,_])),P=[b,_],m&&O>=c&&c>E[2]){var N=(O-c)/(O-E[2]);T={x:P[0]*(1-N)+E[0]*N,y:P[1]*(1-N)+E[1]*N}}E=[b,_,O]}return m&&c>=O&&(T={x:o,y:s}),{length:O,point:T,min:{x:Math.min.apply(null,C.map(function(x){return x.x})),y:Math.min.apply(null,C.map(function(x){return x.y}))},max:{x:Math.max.apply(null,C.map(function(x){return x.x})),y:Math.max.apply(null,C.map(function(x){return x.y}))}}}function ic(t,e,r,n,i,a,o){var s=1-o;return{x:Math.pow(s,2)*t+2*s*o*r+Math.pow(o,2)*i,y:Math.pow(s,2)*e+2*s*o*n+Math.pow(o,2)*a}}function Go(t,e,r,n,i,a,o,s){var c,l=s.bbox,u=l===void 0?!0:l,f=s.length,h=f===void 0?!0:f,d=s.sampleSize,p=d===void 0?10:d,v=typeof o=="number",g=t,m=e,b=0,_=[g,m,b],O=[g,m],E=0,P={x:0,y:0},A=[{x:g,y:m}];v&&o<=0&&(P={x:g,y:m});for(var T=0;T<=p;T+=1){if(E=T/p,c=ic(t,e,r,n,i,a,E),g=c.x,m=c.y,u&&A.push({x:g,y:m}),h&&(b+=Ot(O,[g,m])),O=[g,m],v&&b>=o&&o>_[2]){var C=(b-o)/(b-_[2]);P={x:O[0]*(1-C)+_[0]*C,y:O[1]*(1-C)+_[1]*C}}_=[g,m,b]}return v&&o>=b&&(P={x:i,y:a}),{length:b,point:P,min:{x:Math.min.apply(null,A.map(function(L){return L.x})),y:Math.min.apply(null,A.map(function(L){return L.y}))},max:{x:Math.max.apply(null,A.map(function(L){return L.x})),y:Math.max.apply(null,A.map(function(L){return L.y}))}}}function io(t,e,r){for(var n,i,a,o,s,c,l=Wi(t),u=typeof e=="number",f,h=[],d,p=0,v=0,g=0,m=0,b,_=[],O=[],E=0,P={x:0,y:0},A=P,T=P,C=P,L=0,N=0,x=l.length;N<x;N+=1)b=l[N],d=b[0],f=d==="M",h=f?h:[p,v].concat(b.slice(1)),f?(g=b[1],m=b[2],P={x:g,y:m},A=P,E=0,u&&e<.001&&(C=P)):d==="L"?(n=Yi(h[0],h[1],h[2],h[3],(e||0)-L),E=n.length,P=n.min,A=n.max,T=n.point):d==="A"?(i=pi(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(e||0)-L,r||{}),E=i.length,P=i.min,A=i.max,T=i.point):d==="C"?(a=$e(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(e||0)-L,r||{}),E=a.length,P=a.min,A=a.max,T=a.point):d==="Q"?(o=Go(h[0],h[1],h[2],h[3],h[4],h[5],(e||0)-L,r||{}),E=o.length,P=o.min,A=o.max,T=o.point):d==="Z"&&(h=[p,v,g,m],s=Yi(h[0],h[1],h[2],h[3],(e||0)-L),E=s.length,P=s.min,A=s.max,T=s.point),u&&L<e&&L+E>=e&&(C=T),O.push(A),_.push(P),L+=E,c=d!=="Z"?b.slice(-2):[g,m],p=c[0],v=c[1];return u&&e>=L&&(C={x:p,y:v}),{length:L,point:C,min:{x:Math.min.apply(null,_.map(function(y){return y.x})),y:Math.min.apply(null,_.map(function(y){return y.y}))},max:{x:Math.max.apply(null,O.map(function(y){return y.x})),y:Math.max.apply(null,O.map(function(y){return y.y}))}}}function ac(t,e){return io(t,void 0,q(q({},e),{bbox:!1,length:!0})).length}var Ce=function(t){return Array.isArray?Array.isArray(t):J(t,"Array")},W=function(t){if(!!Ce(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},$=function(t){if(!!Ce(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},H=1e-5;function Z(t,e,r){return r===void 0&&(r=H),Math.abs(t-e)<r}var st=function(t,e){return(t%e+e)%e},it=st,tt=function(t,e,r){return t<e?e:t>r?r:t},et=tt,at=function(t){return J(t,"String")},pt=function(t){return t==null},ot=pt;function Et(t,e,r){if(t[r].length>7){t[r].shift();for(var n=t[r],i=r;n.length;)e[r]="A",t.splice(i+=1,0,["C"].concat(n.splice(0,6)));t.splice(r,1)}}function Xt(t){return Fo(t)&&t.every(function(e){var r=e[0];return"MC".includes(r)})}function Bt(t,e,r){var n=t*Math.cos(r)-e*Math.sin(r),i=t*Math.sin(r)+e*Math.cos(r);return{x:n,y:i}}function Ft(t,e,r,n,i,a,o,s,c,l){var u=t,f=e,h=r,d=n,p=s,v=c,g=Math.PI*120/180,m=Math.PI/180*(+i||0),b=[],_,O,E,P,A;if(l)O=l[0],E=l[1],P=l[2],A=l[3];else{_=Bt(u,f,-m),u=_.x,f=_.y,_=Bt(p,v,-m),p=_.x,v=_.y;var T=(u-p)/2,C=(f-v)/2,L=T*T/(h*h)+C*C/(d*d);L>1&&(L=Math.sqrt(L),h*=L,d*=L);var N=h*h,x=d*d,y=(a===o?-1:1)*Math.sqrt(Math.abs((N*x-N*C*C-x*T*T)/(N*C*C+x*T*T)));P=y*h*C/d+(u+p)/2,A=y*-d*T/h+(f+v)/2,O=Math.asin(((f-A)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),E=Math.asin(((v-A)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),O=u<P?Math.PI-O:O,E=p<P?Math.PI-E:E,O<0&&(O=Math.PI*2+O),E<0&&(E=Math.PI*2+E),o&&O>E&&(O-=Math.PI*2),!o&&E>O&&(E-=Math.PI*2)}var w=E-O;if(Math.abs(w)>g){var M=E,S=p,k=v;E=O+g*(o&&E>O?1:-1),p=P+h*Math.cos(E),v=A+d*Math.sin(E),b=Ft(p,v,h,d,i,0,o,S,k,[E,M,P,A])}w=E-O;var I=Math.cos(O),j=Math.sin(O),F=Math.cos(E),X=Math.sin(E),K=Math.tan(w/4),Q=4/3*h*K,dt=4/3*d*K,Ct=[u,f],Nt=[u+Q*j,f-dt*I],ee=[p+Q*X,v-dt*F],Yt=[p,v];if(Nt[0]=2*Ct[0]-Nt[0],Nt[1]=2*Ct[1]-Nt[1],l)return Nt.concat(ee,Yt,b);b=Nt.concat(ee,Yt,b);for(var Rt=[],Ut=0,fe=b.length;Ut<fe;Ut+=1)Rt[Ut]=Ut%2?Bt(b[Ut-1],b[Ut],m).y:Bt(b[Ut],b[Ut+1],m).x;return Rt}function zt(t,e,r,n,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*r,o*e+s*n,o*i+s*r,o*a+s*n,i,a]}function St(t,e,r,n){var i=.5,a=[t,e],o=[r,n],s=Te(a,o,i),c=Te(o,s,i),l=Te(s,c,i),u=Te(c,l,i),f=Te(l,u,i),h=Yi(a[0],a[1],s[0],s[1],l[0]).point,d=Yi(f[0],f[1],u[0],u[1],c[0]).point;return[h.x,h.y,d.x,d.y,r,n]}function Jt(t,e){var r=t[0],n=t.slice(1).map(Number),i=n[0],a=n[1],o,s=e.x1,c=e.y1,l=e.x,u=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=i,e.y=a,t;case"A":return o=[s,c].concat(n),["C"].concat(Ft(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return e.qx=i,e.qy=a,o=[s,c].concat(n),["C"].concat(zt(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(St(s,c,i,a));case"Z":return s===l&&c===u?["C",s,c,l,u,l,u]:["C"].concat(St(s,c,l,u));default:}return t}function te(t,e){if(e===void 0&&(e=!1),Xt(t)){var r=Rr(t);return e?[r,[]]:r}for(var n=Wi(t),i=q({},jn),a=[],o="",s=n.length,c,l,u=[],f=0;f<s;f+=1){n[f]&&(o=n[f][0]),a[f]=o;var h=Jt(n[f],i);n[f]=h,Et(n,a,f),s=n.length,o==="Z"&&u.push(f),c=n[f],l=c.length,i.x1=+c[l-2],i.y1=+c[l-1],i.x2=+c[l-4]||i.x1,i.y2=+c[l-3]||i.y1}return e?[n,u]:n}function Pe(t,e){e===void 0&&(e=.5);var r=t.slice(0,2),n=t.slice(2,4),i=t.slice(4,6),a=t.slice(6,8),o=Te(r,n,e),s=Te(n,i,e),c=Te(i,a,e),l=Te(o,s,e),u=Te(s,c,e),f=Te(l,u,e);return[["C"].concat(o,l,f),["C"].concat(u,c,a)]}function Kt(t){return t.map(function(e,r,n){var i=r&&n[r-1].slice(-2).concat(e.slice(1)),a=r?$e(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return r?o=a?Pe(i):[e,e]:o=[e],{s:e,ss:o,l:a}})}function Oe(t,e,r){var n=Kt(t),i=Kt(e),a=n.length,o=i.length,s=n.filter(function(g){return g.l}).length,c=i.filter(function(g){return g.l}).length,l=n.filter(function(g){return g.l}).reduce(function(g,m){var b=m.l;return g+b},0)/s||0,u=i.filter(function(g){return g.l}).reduce(function(g,m){var b=m.l;return g+b},0)/c||0,f=r||Math.max(a,o),h=[l,u],d=[f-a,f-o],p=0,v=[n,i].map(function(g,m){return g.l===f?g.map(function(b){return b.s}):g.map(function(b,_){return p=_&&d[m]&&b.l>=h[m],d[m]-=p?1:0,p?b.ss:[b.s]}).flat()});return v[0].length===v[1].length?v:Oe(v[0],v[1],f)}function Nn(t,e,r,n,i,a,o,s){return 3*((s-e)*(r+i)-(o-t)*(n+a)+n*(t-i)-r*(e-a)+s*(i+t/3)-o*(a+e/3))/20}function Zl(t){var e=0,r=0,n=0;return te(t).map(function(i){var a;switch(i[0]){case"M":return e=i[1],r=i[2],0;default:var o=i.slice(1),s=o[0],c=o[1],l=o[2],u=o[3],f=o[4],h=o[5];return n=Nn(e,r,s,c,l,u,f,h),a=i.slice(-2),e=a[0],r=a[1],n}}).reduce(function(i,a){return i+a},0)}function Hi(t){return Zl(t)>=0}function Ql(t){var e=t.slice(1).map(function(r,n,i){return n?i[n-1].slice(-2).concat(r.slice(1)):t[0].slice(1).concat(r.slice(1))}).map(function(r){return r.map(function(n,i){return r[r.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(r){return["C"].concat(r.slice(2))}))}function Xe(t){var e=t.length,r=e-1;return t.map(function(n,i){return t.map(function(a,o){var s=i+o,c;return o===0||t[s]&&t[s][0]==="M"?(c=t[s],["M"].concat(c.slice(-2))):(s>=e&&(s-=r),t[s])})})}function Jl(t,e){var r=t.length-1,n=[],i=0,a=0,o=Xe(t);return o.forEach(function(s,c){t.slice(1).forEach(function(l,u){a+=Ot(t[(c+u)%r].slice(-2),e[u%r].slice(-2))}),n[c]=a,a=0}),i=n.indexOf(Math.min.apply(null,n)),o[i]}var tu=function(t){return J(t,"Boolean")},eu=tu,vi=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"},oc=function(t){return t===void 0},Le=oc;function ye(t,e,r){return io(t,e,q(q({},r),{bbox:!1,length:!0})).point}function sc(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ao(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function va(){}var Ir=.7,R=1/Ir,B="\\s*([+-]?\\d+)\\s*",V="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",G="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U=/^#([0-9a-f]{3,8})$/,ht=new RegExp("^rgb\\("+[B,B,B]+"\\)$"),ga=new RegExp("^rgb\\("+[G,G,G]+"\\)$"),cc=new RegExp("^rgba\\("+[B,B,B,V]+"\\)$"),$o=new RegExp("^rgba\\("+[G,G,G,V]+"\\)$"),lc=new RegExp("^hsl\\("+[V,G,G]+"\\)$"),Wo=new RegExp("^hsla\\("+[V,G,G,V]+"\\)$"),Yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sc(va,nu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Cm,formatHex:Cm,formatHsl:tT,formatRgb:Nm,toString:Nm});function Cm(){return this.rgb().formatHex()}function tT(){return Bm(this).formatHsl()}function Nm(){return this.rgb().formatRgb()}function nu(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=U.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Rm(e):r===3?new Er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ru(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ru(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ht.exec(t))?new Er(e[1],e[2],e[3],1):(e=ga.exec(t))?new Er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cc.exec(t))?ru(e[1],e[2],e[3],e[4]):(e=$o.exec(t))?ru(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lc.exec(t))?jm(e[1],e[2]/100,e[3]/100,1):(e=Wo.exec(t))?jm(e[1],e[2]/100,e[3]/100,e[4]):Yo.hasOwnProperty(t)?Rm(Yo[t]):t==="transparent"?new Er(NaN,NaN,NaN,0):null}function Rm(t){return new Er(t>>16&255,t>>8&255,t&255,1)}function ru(t,e,r,n){return n<=0&&(t=e=r=NaN),new Er(t,e,r,n)}function eT(t){return t instanceof va||(t=nu(t)),t?(t=t.rgb(),new Er(t.r,t.g,t.b,t.opacity)):new Er}function nT(t,e,r,n){return arguments.length===1?eT(t):new Er(t,e,r,n==null?1:n)}function Er(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}sc(Er,nT,ao(va,{brighter:function(t){return t=t==null?R:Math.pow(R,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Ir:Math.pow(Ir,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Im,formatHex:Im,formatRgb:Dm,toString:Dm}));function Im(){return"#"+Fh(this.r)+Fh(this.g)+Fh(this.b)}function Dm(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Fh(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function jm(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gi(t,e,r,n)}function Bm(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);if(t instanceof va||(t=nu(t)),!t)return new gi;if(t instanceof gi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new gi(o,s,c,t.opacity)}function rT(t,e,r,n){return arguments.length===1?Bm(t):new gi(t,e,r,n==null?1:n)}function gi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}sc(gi,rT,ao(va,{brighter:function(t){return t=t==null?R:Math.pow(R,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Ir:Math.pow(Ir,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Er(zh(t>=240?t-240:t+120,i,n),zh(t,i,n),zh(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function zh(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var ze=1e-6,hn=typeof Float32Array!="undefined"?Float32Array:Array,fU=Math.random;function hU(t){hn=t}var iT=Math.PI/180;function dU(t){return t*iT}function pU(t,e){return Math.abs(t-e)<=ze*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function pe(){var t=new hn(3);return hn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Vi(t){var e=new hn(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xi(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function we(t,e,r){var n=new hn(3);return n[0]=t,n[1]=e,n[2]=r,n}function hr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Jr(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Ho(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Fm(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function aT(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function vU(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function gU(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function mU(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function yU(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function bU(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function xU(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Gh(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function _U(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function oT(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function wU(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function OU(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function SU(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function EU(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function oo(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function ti(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function iu(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],c=r[2];return t[0]=i*c-a*s,t[1]=a*o-n*c,t[2]=n*s-i*o,t}function $h(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}function MU(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,c=o*(a-2)+a,l=o*(a-1),u=o*(3-2*a);return t[0]=e[0]*s+r[0]*c+n[0]*l+i[0]*u,t[1]=e[1]*s+r[1]*c+n[1]*l+i[1]*u,t[2]=e[2]*s+r[2]*c+n[2]*l+i[2]*u,t}function PU(t,e,r,n,i,a){var o=1-a,s=o*o,c=a*a,l=s*o,u=3*a*s,f=3*c*o,h=c*a;return t[0]=e[0]*l+r[0]*u+n[0]*f+i[0]*h,t[1]=e[1]*l+r[1]*u+n[1]*f+i[1]*h,t[2]=e[2]*l+r[2]*u+n[2]*f+i[2]*h,t}function AU(t,e){e=e||1;var r=glMatrix.RANDOM()*2*Math.PI,n=glMatrix.RANDOM()*2-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function Rn(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function sT(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function cT(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],c=e[1],l=e[2],u=i*l-a*c,f=a*s-n*l,h=n*c-i*s,d=i*h-a*f,p=a*u-n*h,v=n*f-i*u,g=o*2;return u*=g,f*=g,h*=g,d*=2,p*=2,v*=2,t[0]=s+u+d,t[1]=c+f+p,t[2]=l+h+v,t}function kU(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function TU(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function LU(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function CU(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],c=Math.sqrt(r*r+n*n+i*i),l=Math.sqrt(a*a+o*o+s*s),u=c*l,f=u&&ti(t,e)/u;return Math.acos(Math.min(Math.max(f,-1),1))}function NU(t){return t[0]=0,t[1]=0,t[2]=0,t}function RU(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function IU(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Vo(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(r-a)<=ze*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=ze*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=ze*Math.max(1,Math.abs(i),Math.abs(s))}var DU=null,jU=null,BU=null,zm=oT,FU=null,Gm=Xi,zU=null,GU=function(){var t=pe();return function(e,r,n,i,a,o){var s,c;for(r||(r=3),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,s=n;s<c;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();function We(){var t=new hn(16);return hn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function $m(t){var e=new hn(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function so(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function lT(t,e,r,n,i,a,o,s,c,l,u,f,h,d,p,v){var g=new hn(16);return g[0]=t,g[1]=e,g[2]=r,g[3]=n,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=c,g[9]=l,g[10]=u,g[11]=f,g[12]=h,g[13]=d,g[14]=p,g[15]=v,g}function Wh(t,e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=c,t[8]=l,t[9]=u,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function au(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wm(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function mi(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],b=r*s-n*o,_=r*c-i*o,O=r*l-a*o,E=n*c-i*s,P=n*l-a*s,A=i*l-a*c,T=u*v-f*p,C=u*g-h*p,L=u*m-d*p,N=f*g-h*v,x=f*m-d*v,y=h*m-d*g,w=b*y-_*x+O*N+E*L-P*C+A*T;return w?(w=1/w,t[0]=(s*y-c*x+l*N)*w,t[1]=(i*x-n*y-a*N)*w,t[2]=(v*A-g*P+m*E)*w,t[3]=(h*P-f*A-d*E)*w,t[4]=(c*L-o*y-l*C)*w,t[5]=(r*y-i*L+a*C)*w,t[6]=(g*O-p*A-m*_)*w,t[7]=(u*A-h*O+d*_)*w,t[8]=(o*x-s*L+l*T)*w,t[9]=(n*L-r*x-a*T)*w,t[10]=(p*P-v*O+m*b)*w,t[11]=(f*O-u*P-d*b)*w,t[12]=(s*C-o*N-c*T)*w,t[13]=(r*N-n*C+i*T)*w,t[14]=(v*_-p*E-g*b)*w,t[15]=(u*E-f*_+h*b)*w,t):null}function uT(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15];return t[0]=s*(h*m-d*g)-f*(c*m-l*g)+v*(c*d-l*h),t[1]=-(n*(h*m-d*g)-f*(i*m-a*g)+v*(i*d-a*h)),t[2]=n*(c*m-l*g)-s*(i*m-a*g)+v*(i*l-a*c),t[3]=-(n*(c*d-l*h)-s*(i*d-a*h)+f*(i*l-a*c)),t[4]=-(o*(h*m-d*g)-u*(c*m-l*g)+p*(c*d-l*h)),t[5]=r*(h*m-d*g)-u*(i*m-a*g)+p*(i*d-a*h),t[6]=-(r*(c*m-l*g)-o*(i*m-a*g)+p*(i*l-a*c)),t[7]=r*(c*d-l*h)-o*(i*d-a*h)+u*(i*l-a*c),t[8]=o*(f*m-d*v)-u*(s*m-l*v)+p*(s*d-l*f),t[9]=-(r*(f*m-d*v)-u*(n*m-a*v)+p*(n*d-a*f)),t[10]=r*(s*m-l*v)-o*(n*m-a*v)+p*(n*l-a*s),t[11]=-(r*(s*d-l*f)-o*(n*d-a*f)+u*(n*l-a*s)),t[12]=-(o*(f*g-h*v)-u*(s*g-c*v)+p*(s*h-c*f)),t[13]=r*(f*g-h*v)-u*(n*g-i*v)+p*(n*h-i*f),t[14]=-(r*(s*g-c*v)-o*(n*g-i*v)+p*(n*c-i*s)),t[15]=r*(s*h-c*f)-o*(n*h-i*f)+u*(n*c-i*s),t}function Ym(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],g=t[15],m=e*o-r*a,b=e*s-n*a,_=e*c-i*a,O=r*s-n*o,E=r*c-i*o,P=n*c-i*s,A=l*p-u*d,T=l*v-f*d,C=l*g-h*d,L=u*v-f*p,N=u*g-h*p,x=f*g-h*v;return m*x-b*N+_*L+O*C-E*T+P*A}function Un(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],m=e[14],b=e[15],_=r[0],O=r[1],E=r[2],P=r[3];return t[0]=_*n+O*s+E*f+P*v,t[1]=_*i+O*c+E*h+P*g,t[2]=_*a+O*l+E*d+P*m,t[3]=_*o+O*u+E*p+P*b,_=r[4],O=r[5],E=r[6],P=r[7],t[4]=_*n+O*s+E*f+P*v,t[5]=_*i+O*c+E*h+P*g,t[6]=_*a+O*l+E*d+P*m,t[7]=_*o+O*u+E*p+P*b,_=r[8],O=r[9],E=r[10],P=r[11],t[8]=_*n+O*s+E*f+P*v,t[9]=_*i+O*c+E*h+P*g,t[10]=_*a+O*l+E*d+P*m,t[11]=_*o+O*u+E*p+P*b,_=r[12],O=r[13],E=r[14],P=r[15],t[12]=_*n+O*s+E*f+P*v,t[13]=_*i+O*c+E*h+P*g,t[14]=_*a+O*l+E*d+P*m,t[15]=_*o+O*u+E*p+P*b,t}function ma(t,e,r){var n=r[0],i=r[1],a=r[2],o,s,c,l,u,f,h,d,p,v,g,m;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],c=e[2],l=e[3],u=e[4],f=e[5],h=e[6],d=e[7],p=e[8],v=e[9],g=e[10],m=e[11],t[0]=o,t[1]=s,t[2]=c,t[3]=l,t[4]=u,t[5]=f,t[6]=h,t[7]=d,t[8]=p,t[9]=v,t[10]=g,t[11]=m,t[12]=o*n+u*i+p*a+e[12],t[13]=s*n+f*i+v*a+e[13],t[14]=c*n+h*i+g*a+e[14],t[15]=l*n+d*i+m*a+e[15]),t}function Yh(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function fT(t,e,r,n){var i=n[0],a=n[1],o=n[2],s=Math.hypot(i,a,o),c,l,u,f,h,d,p,v,g,m,b,_,O,E,P,A,T,C,L,N,x,y,w,M;return s<ze?null:(s=1/s,i*=s,a*=s,o*=s,c=Math.sin(r),l=Math.cos(r),u=1-l,f=e[0],h=e[1],d=e[2],p=e[3],v=e[4],g=e[5],m=e[6],b=e[7],_=e[8],O=e[9],E=e[10],P=e[11],A=i*i*u+l,T=a*i*u+o*c,C=o*i*u-a*c,L=i*a*u-o*c,N=a*a*u+l,x=o*a*u+i*c,y=i*o*u+a*c,w=a*o*u-i*c,M=o*o*u+l,t[0]=f*A+v*T+_*C,t[1]=h*A+g*T+O*C,t[2]=d*A+m*T+E*C,t[3]=p*A+b*T+P*C,t[4]=f*L+v*N+_*x,t[5]=h*L+g*N+O*x,t[6]=d*L+m*N+E*x,t[7]=p*L+b*N+P*x,t[8]=f*y+v*w+_*M,t[9]=h*y+g*w+O*M,t[10]=d*y+m*w+E*M,t[11]=p*y+b*w+P*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Hm(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*n,t[5]=o*i+u*n,t[6]=s*i+f*n,t[7]=c*i+h*n,t[8]=l*i-a*n,t[9]=u*i-o*n,t[10]=f*i-s*n,t[11]=h*i-c*n,t}function Vm(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],c=e[3],l=e[8],u=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*n,t[1]=o*i-u*n,t[2]=s*i-f*n,t[3]=c*i-h*n,t[8]=a*n+l*i,t[9]=o*n+u*i,t[10]=s*n+f*i,t[11]=c*n+h*i,t}function hT(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],c=e[3],l=e[4],u=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*n,t[1]=o*i+u*n,t[2]=s*i+f*n,t[3]=c*i+h*n,t[4]=l*i-a*n,t[5]=u*i-o*n,t[6]=f*i-s*n,t[7]=h*i-c*n,t}function Xm(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function qm(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dT(t,e,r){var n=r[0],i=r[1],a=r[2],o=Math.hypot(n,i,a),s,c,l;return o<ze?null:(o=1/o,n*=o,i*=o,a*=o,s=Math.sin(e),c=Math.cos(e),l=1-c,t[0]=n*n*l+c,t[1]=i*n*l+a*s,t[2]=a*n*l-i*s,t[3]=0,t[4]=n*i*l-a*s,t[5]=i*i*l+c,t[6]=a*i*l+n*s,t[7]=0,t[8]=n*a*l+i*s,t[9]=i*a*l-n*s,t[10]=a*a*l+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function pT(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vT(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gT(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Um(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,c=i+i,l=a+a,u=n*s,f=n*c,h=n*l,d=i*c,p=i*l,v=a*l,g=o*s,m=o*c,b=o*l;return t[0]=1-(d+v),t[1]=f+b,t[2]=h-m,t[3]=0,t[4]=f-b,t[5]=1-(u+v),t[6]=p+g,t[7]=0,t[8]=h+m,t[9]=p-g,t[10]=1-(u+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function mT(t,e){var r=new hn(3),n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=n*n+i*i+a*a+o*o;return f>0?(r[0]=(s*o+u*n+c*a-l*i)*2/f,r[1]=(c*o+u*i+l*n-s*a)*2/f,r[2]=(l*o+u*a+s*i-c*n)*2/f):(r[0]=(s*o+u*n+c*a-l*i)*2,r[1]=(c*o+u*i+l*n-s*a)*2,r[2]=(l*o+u*a+s*i-c*n)*2),Um(t,e,r),t}function ou(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Xo(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],c=e[8],l=e[9],u=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(c,l,u),t}function su(t,e){var r=new hn(3);Xo(r,e);var n=1/r[0],i=1/r[1],a=1/r[2],o=e[0]*n,s=e[1]*i,c=e[2]*a,l=e[4]*n,u=e[5]*i,f=e[6]*a,h=e[8]*n,d=e[9]*i,p=e[10]*a,v=o+u+p,g=0;return v>0?(g=Math.sqrt(v+1)*2,t[3]=.25*g,t[0]=(f-d)/g,t[1]=(h-c)/g,t[2]=(s-l)/g):o>u&&o>p?(g=Math.sqrt(1+o-u-p)*2,t[3]=(f-d)/g,t[0]=.25*g,t[1]=(s+l)/g,t[2]=(h+c)/g):u>p?(g=Math.sqrt(1+u-o-p)*2,t[3]=(h-c)/g,t[0]=(s+l)/g,t[1]=.25*g,t[2]=(f+d)/g):(g=Math.sqrt(1+p-o-u)*2,t[3]=(s-l)/g,t[0]=(h+c)/g,t[1]=(f+d)/g,t[2]=.25*g),t}function yT(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],c=i+i,l=a+a,u=o+o,f=i*c,h=i*l,d=i*u,p=a*l,v=a*u,g=o*u,m=s*c,b=s*l,_=s*u,O=n[0],E=n[1],P=n[2];return t[0]=(1-(p+g))*O,t[1]=(h+_)*O,t[2]=(d-b)*O,t[3]=0,t[4]=(h-_)*E,t[5]=(1-(f+g))*E,t[6]=(v+m)*E,t[7]=0,t[8]=(d+b)*P,t[9]=(v-m)*P,t[10]=(1-(f+p))*P,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function uc(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],c=e[3],l=a+a,u=o+o,f=s+s,h=a*l,d=a*u,p=a*f,v=o*u,g=o*f,m=s*f,b=c*l,_=c*u,O=c*f,E=n[0],P=n[1],A=n[2],T=i[0],C=i[1],L=i[2],N=(1-(v+m))*E,x=(d+O)*E,y=(p-_)*E,w=(d-O)*P,M=(1-(h+m))*P,S=(g+b)*P,k=(p+_)*A,I=(g-b)*A,j=(1-(h+v))*A;return t[0]=N,t[1]=x,t[2]=y,t[3]=0,t[4]=w,t[5]=M,t[6]=S,t[7]=0,t[8]=k,t[9]=I,t[10]=j,t[11]=0,t[12]=r[0]+T-(N*T+w*C+k*L),t[13]=r[1]+C-(x*T+M*C+I*L),t[14]=r[2]+L-(y*T+S*C+j*L),t[15]=1,t}function Hh(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,c=i+i,l=r*o,u=n*o,f=n*s,h=i*o,d=i*s,p=i*c,v=a*o,g=a*s,m=a*c;return t[0]=1-f-p,t[1]=u+m,t[2]=h-g,t[3]=0,t[4]=u-m,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bT(t,e,r,n,i,a,o){var s=1/(r-e),c=1/(i-n),l=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*c,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*c,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t}function Km(t,e,r,n,i){var a=1/Math.tan(e/2),o;return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(n-i),t[10]=(i+n)*o,t[14]=2*i*n*o):(t[10]=-1,t[14]=-2*n),t}var xT=Km;function _T(t,e,r,n,i){var a=1/Math.tan(e/2),o;return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(n-i),t[10]=i*o,t[14]=i*n*o):(t[10]=-1,t[14]=-n),t}function wT(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+s),l=2/(i+a);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((o-s)*c*.5),t[9]=(i-a)*l*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Zm(t,e,r,n,i,a,o){var s=1/(e-r),c=1/(n-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*c,t[14]=(o+a)*l,t[15]=1,t}var Qm=Zm;function OT(t,e,r,n,i,a,o){var s=1/(e-r),c=1/(n-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*c,t[14]=a*l,t[15]=1,t}function Jm(t,e,r,n){var i,a,o,s,c,l,u,f,h,d,p=e[0],v=e[1],g=e[2],m=n[0],b=n[1],_=n[2],O=r[0],E=r[1],P=r[2];return Math.abs(p-O)<ze&&Math.abs(v-E)<ze&&Math.abs(g-P)<ze?au(t):(u=p-O,f=v-E,h=g-P,d=1/Math.hypot(u,f,h),u*=d,f*=d,h*=d,i=b*h-_*f,a=_*u-m*h,o=m*f-b*u,d=Math.hypot(i,a,o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=f*o-h*a,c=h*i-u*o,l=u*a-f*i,d=Math.hypot(s,c,l),d?(d=1/d,s*=d,c*=d,l*=d):(s=0,c=0,l=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=c,t[6]=f,t[7]=0,t[8]=o,t[9]=l,t[10]=h,t[11]=0,t[12]=-(i*p+a*v+o*g),t[13]=-(s*p+c*v+l*g),t[14]=-(u*p+f*v+h*g),t[15]=1,t)}function ST(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],c=n[1],l=n[2],u=i-r[0],f=a-r[1],h=o-r[2],d=u*u+f*f+h*h;d>0&&(d=1/Math.sqrt(d),u*=d,f*=d,h*=d);var p=c*h-l*f,v=l*u-s*h,g=s*f-c*u;return d=p*p+v*v+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=f*g-h*v,t[5]=h*p-u*g,t[6]=u*v-f*p,t[7]=0,t[8]=u,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function ET(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function MT(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function PT(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function ty(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function AT(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function kT(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function TT(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function LT(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],m=t[15],b=e[0],_=e[1],O=e[2],E=e[3],P=e[4],A=e[5],T=e[6],C=e[7],L=e[8],N=e[9],x=e[10],y=e[11],w=e[12],M=e[13],S=e[14],k=e[15];return Math.abs(r-b)<=ze*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-_)<=ze*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-O)<=ze*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-E)<=ze*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(o-P)<=ze*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(s-A)<=ze*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-T)<=ze*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-C)<=ze*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-L)<=ze*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(f-N)<=ze*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(h-x)<=ze*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(d-y)<=ze*Math.max(1,Math.abs(d),Math.abs(y))&&Math.abs(p-w)<=ze*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(v-M)<=ze*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(g-S)<=ze*Math.max(1,Math.abs(g),Math.abs(S))&&Math.abs(m-k)<=ze*Math.max(1,Math.abs(m),Math.abs(k))}var CT=Un,NT=ty;function ey(){var t=new hn(9);return hn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function RT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function $U(t){var e=new glMatrix.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function WU(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function IT(t,e,r,n,i,a,o,s,c){var l=new hn(9);return l[0]=t,l[1]=e,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=c,l}function YU(t,e,r,n,i,a,o,s,c,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=c,t[8]=l,t}function HU(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function VU(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function XU(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=u*o-s*l,h=-u*a+s*c,d=l*a-o*c,p=r*f+n*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-u*n+i*l)*p,t[2]=(s*n-i*o)*p,t[3]=h*p,t[4]=(u*r-i*c)*p,t[5]=(-s*r+i*a)*p,t[6]=d*p,t[7]=(-l*r+n*c)*p,t[8]=(o*r-n*a)*p,t):null}function qU(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return t[0]=o*u-s*l,t[1]=i*l-n*u,t[2]=n*s-i*o,t[3]=s*c-a*u,t[4]=r*u-i*c,t[5]=i*a-r*s,t[6]=a*l-o*c,t[7]=n*c-r*l,t[8]=r*o-n*a,t}function UU(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7],l=t[8];return e*(l*a-o*c)+r*(-l*i+o*s)+n*(c*i-a*s)}function KU(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=r[0],d=r[1],p=r[2],v=r[3],g=r[4],m=r[5],b=r[6],_=r[7],O=r[8];return t[0]=h*n+d*o+p*l,t[1]=h*i+d*s+p*u,t[2]=h*a+d*c+p*f,t[3]=v*n+g*o+m*l,t[4]=v*i+g*s+m*u,t[5]=v*a+g*c+m*f,t[6]=b*n+_*o+O*l,t[7]=b*i+_*s+O*u,t[8]=b*a+_*c+O*f,t}function ZU(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=c,t[6]=h*n+d*o+l,t[7]=h*i+d*s+u,t[8]=h*a+d*c+f,t}function QU(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*s,t[2]=d*a+h*c,t[3]=d*o-h*n,t[4]=d*s-h*i,t[5]=d*c-h*a,t[6]=l,t[7]=u,t[8]=f,t}function JU(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function tK(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function eK(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function nK(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function rK(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function iK(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,c=i+i,l=r*o,u=n*o,f=n*s,h=i*o,d=i*s,p=i*c,v=a*o,g=a*s,m=a*c;return t[0]=1-f-p,t[3]=u-m,t[6]=h+g,t[1]=u+m,t[4]=1-l-p,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-l-f,t}function aK(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],b=r*s-n*o,_=r*c-i*o,O=r*l-a*o,E=n*c-i*s,P=n*l-a*s,A=i*l-a*c,T=u*v-f*p,C=u*g-h*p,L=u*m-d*p,N=f*g-h*v,x=f*m-d*v,y=h*m-d*g,w=b*y-_*x+O*N+E*L-P*C+A*T;return w?(w=1/w,t[0]=(s*y-c*x+l*N)*w,t[1]=(c*L-o*y-l*C)*w,t[2]=(o*x-s*L+l*T)*w,t[3]=(i*x-n*y-a*N)*w,t[4]=(r*y-i*L+a*C)*w,t[5]=(n*L-r*x-a*T)*w,t[6]=(v*A-g*P+m*E)*w,t[7]=(g*O-p*A-m*_)*w,t[8]=(p*P-v*O+m*b)*w,t):null}function oK(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function sK(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function cK(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function lK(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function uK(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function fK(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function hK(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function dK(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function pK(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],f=e[0],h=e[1],d=e[2],p=e[3],v=e[4],g=e[5],m=e[6],b=e[7],_=e[8];return Math.abs(r-f)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=glMatrix.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=glMatrix.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-g)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-m)<=glMatrix.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-b)<=glMatrix.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(u-_)<=glMatrix.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))}var vK=null,gK=null;function qo(){var t=new hn(4);return hn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function DT(t){var e=new hn(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function jT(t,e,r,n){var i=new hn(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function BT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function FT(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function zT(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function mK(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function yK(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function bK(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function xK(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function _K(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function wK(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function OK(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function SK(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function GT(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function EK(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function MK(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(r,n,i,a)}function PK(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function $T(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function WT(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function AK(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function kK(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function YT(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function HT(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function TK(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],c=r[1]*n[3]-r[3]*n[1],l=r[2]*n[3]-r[3]*n[2],u=e[0],f=e[1],h=e[2],d=e[3];return t[0]=f*l-h*c+d*s,t[1]=-(u*l)+h*o-d*a,t[2]=u*c-f*o+d*i,t[3]=-(u*s)+f*a-h*i,t}function VT(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function LK(t,e){e=e||1;var r,n,i,a,o,s;do r=glMatrix.RANDOM()*2-1,n=glMatrix.RANDOM()*2-1,o=r*r+n*n;while(o>=1);do i=glMatrix.RANDOM()*2-1,a=glMatrix.RANDOM()*2-1,s=i*i+a*a;while(s>=1);var c=Math.sqrt((1-o)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*i*c,t[3]=e*a*c,t}function fc(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function CK(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],c=r[2],l=r[3],u=l*n+s*a-c*i,f=l*i+c*n-o*a,h=l*a+o*i-s*n,d=-o*n-s*i-c*a;return t[0]=u*l+d*-o+f*-c-h*-s,t[1]=f*l+d*-s+h*-o-u*-c,t[2]=h*l+d*-c+u*-s-f*-o,t[3]=e[3],t}function NK(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function RK(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function XT(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function qT(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(r-o)<=ze*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=ze*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-c)<=ze*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=ze*Math.max(1,Math.abs(a),Math.abs(l))}var IK=null,DK=null,jK=null,BK=null,FK=null,zK=null,GK=null,$K=function(){var t=qo();return function(e,r,n,i,a,o){var s,c;for(r||(r=4),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,s=n;s<c;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Sn(){var t=new hn(4);return hn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function WK(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function ya(t,e,r){r=r*.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function YK(t,e){var r=Math.acos(e[3])*2,n=Math.sin(r/2);return n>glMatrix.EPSILON?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function HK(t,e){var r=JT(t,e);return Math.acos(2*r*r-1)}function ba(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],c=r[1],l=r[2],u=r[3];return t[0]=n*u+o*s+i*l-a*c,t[1]=i*u+o*c+a*s-n*l,t[2]=a*u+o*l+n*c-i*s,t[3]=o*u-n*s-i*c-a*l,t}function VK(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),c=Math.cos(r);return t[0]=n*c+o*s,t[1]=i*c+a*s,t[2]=a*c-i*s,t[3]=o*c-n*s,t}function XK(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),c=Math.cos(r);return t[0]=n*c-a*s,t[1]=i*c+o*s,t[2]=a*c+n*s,t[3]=o*c-i*s,t}function qK(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*s,t[1]=i*c-n*s,t[2]=a*c+o*s,t[3]=o*c-a*s,t}function UK(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function UT(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),c=o>0?s*Math.sin(o)/o:0;return t[0]=r*c,t[1]=n*c,t[2]=i*c,t[3]=s*Math.cos(o),t}function KT(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function KK(t,e,r){return KT(t,e),QT(t,t,r),UT(t,t),t}function Vh(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],c=r[0],l=r[1],u=r[2],f=r[3],h,d,p,v,g;return d=i*c+a*l+o*u+s*f,d<0&&(d=-d,c=-c,l=-l,u=-u,f=-f),1-d>ze?(h=Math.acos(d),p=Math.sin(h),v=Math.sin((1-n)*h)/p,g=Math.sin(n*h)/p):(v=1-n,g=n),t[0]=v*i+g*c,t[1]=v*a+g*l,t[2]=v*o+g*u,t[3]=v*s+g*f,t}function ZK(t){var e=glMatrix.RANDOM(),r=glMatrix.RANDOM(),n=glMatrix.RANDOM(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t}function Xh(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t}function QK(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function ZT(t,e){var r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[i*3+i]-e[a*3+a]-e[o*3+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[a*3+o]-e[o*3+a])*n,t[a]=(e[a*3+i]+e[i*3+a])*n,t[o]=(e[o*3+i]+e[i*3+o])*n}return t}function cu(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),c=Math.cos(r),l=Math.sin(n),u=Math.cos(n);return t[0]=a*c*u-o*s*l,t[1]=o*s*u+a*c*l,t[2]=o*c*l-a*s*u,t[3]=o*c*u+a*s*l,t}function JK(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var tZ=DT,qh=jT,lu=BT,eZ=FT,nZ=zT,ny=ba,QT=GT,JT=HT,rZ=VT,iZ=$T,aZ=null,oZ=WT,sZ=null,uu=YT,cZ=XT,lZ=qT,uZ=function(){var t=pe(),e=we(1,0,0),r=we(0,1,0);return function(n,i,a){var o=ti(i,a);return o<-.999999?(iu(t,e,i),Gm(t)<1e-6&&iu(t,r,i),oo(t,t),ya(n,t,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(iu(t,i,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+o,uu(n,n))}}(),fZ=function(){var t=Sn(),e=Sn();return function(r,n,i,a,o,s){return Vh(t,n,o,s),Vh(e,i,a,s),Vh(r,t,e,2*s*(1-s)),r}}(),hZ=function(){var t=ey();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],uu(e,ZT(e,t))}}();function tL(){var t=new hn(2);return hn!=Float32Array&&(t[0]=0,t[1]=0),t}function dZ(t){var e=new glMatrix.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function eL(t,e){var r=new hn(2);return r[0]=t,r[1]=e,r}function nL(t,e){return t[0]=e[0],t[1]=e[1],t}function pZ(t,e,r){return t[0]=e,t[1]=r,t}function hc(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function rL(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function vZ(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function gZ(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function mZ(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function yZ(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function co(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function lo(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function bZ(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function qi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function xZ(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function ry(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function _Z(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function wZ(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function OZ(t){var e=t[0],r=t[1];return e*e+r*r}function SZ(t,e){return t[0]=-e[0],t[1]=-e[1],t}function EZ(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function fu(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function iy(t,e){return t[0]*e[0]+t[1]*e[1]}function MZ(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function PZ(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function AZ(t,e){e=e||1;var r=glMatrix.RANDOM()*2*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function kZ(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function TZ(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function LZ(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function CZ(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function iL(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=i*s-a*o+r[0],t[1]=i*o+a*s+r[1],t}function NZ(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function RZ(t){return t[0]=0,t[1]=0,t}function IZ(t){return"vec2("+t[0]+", "+t[1]+")"}function ay(t,e){return t[0]===e[0]&&t[1]===e[1]}function DZ(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))}var jZ=null,Uh=rL,BZ=null,FZ=null,zZ=null,GZ=null,$Z=null,WZ=function(){var t=tL();return function(e,r,n,i,a,o){var s,c;for(r||(r=2),n||(n=0),i?c=Math.min(i*r+n,e.length):c=e.length,s=n;s<c;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}();function Hn(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)}function dc(t,e){return Math.abs(t-e)<.001}function pc(t,e){var r=Math.min.apply(Math,t),n=Math.min.apply(Math,e),i=Math.max.apply(Math,t),a=Math.max.apply(Math,e);return{x:r,y:n,width:i-r,height:a-n}}function aL(t,e,r,n){return{minX:Math.min(t,r),maxX:Math.max(t,r),minY:Math.min(e,n),maxY:Math.max(e,n)}}function vc(t){return(t+Math.PI*2)%(Math.PI*2)}var YZ=Object.freeze({__proto__:null,distance:Hn,isNumberEqual:dc,getBBoxByArray:pc,getBBoxRange:aL,piMod:vc}),Mr={box:function(e,r,n,i){return pc([e,n],[r,i])},length:function(e,r,n,i){return Hn(e,r,n,i)},pointAt:function(e,r,n,i,a){return{x:(1-a)*e+a*n,y:(1-a)*r+a*i}},pointDistance:function(e,r,n,i,a,o){var s=(n-e)*(a-e)+(i-r)*(o-r);if(s<0)return Hn(e,r,a,o);var c=(n-e)*(n-e)+(i-r)*(i-r);return s>c?Hn(n,i,a,o):this.pointToLine(e,r,n,i,a,o)},pointToLine:function(e,r,n,i,a,o){var s=[n-e,i-r];if(ay(s,[0,0]))return Math.sqrt((a-e)*(a-e)+(o-r)*(o-r));var c=[-s[1],s[0]];fu(c,c);var l=[a-e,o-r];return Math.abs(iy(l,c))},tangentAngle:function(e,r,n,i){return Math.atan2(i-r,n-e)}},oL=1e-4;function oy(t,e,r,n,i,a){var o=-1,s=1/0,c=[r,n],l=20;a&&a>200&&(l=a/10);for(var u=1/l,f=u/10,h=0;h<=l;h++){var d=h*u,p=[i.apply(void 0,t.concat([d])),i.apply(void 0,e.concat([d]))],v=Hn(c[0],c[1],p[0],p[1]);v<s&&(o=d,s=v)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(var m=0;m<32&&!(f<oL);m++){var b=o-f,_=o+f,O=[i.apply(void 0,t.concat([b])),i.apply(void 0,e.concat([b]))],E=Hn(c[0],c[1],O[0],O[1]);if(b>=0&&E<s)o=b,s=E;else{var P=[i.apply(void 0,t.concat([_])),i.apply(void 0,e.concat([_]))],A=Hn(c[0],c[1],P[0],P[1]);_<=1&&A<s?(o=_,s=A):f*=.5}}return{x:i.apply(void 0,t.concat([o])),y:i.apply(void 0,e.concat([o]))}}function sL(t,e){for(var r=0,n=t.length,i=0;i<n;i++){var a=t[i],o=e[i],s=t[(i+1)%n],c=e[(i+1)%n];r+=Hn(a,o,s,c)}return r/2}function xa(t,e,r,n){var i=1-n;return i*i*t+2*n*i*e+n*n*r}function sy(t,e,r){var n=t+r-2*e;if(dc(n,0))return[.5];var i=(t-e)/n;return i<=1&&i>=0?[i]:[]}function cy(t,e,r,n){return 2*(1-n)*(e-t)+2*n*(r-e)}function ly(t,e,r,n,i,a,o){var s=xa(t,r,i,o),c=xa(e,n,a,o),l=Mr.pointAt(t,e,r,n,o),u=Mr.pointAt(r,n,i,a,o);return[[t,e,l.x,l.y,s,c],[s,c,u.x,u.y,i,a]]}function Kh(t,e,r,n,i,a,o){if(o===0)return(Hn(t,e,r,n)+Hn(r,n,i,a)+Hn(t,e,i,a))/2;var s=ly(t,e,r,n,i,a,.5),c=s[0],l=s[1];return c.push(o-1),l.push(o-1),Kh.apply(void 0,c)+Kh.apply(void 0,l)}var cL={box:function(e,r,n,i,a,o){var s=sy(e,n,a)[0],c=sy(r,i,o)[0],l=[e,a],u=[r,o];return s!==void 0&&l.push(xa(e,n,a,s)),c!==void 0&&u.push(xa(r,i,o,c)),pc(l,u)},length:function(e,r,n,i,a,o){return Kh(e,r,n,i,a,o,3)},nearestPoint:function(e,r,n,i,a,o,s,c){return oy([e,n,a],[r,i,o],s,c,xa)},pointDistance:function(e,r,n,i,a,o,s,c){var l=this.nearestPoint(e,r,n,i,a,o,s,c);return Hn(l.x,l.y,s,c)},interpolationAt:xa,pointAt:function(e,r,n,i,a,o,s){return{x:xa(e,n,a,s),y:xa(r,i,o,s)}},divide:function(e,r,n,i,a,o,s){return ly(e,r,n,i,a,o,s)},tangentAngle:function(e,r,n,i,a,o,s){var c=cy(e,n,a,s),l=cy(r,i,o,s),u=Math.atan2(l,c);return vc(u)}};function _a(t,e,r,n,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*r*i*i*a+n*i*i*i}function uy(t,e,r,n,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(r-e)+i*i*(n-r))}function Zh(t,e,r,n){var i=-3*t+9*e-9*r+3*n,a=6*t-12*e+6*r,o=3*e-3*t,s=[],c,l,u;if(dc(i,0))dc(a,0)||(c=-o/a,c>=0&&c<=1&&s.push(c));else{var f=a*a-4*i*o;dc(f,0)?s.push(-a/(2*i)):f>0&&(u=Math.sqrt(f),c=(-a+u)/(2*i),l=(-a-u)/(2*i),c>=0&&c<=1&&s.push(c),l>=0&&l<=1&&s.push(l))}return s}function fy(t,e,r,n,i,a,o,s,c){var l=_a(t,r,i,o,c),u=_a(e,n,a,s,c),f=Mr.pointAt(t,e,r,n,c),h=Mr.pointAt(r,n,i,a,c),d=Mr.pointAt(i,a,o,s,c),p=Mr.pointAt(f.x,f.y,h.x,h.y,c),v=Mr.pointAt(h.x,h.y,d.x,d.y,c);return[[t,e,f.x,f.y,p.x,p.y,l,u],[l,u,v.x,v.y,d.x,d.y,o,s]]}function Qh(t,e,r,n,i,a,o,s,c){if(c===0)return sL([t,r,i,o],[e,n,a,s]);var l=fy(t,e,r,n,i,a,o,s,.5),u=[].concat(l[0],[c-1]),f=[].concat(l[1],[c-1]);return Qh.apply(void 0,u)+Qh.apply(void 0,f)}var lL={extrema:Zh,box:function(e,r,n,i,a,o,s,c){for(var l=[e,s],u=[r,c],f=Zh(e,n,a,s),h=Zh(r,i,o,c),d=0;d<f.length;d++)l.push(_a(e,n,a,s,f[d]));for(var p=0;p<h.length;p++)u.push(_a(r,i,o,c,h[p]));return pc(l,u)},length:function(e,r,n,i,a,o,s,c){return Qh(e,r,n,i,a,o,s,c,3)},nearestPoint:function(e,r,n,i,a,o,s,c,l,u,f){return oy([e,n,a,s],[r,i,o,c],l,u,_a,f)},pointDistance:function(e,r,n,i,a,o,s,c,l,u,f){var h=this.nearestPoint(e,r,n,i,a,o,s,c,l,u,f);return Hn(h.x,h.y,l,u)},interpolationAt:_a,pointAt:function(e,r,n,i,a,o,s,c,l){return{x:_a(e,n,a,s,l),y:_a(r,i,o,c,l)}},divide:function(e,r,n,i,a,o,s,c,l){return fy(e,r,n,i,a,o,s,c,l)},tangentAngle:function(e,r,n,i,a,o,s,c,l){var u=uy(e,n,a,s,l),f=uy(r,i,o,c,l);return vc(Math.atan2(f,u))}};function hy(t,e){var r=Math.abs(t);return e>0?r:r*-1}var uL={box:function(e,r,n,i){return{x:e-n,y:r-i,width:n*2,height:i*2}},length:function(e,r,n,i){return Math.PI*(3*(n+i)-Math.sqrt((3*n+i)*(n+3*i)))},nearestPoint:function(e,r,n,i,a,o){var s=n,c=i;if(s===0||c===0)return{x:e,y:r};for(var l=a-e,u=o-r,f=Math.abs(l),h=Math.abs(u),d=s*s,p=c*c,v=Math.PI/4,g=0,m=0,b=0;b<4;b++){g=s*Math.cos(v),m=c*Math.sin(v);var _=(d-p)*Math.pow(Math.cos(v),3)/s,O=(p-d)*Math.pow(Math.sin(v),3)/c,E=g-_,P=m-O,A=f-_,T=h-O,C=Math.hypot(P,E),L=Math.hypot(T,A),N=C*Math.asin((E*T-P*A)/(C*L)),x=N/Math.sqrt(d+p-g*g-m*m);v+=x,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:e+hy(g,l),y:r+hy(m,u)}},pointDistance:function(e,r,n,i,a,o){var s=this.nearestPoint(e,r,n,i,a,o);return Hn(s.x,s.y,a,o)},pointAt:function(e,r,n,i,a){var o=2*Math.PI*a;return{x:e+n*Math.cos(o),y:r+i*Math.sin(o)}},tangentAngle:function(e,r,n,i,a){var o=2*Math.PI*a,s=Math.atan2(i*Math.cos(o),-n*Math.sin(o));return vc(s)}};function fL(t,e,r,n,i,a,o,s){return-1*r*Math.cos(i)*Math.sin(s)-n*Math.sin(i)*Math.cos(s)}function hL(t,e,r,n,i,a,o,s){return-1*r*Math.sin(i)*Math.sin(s)+n*Math.cos(i)*Math.cos(s)}function dL(t,e,r){return Math.atan(-e/t*Math.tan(r))}function pL(t,e,r){return Math.atan(e/(t*Math.tan(r)))}function dy(t,e,r,n,i,a){return r*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+t}function py(t,e,r,n,i,a){return r*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+e}function vL(t,e,r,n){var i=Math.atan2(n*t,r*e);return(i+Math.PI*2)%(Math.PI*2)}function vy(t,e,r){return{x:t*Math.cos(r),y:e*Math.sin(r)}}function gy(t,e,r){var n=Math.cos(r),i=Math.sin(r);return[t*n-e*i,t*i+e*n]}var gL={box:function(e,r,n,i,a,o,s){for(var c=dL(n,i,a),l=1/0,u=-1/0,f=[o,s],h=-Math.PI*2;h<=Math.PI*2;h+=Math.PI){var d=c+h;o<s?o<d&&d<s&&f.push(d):s<d&&d<o&&f.push(d)}for(var p=0;p<f.length;p++){var v=dy(e,r,n,i,a,f[p]);v<l&&(l=v),v>u&&(u=v)}for(var g=pL(n,i,a),m=1/0,b=-1/0,_=[o,s],O=-Math.PI*2;O<=Math.PI*2;O+=Math.PI){var E=g+O;o<s?o<E&&E<s&&_.push(E):s<E&&E<o&&_.push(E)}for(var P=0;P<_.length;P++){var A=py(e,r,n,i,a,_[P]);A<m&&(m=A),A>b&&(b=A)}return{x:l,y:m,width:u-l,height:b-m}},length:function(e,r,n,i,a,o,s){},nearestPoint:function(e,r,n,i,a,o,s,c,l){var u=gy(c-e,l-r,-a),f=u[0],h=u[1],d=uL.nearestPoint(0,0,n,i,f,h),p=vL(n,i,d.x,d.y);p<o?d=vy(n,i,o):p>s&&(d=vy(n,i,s));var v=gy(d.x,d.y,a);return{x:v[0]+e,y:v[1]+r}},pointDistance:function(e,r,n,i,a,o,s,c,l){var u=this.nearestPoint(e,r,n,i,a,o,s,c,l);return Hn(u.x,u.y,c,l)},pointAt:function(e,r,n,i,a,o,s,c){var l=(s-o)*c+o;return{x:dy(e,r,n,i,a,l),y:py(e,r,n,i,a,l)}},tangentAngle:function(e,r,n,i,a,o,s,c){var l=(s-o)*c+o,u=fL(e,r,n,i,a,o,s,l),f=hL(e,r,n,i,a,o,s,l);return vc(Math.atan2(f,u))}};function my(t){for(var e=0,r=[],n=0;n<t.length-1;n++){var i=t[n],a=t[n+1],o=Hn(i[0],i[1],a[0],a[1]),s={from:i,to:a,length:o};r.push(s),e+=o}return{segments:r,totalLength:e}}function yy(t){if(t.length<2)return 0;for(var e=0,r=0;r<t.length-1;r++){var n=t[r],i=t[r+1];e+=Hn(n[0],n[1],i[0],i[1])}return e}function by(t,e){if(e>1||e<0||t.length<2)return null;var r=my(t),n=r.segments,i=r.totalLength;if(i===0)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<n.length;s++){var c=n[s],l=c.from,u=c.to,f=c.length/i;if(e>=a&&e<=a+f){var h=(e-a)/f;o=Mr.pointAt(l[0],l[1],u[0],u[1],h);break}a+=f}return o}function xy(t,e){if(e>1||e<0||t.length<2)return 0;for(var r=my(t),n=r.segments,i=r.totalLength,a=0,o=0,s=0;s<n.length;s++){var c=n[s],l=c.from,u=c.to,f=c.length/i;if(e>=a&&e<=a+f){o=Math.atan2(u[1]-l[1],u[0]-l[0]);break}a+=f}return o}function _y(t,e,r){for(var n=1/0,i=0;i<t.length-1;i++){var a=t[i],o=t[i+1],s=Mr.pointDistance(a[0],a[1],o[0],o[1],e,r);s<n&&(n=s)}return n}var wy={box:function(e){for(var r=[],n=[],i=0;i<e.length;i++){var a=e[i];r.push(a[0]),n.push(a[1])}return pc(r,n)},length:function(e){return yy(e)},pointAt:function(e,r){return by(e,r)},pointDistance:function(e,r,n){return _y(e,r,n)},tangentAngle:function(e,r){return xy(e,r)}};function hu(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}var HZ={box:function(e){return wy.box(e)},length:function(e){return yy(hu(e))},pointAt:function(e,r){return by(hu(e),r)},pointDistance:function(e,r,n){return _y(hu(e),r,n)},tangentAngle:function(e,r){return xy(hu(e),r)}},mL=xt(11312),Jh=xt.n(mL),wt;(function(t){t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>"})(wt||(wt={}));function ge(){ge=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Oy(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function In(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Oy(a,n,i,o,s,"next",c)}function s(c){Oy(a,n,i,o,s,"throw",c)}o(void 0)})}}function Sy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xL(n.key),n)}}function uo(t,e,r){return e&&Sy(t.prototype,e),r&&Sy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},re.apply(this,arguments)}function _e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,td(t,e)}function td(t,e){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},td(t,e)}function Dr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(t,e){if(!!t){if(typeof t=="string")return Ey(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ey(t,e)}}function Ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ho(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=yL(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t){var e=bL(t,"string");return typeof e=="symbol"?e:String(e)}var yt;(function(t){t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger"})(yt||(yt={}));var Pr;(function(t){t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther"})(Pr||(Pr={}));var My;(function(t){t[t.kAll=0]="kAll",t[t.kNonNegative=1]="kNonNegative",t[t.kInteger=2]="kInteger",t[t.kNonNegativeInteger=3]="kNonNegativeInteger",t[t.kPositiveInteger=4]="kPositiveInteger"})(My||(My={}));var ed;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(ed||(ed={}));var nd;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(nd||(nd={}));var _L=[{name:"em",unit_type:yt.kEms},{name:"px",unit_type:yt.kPixels},{name:"deg",unit_type:yt.kDegrees},{name:"rad",unit_type:yt.kRadians},{name:"grad",unit_type:yt.kGradians},{name:"ms",unit_type:yt.kMilliseconds},{name:"s",unit_type:yt.kSeconds},{name:"rem",unit_type:yt.kRems},{name:"turn",unit_type:yt.kTurns}],wa;(function(t){t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType"})(wa||(wa={}));var wL=function(e){return _L.find(function(r){return r.name===e}).unit_type},OL=function(e){return e?e==="number"?yt.kNumber:e==="percent"||e==="%"?yt.kPercentage:wL(e):yt.kUnknown},SL=function(e){switch(e){case yt.kNumber:case yt.kInteger:return Pr.kUNumber;case yt.kPercentage:return Pr.kUPercent;case yt.kPixels:return Pr.kULength;case yt.kMilliseconds:case yt.kSeconds:return Pr.kUTime;case yt.kDegrees:case yt.kRadians:case yt.kGradians:case yt.kTurns:return Pr.kUAngle;default:return Pr.kUOther}},EL=function(e){switch(e){case Pr.kUNumber:return yt.kNumber;case Pr.kULength:return yt.kPixels;case Pr.kUPercent:return yt.kPercentage;case Pr.kUTime:return yt.kSeconds;case Pr.kUAngle:return yt.kDegrees;default:return yt.kUnknown}},Py=function(e){var r=1;switch(e){case yt.kPixels:case yt.kDegrees:case yt.kSeconds:break;case yt.kMilliseconds:r=.001;break;case yt.kRadians:r=180/Math.PI;break;case yt.kGradians:r=.9;break;case yt.kTurns:r=360;break}return r},rd=function(e){switch(e){case yt.kNumber:case yt.kInteger:return"";case yt.kPercentage:return"%";case yt.kEms:return"em";case yt.kRems:return"rem";case yt.kPixels:return"px";case yt.kDegrees:return"deg";case yt.kRadians:return"rad";case yt.kGradians:return"grad";case yt.kMilliseconds:return"ms";case yt.kSeconds:return"s";case yt.kTurns:return"turn"}return""},du=function(){function t(){}t.isAngle=function(n){return n===yt.kDegrees||n===yt.kRadians||n===yt.kGradians||n===yt.kTurns},t.isLength=function(n){return n>=yt.kEms&&n<yt.kDegrees},t.isRelativeUnit=function(n){return n===yt.kPercentage||n===yt.kEms||n===yt.kRems},t.isTime=function(n){return n===yt.kSeconds||n===yt.kMilliseconds};var e=t.prototype;return e.toString=function(){return this.buildCSSText(ed.kNo,nd.kNo,"")},e.isNumericValue=function(){return this.getType()>=wa.kUnitType&&this.getType()<=wa.kClampType},t}(),ML=function(t){_e(e,t);function e(n){var i;return i=t.call(this)||this,i.colorSpace=void 0,i.colorSpace=n,i}var r=e.prototype;return r.getType=function(){return wa.kColorType},r.to=function(i){return this},e}(du),yi;(function(t){t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient"})(yi||(yi={}));var pu=function(t){_e(e,t);function e(n,i){var a;return a=t.call(this)||this,a.type=void 0,a.value=void 0,a.type=n,a.value=i,a}var r=e.prototype;return r.clone=function(){return new e(this.type,this.value)},r.buildCSSText=function(i,a,o){return o},r.getType=function(){return wa.kColorType},e}(du),dr=function(t){_e(e,t);function e(n){var i;return i=t.call(this)||this,i.value=void 0,i.value=n,i}var r=e.prototype;return r.clone=function(){return new e(this.value)},r.getType=function(){return wa.kKeywordType},r.buildCSSText=function(i,a,o){return o+this.value},e}(du);function Kn(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function n(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e?e.apply(this,a):a[0],c=n.cache;if(c.has(s))return c.get(s);var l=t.apply(this,a);return n.cache=c.set(s,l)||c,l};return r.cache=new(Kn.Cache||Map),r}Kn.Cache=Map;var PL=Kn(function(t){return t===void 0&&(t=""),t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}),Ay=function(e){return e.split("").map(function(r,n){return r.toUpperCase()===r?(n!==0?"-":"")+r.toLowerCase():r}).join("")};function AL(t){if(!t)throw new Error}function Uo(t){return typeof t=="function"}function kL(t){return typeof t=="symbol"}var VZ=function(e){return Object.fromEntries(Object.entries(e).filter(function(r){var n=r[1];return n!==void 0}))},TL={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},id=Kn(function(t){var e=PL(t),r=TL[e];return e=(r==null?void 0:r.alias)||e,e}),LL=function(e,r){r===void 0&&(r="");var n="";return Number.isFinite(e)?(AL(Number.isNaN(e)),n="NaN"):e>0?n="infinity":n="-infinity",n+=r},ad=function(e){return EL(SL(e))},Ye=function(t){_e(e,t);function e(n,i){var a;i===void 0&&(i=yt.kNumber),a=t.call(this)||this,a.unit=void 0,a.value=void 0;var o;return typeof i=="string"?o=OL(i):o=i,a.unit=o,a.value=n,a}var r=e.prototype;return r.clone=function(){return new e(this.value,this.unit)},r.equals=function(i){var a=i;return this.value===a.value&&this.unit===a.unit},r.getType=function(){return wa.kUnitType},r.convertTo=function(i){if(this.unit===i)return new e(this.value,this.unit);var a=ad(this.unit);if(a!==ad(i)||a===yt.kUnknown)return null;var o=Py(this.unit)/Py(i);return new e(this.value*o,i)},r.buildCSSText=function(i,a,o){var s;switch(this.unit){case yt.kUnknown:break;case yt.kInteger:s=Number(this.value).toFixed(0);break;case yt.kNumber:case yt.kPercentage:case yt.kEms:case yt.kRems:case yt.kPixels:case yt.kDegrees:case yt.kRadians:case yt.kGradians:case yt.kMilliseconds:case yt.kSeconds:case yt.kTurns:{var c=-999999,l=999999,u=this.value,f=rd(this.unit);if(u<c||u>l){var h=rd(this.unit);!Number.isFinite(u)||Number.isNaN(u)?s=LL(u,h):s=u+(h||"")}else s=""+u+f}}return o+=s,o},e}(du),Bn=new Ye(0,"px"),XZ=new Ye(1,"px"),Ui=new Ye(0,"deg"),od=function(t){_e(e,t);function e(n,i,a,o,s){var c;return o===void 0&&(o=1),s===void 0&&(s=!1),c=t.call(this,"rgb")||this,c.r=void 0,c.g=void 0,c.b=void 0,c.alpha=void 0,c.isNone=void 0,c.r=n,c.g=i,c.b=a,c.alpha=o,c.isNone=s,c}var r=e.prototype;return r.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},r.buildCSSText=function(i,a,o){return o+("rgba("+this.r+","+this.g+","+this.b+","+this.alpha+")")},e}(ML),CL={number:function(e){return new Ye(e)},percent:function(e){return new Ye(e,"%")},px:function(e){return new Ye(e,"px")},em:function(e){return new Ye(e,"em")},rem:function(e){return new Ye(e,"rem")},deg:function(e){return new Ye(e,"deg")},grad:function(e){return new Ye(e,"grad")},rad:function(e){return new Ye(e,"rad")},turn:function(e){return new Ye(e,"turn")},s:function(e){return new Ye(e,"s")},ms:function(e){return new Ye(e,"ms")},registerProperty:function(e){var r=e.name,n=e.inherits,i=e.interpolable,a=e.initialValue,o=e.syntax;nt.styleValueRegistry.registerMetadata({n:r,inh:n,int:i,d:a,syntax:o})},registerLayout:function(e,r){nt.layoutRegistry.registerLayout(e,r)}},qe=new dr("unset"),NL=new dr("initial"),RL=new dr("inherit"),sd={"":qe,unset:qe,initial:NL,inherit:RL},cd=function(e){return sd[e]||(sd[e]=new dr(e)),sd[e]},ld=new od(0,0,0,0,!0),ky=new od(0,0,0,0),IL=Kn(function(t,e,r,n){return new od(t,e,r,n)},function(t,e,r,n){return"rgba("+t+","+e+","+r+","+n+")"}),He=function(e,r){return r===void 0&&(r=yt.kNumber),new Ye(e,r)},ud={},DL=0;function jL(t,e){if(t){var r=typeof t=="string"?t:t.id||DL++;ud[r]&&ud[r].destroy(),ud[r]=e}}var gc=typeof window!="undefined"&&typeof window.document!="undefined";function BL(t,e){var r=Number(t.parsedStyle.zIndex),n=Number(e.parsedStyle.zIndex);if(r===n){var i=t.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(t)-a.indexOf(e)}}return r-n}function Ty(t){var e=t;do{var r,n=(r=e.style)===null||r===void 0?void 0:r.clipPath;if(n)return e;e=e.parentElement}while(e!==null);return null}var Ly="px";function FL(t,e,r){gc&&t.style&&(t.style.width=e+Ly,t.style.height=r+Ly)}function Cy(t,e){if(gc)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function zL(t){var e=Cy(t,"width");return e==="auto"?t.offsetWidth:parseFloat(e)}function GL(t){var e=Cy(t,"height");return e==="auto"?t.offsetHeight:parseFloat(e)}var Ge="Method not implemented.",Ko="Use document.documentElement instead.",$L="Cannot append a destroyed element.",WL=1,YL={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};function Zo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function fd(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function vu(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Ny(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function HL(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function VL(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function Qo(t){return t===void 0?0:t>360||t<-360?t%360:t}function ar(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),Array.isArray(t)&&t.length===3?Vi(t):ct(t)?we(t,e,r):we(t[0],t[1]||e,t[2]||r)}function on(t){return t*(Math.PI/180)}function jr(t){return t*(180/Math.PI)}function qZ(t){return t=t%400,t<0&&(t+=400),t/400*360}function UZ(t){return t/360}function XL(t){return 360*t}function qL(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r,s=n*n,c=i*i,l=a*a,u=o+s+c+l,f=r*a-n*i;return f>.499995*u?(t[0]=Math.PI/2,t[1]=2*Math.atan2(n,r),t[2]=0):f<-.499995*u?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(n,r),t[2]=0):(t[0]=Math.asin(2*(r*i-a*n)),t[1]=Math.atan2(2*(r*a+n*i),1-2*(c+l)),t[2]=Math.atan2(2*(r*n+i*a),1-2*(s+c))),t}function UL(t,e){var r,n,i=Math.PI*.5,a=Xo(pe(),e),o=a[0],s=a[1],c=a[2],l=Math.asin(-e[2]/o);return l<i?l>-i?(r=Math.atan2(e[6]/s,e[10]/c),n=Math.atan2(e[1]/o,e[0]/o)):(n=0,r=-Math.atan2(e[4]/s,e[5]/s)):(n=0,r=Math.atan2(e[4]/s,e[5]/s)),t[0]=r,t[1]=l,t[2]=n,t}function hd(t,e){return e.length===16?UL(t,e):qL(t,e)}function KL(t,e,r,n,i){var a=Math.cos(t),o=Math.sin(t);return IT(n*a,i*o,0,-n*o,i*a,0,e,r,1)}function ZL(t,e,r,n,i,a,o){var s=2*a/(r-e),c=2*a/(n-i),l=(r+e)/(r-e),u=(n+i)/(n-i),f=-(o+a)/(o-a),h=-2*o*a/(o-a);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=l,t[9]=u,t[10]=f,t[11]=-1,t[12]=0,t[13]=0,t[14]=h,t[15]=0,t}function Ry(t){var e=t[0],r=t[1],n=t[3],i=t[4],a=Math.sqrt(e*e+r*r),o=Math.sqrt(n*n+i*i),s=e*i-r*n;s<0&&(e<i?a=-a:o=-o),a&&(e*=1/a,r*=1/a),o&&(n*=1/o,i*=1/o);var c=Math.atan2(r,e),l=jr(c);return[t[6],t[7],a,o,l]}var bi=We(),ei=We(),mc=qo(),Qt=[pe(),pe(),pe()],Iy=pe();function QL(t,e,r,n,i,a){if(!JL(bi,t)||(so(ei,bi),ei[3]=0,ei[7]=0,ei[11]=0,ei[15]=1,Math.abs(Ym(ei))<1e-8))return!1;var o=bi[3],s=bi[7],c=bi[11],l=bi[12],u=bi[13],f=bi[14],h=bi[15];if(o!==0||s!==0||c!==0){mc[0]=o,mc[1]=s,mc[2]=c,mc[3]=h;var d=mi(ei,ei);if(!d)return!1;Wm(ei,ei),fc(i,mc,ei)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=l,e[1]=u,e[2]=f,t5(Qt,bi),r[0]=Xi(Qt[0]),oo(Qt[0],Qt[0]),n[0]=ti(Qt[0],Qt[1]),dd(Qt[1],Qt[1],Qt[0],1,-n[0]),r[1]=Xi(Qt[1]),oo(Qt[1],Qt[1]),n[0]/=r[1],n[1]=ti(Qt[0],Qt[2]),dd(Qt[2],Qt[2],Qt[0],1,-n[1]),n[2]=ti(Qt[1],Qt[2]),dd(Qt[2],Qt[2],Qt[1],1,-n[2]),r[2]=Xi(Qt[2]),oo(Qt[2],Qt[2]),n[1]/=r[2],n[2]/=r[2],iu(Iy,Qt[1],Qt[2]),ti(Qt[0],Iy)<0)for(var p=0;p<3;p++)r[p]*=-1,Qt[p][0]*=-1,Qt[p][1]*=-1,Qt[p][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+Qt[0][0]-Qt[1][1]-Qt[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-Qt[0][0]+Qt[1][1]-Qt[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-Qt[0][0]-Qt[1][1]+Qt[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+Qt[0][0]+Qt[1][1]+Qt[2][2],0)),Qt[2][1]>Qt[1][2]&&(a[0]=-a[0]),Qt[0][2]>Qt[2][0]&&(a[1]=-a[1]),Qt[1][0]>Qt[0][1]&&(a[2]=-a[2]),!0}function JL(t,e){var r=e[15];if(r===0)return!1;for(var n=1/r,i=0;i<16;i++)t[i]=e[i]*n;return!0}function t5(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function dd(t,e,r,n,i){t[0]=e[0]*n+r[0]*i,t[1]=e[1]*n+r[1]*i,t[2]=e[2]*n+r[2]*i}var yc=We();function pd(t,e){if(t&&t.length){var r=0,n=0;e?(r=e.parsedStyle.defX||0,n=e.parsedStyle.defY||0,e.resetLocalTransform(),e.setLocalPosition(r,n)):e=new bn({}),t.forEach(function(i){var a=i.t,o=i.d;if(a==="scale"){var s=(o==null?void 0:o.map(function(M){return M.value}))||[1,1];e.scaleLocal(s[0],s[1],1)}else if(a==="scalex"){var c=(o==null?void 0:o.map(function(M){return M.value}))||[1];e.scaleLocal(c[0],1,1)}else if(a==="scaley"){var l=(o==null?void 0:o.map(function(M){return M.value}))||[1];e.scaleLocal(1,l[0],1)}else if(a==="scalez"){var u=(o==null?void 0:o.map(function(M){return M.value}))||[1];e.scaleLocal(1,1,u[0])}else if(a==="scale3d"){var f=(o==null?void 0:o.map(function(M){return M.value}))||[1,1,1];e.scaleLocal(f[0],f[1],f[2])}else if(a==="translate"){var h=o||[Bn,Bn];e.translateLocal(h[0].value,h[1].value,0)}else if(a==="translatex"){var d=o||[Bn];e.translateLocal(d[0].value,0,0)}else if(a==="translatey"){var p=o||[Bn];e.translateLocal(0,p[0].value,0)}else if(a==="translatez"){var v=o||[Bn];e.translateLocal(0,0,v[0].value)}else if(a==="translate3d"){var g=o||[Bn,Bn,Bn];e.translateLocal(g[0].value,g[1].value,g[2].value)}else if(a==="rotate"){var m=o||[Ui];e.rotateLocal(0,0,Ar(m[0]))}else if(a==="rotatex"){var b=o||[Ui];e.rotateLocal(Ar(b[0]),0,0)}else if(a==="rotatey"){var _=o||[Ui];e.rotateLocal(0,Ar(_[0]),0)}else if(a==="rotatez"){var O=o||[Ui];e.rotateLocal(0,0,Ar(O[0]))}else if(a!=="rotate3d")if(a==="skew"){var E=(o==null?void 0:o.map(function(M){return M.value}))||[0,0];e.setLocalSkew(on(E[0]),on(E[1]))}else if(a==="skewx"){var P=(o==null?void 0:o.map(function(M){return M.value}))||[0];e.setLocalSkew(on(P[0]),e.getLocalSkew()[1])}else if(a==="skewy"){var A=(o==null?void 0:o.map(function(M){return M.value}))||[0];e.setLocalSkew(e.getLocalSkew()[0],on(A[0]))}else if(a==="matrix"){var T=o.map(function(M){return M.value}),C=T[0],L=T[1],N=T[2],x=T[3],y=T[4],w=T[5];e.setLocalTransform(Wh(yc,C,L,0,0,N,x,0,0,0,0,1,0,y+r,w+n,0,1))}else a==="matrix3d"&&(Wh.apply(se,[yc].concat(o.map(function(M){return M.value}))),yc[12]+=r,yc[13]+=n,e.setLocalTransform(yc))})}return e.getLocalTransform()}function e5(t){var e=t.type,r=t.value;return e==="hex"?"#"+r:e==="literal"?r:e==="rgb"?"rgb("+r.join(",")+")":"rgba("+r.join(",")+")"}var n5=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(k){throw new Error(e+": "+k)}function n(){var k=i();return e.length>0&&r("Invalid input not EOF"),k}function i(){return _(a)}function a(){return o("linear-gradient",t.linearGradient,c)||o("repeating-linear-gradient",t.repeatingLinearGradient,c)||o("radial-gradient",t.radialGradient,f)||o("repeating-radial-gradient",t.repeatingRadialGradient,f)||o("conic-gradient",t.conicGradient,f)}function o(k,I,j){return s(I,function(F){var X=j();return X&&(M(t.comma)||r("Missing comma before color stops")),{type:k,orientation:X,colorStops:_(O)}})}function s(k,I){var j=M(k);if(j){M(t.startCall)||r("Missing (");var F=I(j);return M(t.endCall)||r("Missing )"),F}}function c(){return l()||u()}function l(){return w("directional",t.sideOrCorner,1)}function u(){return w("angular",t.angleValue,1)}function f(){var k,I=h(),j;return I&&(k=[],k.push(I),j=e,M(t.comma)&&(I=h(),I?k.push(I):e=j)),k}function h(){var k=d()||p();if(k)k.at=g();else{var I=v();if(I){k=I;var j=g();j&&(k.at=j)}else{var F=m();F&&(k={type:"default-radial",at:F})}}return k}function d(){var k=w("shape",/^(circle)/i,0);return k&&(k.style=y()||v()),k}function p(){var k=w("shape",/^(ellipse)/i,0);return k&&(k.style=N()||v()),k}function v(){return w("extent-keyword",t.extentKeywords,1)}function g(){if(w("position",/^at/,0)){var k=m();return k||r("Missing positioning value"),k}}function m(){var k=b();if(k.x||k.y)return{type:"position",value:k}}function b(){return{x:N(),y:N()}}function _(k){var I=k(),j=[];if(I)for(j.push(I);M(t.comma);)I=k(),I?j.push(I):r("One extra comma");return j}function O(){var k=E();return k||r("Expected color definition"),k.length=N(),k}function E(){return A()||C()||T()||P()}function P(){return w("literal",t.literalColor,0)}function A(){return w("hex",t.hexColor,1)}function T(){return s(t.rgbColor,function(){return{type:"rgb",value:_(L)}})}function C(){return s(t.rgbaColor,function(){return{type:"rgba",value:_(L)}})}function L(){return M(t.number)[1]}function N(){return w("%",t.percentageValue,1)||x()||y()}function x(){return w("position-keyword",t.positionKeywords,1)}function y(){return w("px",t.pixelValue,1)||w("em",t.emValue,1)}function w(k,I,j){var F=M(I);if(F)return{type:k,value:F[j]}}function M(k){var I=/^[\n\r\t\s]+/.exec(e);I&&S(I[0].length);var j=k.exec(e);return j&&S(j[0].length),j}function S(k){e=e.substring(k)}return function(k){return e=k,n()}}();function r5(t,e,r){var n=on(r.value),i=0,a=0,o=i+t/2,s=a+e/2,c=Math.abs(t*Math.cos(n))+Math.abs(e*Math.sin(n)),l=o-Math.cos(n)*c/2,u=s-Math.sin(n)*c/2,f=o+Math.cos(n)*c/2,h=s+Math.sin(n)*c/2;return{x1:l,y1:u,x2:f,y2:h}}function i5(t,e,r,n,i){var a=r.value,o=n.value;r.unit===yt.kPercentage&&(a=r.value/100*t),n.unit===yt.kPercentage&&(o=n.value/100*e);var s=Math.max(Ot([0,0],[a,o]),Ot([0,e],[a,o]),Ot([t,e],[a,o]),Ot([t,0],[a,o]));return i&&(i instanceof Ye?s=i.value:i instanceof dr&&(i.value==="closest-side"?s=Math.min(a,t-a,o,e-o):i.value==="farthest-side"?s=Math.max(a,t-a,o,e-o):i.value==="closest-corner"&&(s=Math.min(Ot([0,0],[a,o]),Ot([0,e],[a,o]),Ot([t,e],[a,o]),Ot([t,0],[a,o]))))),{x:a,y:o,r:s}}var rt;(function(t){t.GROUP="g",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh"})(rt||(rt={}));function vd(t){return t.parsedStyle.path.totalLength===0&&(t.parsedStyle.path.totalLength=ac(t.parsedStyle.path.absolutePath)),t.parsedStyle.path.totalLength}function a5(t){for(var e=!1,r=t.length,n=0;n<r;n++){var i=t[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function o5(t){for(var e=[],r=[],n=[],i=0;i<t.length;i++){var a=t[i],o=a[0];o==="M"?(n.length&&(r.push(n),n=[]),n.push([a[1],a[2]])):o==="Z"?n.length&&(e.push(n),n=[]):n.push([a[1],a[2]])}return n.length>0&&r.push(n),{polygons:e,polylines:r}}function gd(t,e){return t[0]===e[0]&&t[1]===e[1]}function s5(t,e){for(var r=[],n=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,c=o.params,l=o.prePoint,u=void 0;switch(o.command){case"Q":u=cL.box(l[0],l[1],c[1],c[2],c[3],c[4]);break;case"C":u=lL.box(l[0],l[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var f=o.arcParams;u=gL.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:r.push(s[0]),n.push(s[1]);break}u&&(o.box=u,r.push(u.x,u.x+u.width),n.push(u.y,u.y+u.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&i.push(o)}r=r.filter(function(O){return!Number.isNaN(O)&&O!==1/0&&O!==-1/0}),n=n.filter(function(O){return!Number.isNaN(O)&&O!==1/0&&O!==-1/0});var h=W(r),d=W(n),p=$(r),v=$(n);if(i.length===0)return{x:h,y:d,width:p-h,height:v-d};for(var g=0;g<i.length;g++){var m=i[g],b=m.currentPoint,_=void 0;b[0]===h?(_=gu(m,e),h=h-_.xExtra):b[0]===p&&(_=gu(m,e),p=p+_.xExtra),b[1]===d?(_=gu(m,e),d=d-_.yExtra):b[1]===v&&(_=gu(m,e),v=v+_.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function gu(t,e){var r=t.prePoint,n=t.currentPoint,i=t.nextPoint,a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),c=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!c||Math.sin(c)===0||Z(c,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),u=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));l=l>Math.PI/2?Math.PI-l:l,u=u>Math.PI/2?Math.PI-u:u;var f={xExtra:Math.cos(c/2-l)*(e/2*(1/Math.sin(c/2)))-e/2||0,yExtra:Math.cos(u-c/2)*(e/2*(1/Math.sin(c/2)))-e/2||0};return f}function Dy(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var jy=function(e,r){var n=e.x*r.x+e.y*r.y,i=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(r.x,2)+Math.pow(r.y,2))),a=e.x*r.y-e.y*r.x<0?-1:1,o=a*Math.acos(n/i);return o},By=function(e,r,n,i,a,o,s,c){r=Math.abs(r),n=Math.abs(n),i=it(i,360);var l=on(i);if(e.x===s.x&&e.y===s.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(r===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(e.x-s.x)/2,f=(e.y-s.y)/2,h={x:Math.cos(l)*u+Math.sin(l)*f,y:-Math.sin(l)*u+Math.cos(l)*f},d=Math.pow(h.x,2)/Math.pow(r,2)+Math.pow(h.y,2)/Math.pow(n,2);d>1&&(r=Math.sqrt(d)*r,n=Math.sqrt(d)*n);var p=Math.pow(r,2)*Math.pow(n,2)-Math.pow(r,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),v=Math.pow(r,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),g=p/v;g=g<0?0:g;var m=(a!==o?1:-1)*Math.sqrt(g),b={x:m*(r*h.y/n),y:m*(-(n*h.x)/r)},_={x:Math.cos(l)*b.x-Math.sin(l)*b.y+(e.x+s.x)/2,y:Math.sin(l)*b.x+Math.cos(l)*b.y+(e.y+s.y)/2},O={x:(h.x-b.x)/r,y:(h.y-b.y)/n},E=jy({x:1,y:0},O),P={x:(-h.x-b.x)/r,y:(-h.y-b.y)/n},A=jy(O,P);!o&&A>0?A-=2*Math.PI:o&&A<0&&(A+=2*Math.PI),A%=2*Math.PI;var T=E+A*c,C=r*Math.cos(T),L=n*Math.sin(T),N={x:Math.cos(l)*C-Math.sin(l)*L+_.x,y:Math.sin(l)*C+Math.cos(l)*L+_.y,ellipticalArcStartAngle:E,ellipticalArcEndAngle:E+A,ellipticalArcAngle:T,ellipticalArcCenter:_,resultantRx:r,resultantRy:n};return N};function c5(t){for(var e=[],r=null,n=null,i=null,a=0,o=t.length,s=0;s<o;s++){var c=t[s];n=t[s+1];var l=c[0],u={command:l,prePoint:r,params:c,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(l){case"M":i=[c[1],c[2]],a=s;break;case"A":var f=l5(r,c);u.arcParams=f;break}if(l==="Z")r=i,n=t[a+1];else{var h=c.length;r=[c[h-2],c[h-1]]}n&&n[0]==="Z"&&(n=t[a],e[a]&&(e[a].prePoint=r)),u.currentPoint=r,e[a]&&gd(r,e[a].currentPoint)&&(e[a].prePoint=u.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;u.nextPoint=d;var p=u.prePoint;if(["L","H","V"].includes(l))u.startTangent=[p[0]-r[0],p[1]-r[1]],u.endTangent=[r[0]-p[0],r[1]-p[1]];else if(l==="Q"){var v=[c[1],c[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[r[0]-v[0],r[1]-v[1]]}else if(l==="T"){var g=e[s-1],m=Dy(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[r[0]-m[0],r[1]-m[1]]):(u.command="TL",u.startTangent=[p[0]-r[0],p[1]-r[1]],u.endTangent=[r[0]-p[0],r[1]-p[1]])}else if(l==="C"){var b=[c[1],c[2]],_=[c[3],c[4]];u.startTangent=[p[0]-b[0],p[1]-b[1]],u.endTangent=[r[0]-_[0],r[1]-_[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[b[0]-_[0],b[1]-_[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[_[0]-b[0],_[1]-b[1]])}else if(l==="S"){var O=e[s-1],E=Dy(O.currentPoint,p),P=[c[1],c[2]];O.command==="C"?(u.command="C",u.startTangent=[p[0]-E[0],p[1]-E[1]],u.endTangent=[r[0]-P[0],r[1]-P[1]]):(u.command="SQ",u.startTangent=[p[0]-P[0],p[1]-P[1]],u.endTangent=[r[0]-P[0],r[1]-P[1]])}else if(l==="A"){var A=Fy(u,0),T=A.x,C=A.y,L=Fy(u,1,!1),N=L.x,x=L.y;u.startTangent=[T,C],u.endTangent=[N,x]}e.push(u)}return e}function Fy(t,e,r){r===void 0&&(r=!0);var n=t.arcParams,i=n.rx,a=i===void 0?0:i,o=n.ry,s=o===void 0?0:o,c=n.xRotation,l=n.arcFlag,u=n.sweepFlag,f=By({x:t.prePoint[0],y:t.prePoint[1]},a,s,c,!!l,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},e),h=By({x:t.prePoint[0],y:t.prePoint[1]},a,s,c,!!l,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},r?e+.005:e-.005),d=h.x-f.x,p=h.y-f.y,v=Math.sqrt(d*d+p*p);return{x:-d/v,y:-p/v}}function mu(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function md(t,e){return mu(t)*mu(e)?(t[0]*e[0]+t[1]*e[1])/(mu(t)*mu(e)):1}function zy(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(md(t,e))}function l5(t,e){var r=e[1],n=e[2],i=it(on(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],c=t[1],l=e[6],u=e[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(c-u)/2,h=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(c-u)/2,d=f*f/(r*r)+h*h/(n*n);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var p=r*r*(h*h)+n*n*(f*f),v=p?Math.sqrt((r*r*(n*n)-p)/p):1;a===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*r*h/n:0,m=r?v*-n*f/r:0,b=(s+l)/2+Math.cos(i)*g-Math.sin(i)*m,_=(c+u)/2+Math.sin(i)*g+Math.cos(i)*m,O=[(f-g)/r,(h-m)/n],E=[(-1*f-g)/r,(-1*h-m)/n],P=zy([1,0],O),A=zy(O,E);return md(O,E)<=-1&&(A=Math.PI),md(O,E)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:b,cy:_,rx:gd(t,[l,u])?0:r,ry:gd(t,[l,u])?0:n,startAngle:P,endAngle:P+A,xRotation:i,arcFlag:a,sweepFlag:o}}function u5(t,e,r){var n=e.parsedStyle,i=n.defX,a=i===void 0?0:i,o=n.defY,s=o===void 0?0:o;return t.reduce(function(c,l){var u="";if(l[0]==="M"||l[0]==="L"){var f=we(l[1]-a,l[2]-s,0);r&&Rn(f,f,r),u=""+l[0]+f[0]+","+f[1]}else if(l[0]==="Z")u=l[0];else if(l[0]==="C"){var h=we(l[1]-a,l[2]-s,0),d=we(l[3]-a,l[4]-s,0),p=we(l[5]-a,l[6]-s,0);r&&(Rn(h,h,r),Rn(d,d,r),Rn(p,p,r)),u=""+l[0]+h[0]+","+h[1]+","+d[0]+","+d[1]+","+p[0]+","+p[1]}else if(l[0]==="A"){var v=we(l[6]-a,l[7]-s,0);r&&Rn(v,v,r),u=""+l[0]+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+","+v[0]+","+v[1]}else if(l[0]==="Q"){var g=we(l[1]-a,l[2]-s,0),m=we(l[3]-a,l[4]-s,0);r&&(Rn(g,g,r),Rn(m,m,r)),u=""+l[0]+l[1]+","+l[2]+","+l[3]+","+l[4]+"}"}return c+=u},"")}function f5(t,e,r,n){return[["M",t,e],["L",r,n]]}function Gy(t,e,r,n){var i=(-1+Math.sqrt(2))/3*4,a=t*i,o=e*i,s=r-t,c=r+t,l=n-e,u=n+e;return[["M",s,n],["C",s,n-o,r-a,l,r,l],["C",r+a,l,c,n-o,c,n],["C",c,n+o,r+a,u,r,u],["C",r-a,u,s,n+o,s,n],["Z"]]}function h5(t,e){var r=t.map(function(n,i){return[i===0?"M":"L",n[0],n[1]]});return e&&r.push(["Z"]),r}function d5(t,e,r,n,i){if(i){var a=i[0],o=i[1],s=i[2],c=i[3],l=t>0?1:-1,u=e>0?1:-1,f=l+u!==0?1:0;return[["M",l*a+r,n],["L",t-l*o+r,n],o?["A",o,o,0,0,f,t+r,u*o+n]:null,["L",t+r,e-u*s+n],s?["A",s,s,0,0,f,t+r-l*s,e+n]:null,["L",r+l*c,e+n],c?["A",c,c,0,0,f,r,e+n-u*c]:null,["L",r,u*a+n],a?["A",a,a,0,0,f,l*a+r,n]:null,["Z"]].filter(function(h){return h})}return[["M",r,n],["L",r+t,n],["L",r+t,n+e],["L",r,n+e],["Z"]]}function $y(t,e){e===void 0&&(e=t.getLocalTransform());var r=[];switch(t.nodeName){case rt.LINE:var n=t.parsedStyle,i=n.x1,a=n.y1,o=n.x2,s=n.y2;r=f5(i,a,o,s);break;case rt.CIRCLE:{var c=t.parsedStyle,l=c.r,u=c.cx,f=c.cy;r=Gy(l,l,u,f);break}case rt.ELLIPSE:{var h=t.parsedStyle,d=h.rx,p=h.ry,v=h.cx,g=h.cy;r=Gy(d,p,v,g);break}case rt.POLYLINE:case rt.POLYGON:var m=t.parsedStyle.points;r=h5(m.points,t.nodeName===rt.POLYGON);break;case rt.RECT:var b=t.parsedStyle,_=b.width,O=b.height,E=b.x,P=b.y,A=b.radius,T=A&&A.some(function(L){return L!==0});r=d5(_,O,E,P,T&&A.map(function(L){return et(L,0,Math.min(Math.abs(_)/2,Math.abs(O)/2))}));break;case rt.PATH:var C=t.parsedStyle.path.absolutePath;r=[].concat(C);break}if(r.length)return u5(r,t,e)}function KZ(t,e,r,n,i,a,o){n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=0);var s=t.map(function(c,l){var u=c[0],f=t[l+1],h=l===0&&(n!==0||i!==0),d=(l===t.length-1||f&&(f[0]==="M"||f[0]==="Z"))&&a!==0&&o!==0;switch(u){case"M":return h?"M "+(c[1]-e+n)+","+(c[2]-r+i)+" L "+(c[1]-e)+","+(c[2]-r):"M "+(c[1]-e)+","+(c[2]-r);case"L":return"L "+(c[1]-e+(d?a:0))+","+(c[2]-r+(d?o:0));case"Q":return"Q "+(c[1]-e)+" "+(c[2]-r)+","+(c[3]-e)+" "+(c[4]-r)+(d?" L "+(c[3]-e+a)+","+(c[4]-r+o):"");case"C":return"C "+(c[1]-e)+" "+(c[2]-r)+","+(c[3]-e)+" "+(c[4]-r)+","+(c[5]-e)+" "+(c[6]-r)+(d?" L "+(c[5]-e+a)+","+(c[6]-r+o):"");case"A":return"A "+c[1]+" "+c[2]+" "+c[3]+" "+c[4]+" "+c[5]+" "+(c[6]-e)+" "+(c[7]-r)+(d?" L "+(c[6]-e+a)+","+(c[7]-r+o):"");case"Z":return"Z"}}).join(" ");return~s.indexOf("NaN")?"":s}function po(t,e,r){var n=!1,i=!1,a=!!e&&!e.isNone,o=!!r&&!r.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(n=a,i=o):t==="visiblefill"||t==="fill"?n=!0:t==="visiblestroke"||t==="stroke"?i=!0:(t==="visible"||t==="all")&&(n=!0,i=!0),[n,i]}var Wy=function(){return this.call=this._createCall("sync"),this.call.apply(this,arguments)},Yy=function(){return this.callAsync=this._createCall("async"),this.callAsync.apply(this,arguments)},Hy=function(){return this.promise=this._createCall("promise"),this.promise.apply(this,arguments)},yd=function(){function t(r,n){r===void 0&&(r=[]),n===void 0&&(n=void 0),this.name=void 0,this.taps=void 0,this.promise=void 0,this._promise=void 0,this._args=r,this.name=n,this.taps=[],this.interceptors=[],this._call=Wy,this.call=Wy,this._callAsync=Yy,this.callAsync=Yy,this._promise=Hy,this.promise=Hy,this._x=void 0}var e=t.prototype;return e.compile=function(n){throw new Error("Abstract: should be overridden")},e._createCall=function(n){return this.compile({taps:this.taps,interceptors:this.interceptors,args:this._args,type:n})},e._tap=function(n,i,a){if(typeof i=="string")i={name:i.trim()};else if(typeof i!="object"||i===null)throw new Error("Invalid tap options");if(typeof i.name!="string"||i.name==="")throw new Error("Missing name for tap");i=Object.assign({type:n,fn:a},i),i=this._runRegisterInterceptors(i),this._insert(i)},e.tap=function(n,i){this._tap("sync",n,i)},e.tapAsync=function(n,i){this._tap("async",n,i)},e.tapPromise=function(n,i){this._tap("promise",n,i)},e._runRegisterInterceptors=function(n){for(var i=ho(this.interceptors),a;!(a=i()).done;){var o=a.value;if(o.register){var s=o.register(n);s!==void 0&&(n=s)}}return n},e.withOptions=function(n){var i=this,a=function(s){return Object.assign({},n,typeof s=="string"?{name:s}:s)};return{name:this.name,tap:function(s,c){return i.tap(a(s),c)},tapAsync:function(s,c){return i.tapAsync(a(s),c)},tapPromise:function(s,c){return i.tapPromise(a(s),c)},isUsed:function(){return i.isUsed()},withOptions:function(s){return i.withOptions(a(s))}}},e.isUsed=function(){return this.taps.length>0||this.interceptors.length>0},e._resetCompilation=function(){this.call=this._call,this.callAsync=this._callAsync,this.promise=this._promise},e._insert=function(n){this._resetCompilation();var i;typeof n.before=="string"?i=new Set([n.before]):Array.isArray(n.before)&&(i=new Set(n.before));var a=0;typeof n.stage=="number"&&(a=n.stage);for(var o=this.taps.length;o>0;){o--;var s=this.taps[o];this.taps[o+1]=s;var c=s.stage||0;if(i){if(i.has(s.name)){i.delete(s.name);continue}if(i.size>0)continue}if(!(c>a)){o++;break}}this.taps[o]=n},t}(),yu=function(){function t(r){this.config=r,this.options=void 0,this._args=void 0}var e=t.prototype;return e.create=function(n){this.init(n);var i;switch(this.options.type){case"sync":i=new Function(this.args(),`"use strict";
`+this.header()+this.contentWithInterceptors({onError:function(l){return"throw "+l+`;
`},onResult:function(l){return"return "+l+`;
`},resultReturns:!0,onDone:function(){return""},rethrowIfPossible:!0}));break;case"async":i=new Function(this.args({after:"_callback"}),`"use strict";
`+this.header()+this.contentWithInterceptors({onError:function(l){return"_callback("+l+`);
`},onResult:function(l){return"_callback(null, "+l+`);
`},onDone:function(){return`_callback();
`}}));break;case"promise":var a=!1,o=this.contentWithInterceptors({onError:function(l){return a=!0,"_error("+l+`);
`},onResult:function(l){return"_resolve("+l+`);
`},onDone:function(){return`_resolve();
`}}),s="";s+=`"use strict";
`,s+=this.header(),s+=`return new Promise((function(_resolve, _reject) {
`,a&&(s+=`var _sync = true;
`,s+=`function _error(_err) {
`,s+=`if(_sync)
`,s+=`_resolve(Promise.resolve().then((function() { throw _err; })));
`,s+=`else
`,s+=`_reject(_err);
`,s+=`};
`),s+=o,a&&(s+=`_sync = false;
`),s+=`}));
`,i=new Function(this.args(),s);break}return this.deinit(),i},e.setup=function(n,i){n._x=i.taps.map(function(a){return a.fn})},e.init=function(n){this.options=n,this._args=n.args.slice()},e.deinit=function(){this.options=void 0,this._args=void 0},e.contentWithInterceptors=function(n){var i=this;if(this.options.interceptors.length>0){for(var a=n.onError,o=n.onResult,s=n.onDone,c="",l=0;l<this.options.interceptors.length;l++){var u=this.options.interceptors[l];u.call&&(c+=this.getInterceptor(l)+".call("+this.args({before:u.context?"_context":void 0})+`);
`)}return c+=this.content(Object.assign(n,{onError:a&&function(f){for(var h="",d=0;d<i.options.interceptors.length;d++){var p=i.options.interceptors[d];p.error&&(h+=i.getInterceptor(d)+".error("+f+`);
`)}return h+=a(f),h},onResult:o&&function(f){for(var h="",d=0;d<i.options.interceptors.length;d++){var p=i.options.interceptors[d];p.result&&(h+=i.getInterceptor(d)+".result("+f+`);
`)}return h+=o(f),h},onDone:s&&function(){for(var f="",h=0;h<i.options.interceptors.length;h++){var d=i.options.interceptors[h];d.done&&(f+=i.getInterceptor(h)+`.done();
`)}return f+=s(),f}})),c}else return this.content(n)},e.header=function(){var n="";return this.needContext()?n+=`var _context = {};
`:n+=`var _context;
`,n+=`var _x = this._x;
`,this.options.interceptors.length>0&&(n+=`var _taps = this.taps;
`,n+=`var _interceptors = this.interceptors;
`),n},e.needContext=function(){for(var n=ho(this.options.taps),i;!(i=n()).done;){var a=i.value;if(a.context)return!0}return!1},e.callTap=function(n,i){for(var a=i.onError,o=i.onResult,s=i.onDone,c=i.rethrowIfPossible,l="",u=!1,f=0;f<this.options.interceptors.length;f++){var h=this.options.interceptors[f];h.tap&&(u||(l+="var _tap"+n+" = "+this.getTap(n)+`;
`,u=!0),l+=this.getInterceptor(f)+".tap("+(h.context?"_context, ":"")+"_tap"+n+`);
`)}l+="var _fn"+n+" = "+this.getTapFn(n)+`;
`;var d=this.options.taps[n];switch(d.type){case"sync":c||(l+="var _hasError"+n+` = false;
`,l+=`try {
`),o?l+="var _result"+n+" = _fn"+n+"("+this.args({before:d.context?"_context":void 0})+`);
`:l+="_fn"+n+"("+this.args({before:d.context?"_context":void 0})+`);
`,c||(l+=`} catch(_err) {
`,l+="_hasError"+n+` = true;
`,l+=a("_err"),l+=`}
`,l+="if(!_hasError"+n+`) {
`),o&&(l+=o("_result"+n)),s&&(l+=s()),c||(l+=`}
`);break;case"async":var p="";o?p+="(function(_err"+n+", _result"+n+`) {
`:p+="(function(_err"+n+`) {
`,p+="if(_err"+n+`) {
`,p+=a("_err"+n),p+=`} else {
`,o&&(p+=o("_result"+n)),s&&(p+=s()),p+=`}
`,p+="})",l+="_fn"+n+"("+this.args({before:d.context?"_context":void 0,after:p})+`);
`;break;case"promise":l+="var _hasResult"+n+` = false;
`,l+="var _promise"+n+" = _fn"+n+"("+this.args({before:d.context?"_context":void 0})+`);
`,l+="if (!_promise"+n+" || !_promise"+n+`.then)
`,l+="  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise"+n+` + ')');
`,l+="_promise"+n+".then((function(_result"+n+`) {
`,l+="_hasResult"+n+` = true;
`,o&&(l+=o("_result"+n)),s&&(l+=s()),l+="}), function(_err"+n+`) {
`,l+="if(_hasResult"+n+") throw _err"+n+`;
`,l+=a("_err"+n),l+=`});
`;break}return l},e.callTapsSeries=function(n){var i=this,a=n.onError,o=n.onResult,s=n.resultReturns,c=n.onDone,l=n.doneReturns,u=n.rethrowIfPossible;if(this.options.taps.length===0)return c();for(var f=this.options.taps.findIndex(function(b){return b.type!=="sync"}),h=s||l,d="",p=c,v=0,g=function(_){var O=_,E=p!==c&&(i.options.taps[O].type!=="sync"||v++>20);E&&(v=0,d+="function _next"+O+`() {
`,d+=p(),d+=`}
`,p=function(){return(h?"return ":"")+"_next"+O+`();
`});var P=p,A=function(L){return L?"":c()},T=i.callTap(O,{onError:function(L){return a(O,L,P,A)},onResult:o&&function(C){return o(O,C,P,A)},onDone:!o&&P,rethrowIfPossible:u&&(f<0||O<f)});p=function(){return T}},m=this.options.taps.length-1;m>=0;m--)g(m);return d+=p(),d},e.callTapsLooping=function(n){var i=n.onError,a=n.onDone,o=n.rethrowIfPossible;if(this.options.taps.length===0)return a();var s=this.options.taps.every(function(f){return f.type==="sync"}),c="";s||(c+=`var _looper = (function() {
`,c+=`var _loopAsync = false;
`),c+=`var _loop;
`,c+=`do {
`,c+=`_loop = false;
`;for(var l=0;l<this.options.interceptors.length;l++){var u=this.options.interceptors[l];u.loop&&(c+=this.getInterceptor(l)+".loop("+this.args({before:u.context?"_context":void 0})+`);
`)}return c+=this.callTapsSeries({onError:i,onResult:function(h,d,p,v){var g="";return g+="if("+d+` !== undefined) {
`,g+=`_loop = true;
`,s||(g+=`if(_loopAsync) _looper();
`),g+=v(!0),g+=`} else {
`,g+=p(),g+=`}
`,g},onDone:a&&function(){var f="";return f+=`if(!_loop) {
`,f+=a(),f+=`}
`,f},rethrowIfPossible:o&&s}),c+=`} while(_loop);
`,s||(c+=`_loopAsync = true;
`,c+=`});
`,c+=`_looper();
`),c},e.callTapsParallel=function(n){var i=this,a=n.onError,o=n.onResult,s=n.onDone,c=n.rethrowIfPossible,l=n.onTap,u=l===void 0?function(p,v){return v()}:l;if(this.options.taps.length<=1)return this.callTapsSeries({onError:a,onResult:o,onDone:s,rethrowIfPossible:c});var f="";f+=`do {
`,f+="var _counter = "+this.options.taps.length+`;
`,s&&(f+=`var _done = (function() {
`,f+=s(),f+=`});
`);for(var h=function(v){var g=function(){return s?`if(--_counter === 0) _done();
`:"--_counter;"},m=function(_){return _||!s?`_counter = 0;
`:`_counter = 0;
_done();
`};f+=`if(_counter <= 0) break;
`,f+=u(v,function(){return i.callTap(v,{onError:function(_){var O="";return O+=`if(_counter > 0) {
`,O+=a(v,_,g,m),O+=`}
`,O},onResult:o&&function(b){var _="";return _+=`if(_counter > 0) {
`,_+=o(v,b,g,m),_+=`}
`,_},onDone:!o&&function(){return g()},rethrowIfPossible:c})},g,m)},d=0;d<this.options.taps.length;d++)h(d);return f+=`} while(false);
`,f},e.args=function(n){var i=n===void 0?{}:n,a=i.before,o=i.after,s=this._args;return a&&(s=[a].concat(s)),o&&(s=s.concat(o)),s.length===0?"":s.join(", ")},e.getTapFn=function(n){return"_x["+n+"]"},e.getTap=function(n){return"_taps["+n+"]"},e.getInterceptor=function(n){return"_interceptors["+n+"]"},t}(),p5=function(t){_e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.content=function(i){var a=i.onError,o=i.onDone;return this.callTapsParallel({onError:function(c,l,u,f){return a(l)+f(!0)},onDone:o})},e}(yu),Vy=new p5,v5=function(e){return Vy.setup(this,e),Vy.create(e)},g5=function(t){_e(e,t);function e(r,n){var i;return r===void 0&&(r=[]),n===void 0&&(n=void 0),i=t.call(this,r,n)||this,i.compile=v5,i._call=void 0,i.call=void 0,i}return e}(yd),m5=function(t){_e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.content=function(i){var a=this,o=i.onError,s=i.onResult,c=i.onDone;return this.callTapsSeries({onError:function(u,f,h,d){return o(f)+d(!0)},onResult:function(u,f,h){var d="";return d+="if("+f+` !== undefined) {
`,d+=a._args[0]+" = "+f+`;
`,d+=`}
`,d+=h(),d},onDone:function(){return s(a._args[0])}})},e}(yu),Xy=new m5,y5=function(e){return Xy.setup(this,e),Xy.create(e)},b5=function(t){_e(e,t);function e(r,n){var i;return r===void 0&&(r=[]),n===void 0&&(n=void 0),i=t.call(this,r,n)||this,i.compile=y5,i._call=void 0,i.call=void 0,i}return e}(yd),x5=function(t){_e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.content=function(i){var a=i.onError,o=i.onDone,s=i.rethrowIfPossible;return this.callTapsSeries({onError:function(l,u){return a(u)},onDone:o,rethrowIfPossible:s})},e}(yu),qy=new x5,_5=function(){throw new Error("tapAsync is not supported on a SyncHook")},w5=function(){throw new Error("tapPromise is not supported on a SyncHook")},O5=function(e){return qy.setup(this,e),qy.create(e)},pr=function(t){_e(e,t);function e(r,n){var i;return r===void 0&&(r=[]),n===void 0&&(n=void 0),i=t.call(this,r,n)||this,i.tapAsync=_5,i.tapPromise=w5,i.compile=O5,i}return e}(yd),S5=function(t){_e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.content=function(i){var a=this,o=i.onError,s=i.onResult,c=i.resultReturns,l=i.rethrowIfPossible;return this.callTapsSeries({onError:function(f,h){return o(h)},onResult:function(f,h,d){var p="";return p+="if("+h+` !== undefined) {
`,p+=a._args[0]+" = "+h+`;
`,p+=`}
`,p+=d(),p},onDone:function(){return s(a._args[0])},doneReturns:c,rethrowIfPossible:l})},e}(yu),Uy=new S5,E5=function(){throw new Error("tapAsync is not supported on a SyncWaterfallHook")},M5=function(){throw new Error("tapPromise is not supported on a SyncWaterfallHook")},P5=function(e){return Uy.setup(this,e),Uy.create(e)},bd=function(t){_e(e,t);function e(r,n){var i;return r===void 0&&(r=[]),n===void 0&&(n=void 0),i=t.call(this,r,n)||this,i.tapAsync=E5,i.tapPromise=M5,i.compile=P5,i}return e}(pr),A5=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],k5=/([\"\'])[^\'\"]+\1/;function T5(t){for(var e=t.fontSize,r=t.fontFamily,n=t.fontStyle,i=t.fontVariant,a=t.fontWeight,o=ct(e)&&e+"px"||"16px",s=at(r)?r.split(","):[r],c=s.length-1;c>=0;c--){var l=s[c].trim();!k5.test(l)&&A5.indexOf(l)<0&&(l='"'+l+'"'),s[c]=l}return n+" "+i+" "+a+" "+o+" "+s.join(",")}var L5=1,C5=function(){return L5++},xi=typeof self=="object"&&self.self==self?self:typeof xt.g=="object"&&xt.g.global==xt.g?xt.g:{},N5=Date.now(),R5=function(){return xi.performance&&typeof xi.performance.now=="function"?xi.performance.now():Date.now()-N5},bc={},Ky=Date.now(),I5=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");var r=Date.now(),n=r-Ky,i=n>16?0:16-n,a=C5();return bc[a]=e,Object.keys(bc).length>1||setTimeout(function(){Ky=r;var o=bc;bc={},Object.keys(o).forEach(function(s){return o[s](R5())})},i),a},D5=function(e){delete bc[e]},j5=["","webkit","moz","ms","o"],Zy=function(e){return typeof e!="string"?I5:e===""?xi.requestAnimationFrame:xi[e+"RequestAnimationFrame"]},B5=function(e){return typeof e!="string"?D5:e===""?xi.cancelAnimationFrame:xi[e+"CancelAnimationFrame"]||xi[e+"CancelRequestAnimationFrame"]},F5=function(e,r){for(var n=0;e[n]!==void 0;){if(r(e[n]))return e[n];n=n+1}},Qy=F5(j5,function(t){return!!Zy(t)}),Jy=Zy(Qy),t1=B5(Qy);xi.requestAnimationFrame=Jy,xi.cancelAnimationFrame=t1;var z5=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,G5=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$5=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,e1=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function W5(t){var e,r=t.length;if(t[r-1].length=(e=t[r-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},r>1){var n;t[0].length=(n=t[0].length)!==null&&n!==void 0?n:{type:"%",value:"0"}}for(var i=0,a=Number(t[0].length.value),o=1;o<r;o++){var s,c=(s=t[o].length)===null||s===void 0?void 0:s.value;if(!ot(c)&&!ot(a)){for(var l=1;l<o-i;l++)t[i+l].length={type:"%",value:""+(a+(Number(c)-a)*l/(o-i))};i=o,a=Number(c)}}}var Y5={left:270-90,top:0-90,bottom:180-90,right:90-90,"left top":315-90,"top left":315-90,"left bottom":225-90,"bottom left":225-90,"right top":45-90,"top right":45-90,"right bottom":135-90,"bottom right":135-90},H5=Kn(function(t){var e;return t.type==="angular"?e=Number(t.value):e=Y5[t.value]||0,He(e,"deg")}),V5=Kn(function(t){var e=50,r=50,n="%",i="%";if((t==null?void 0:t.type)==="position"){var a=t.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?e=0:o.value==="center"?e=50:o.value==="right"?e=100:o.value==="top"?r=0:o.value==="bottom"&&(r=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?e=0:s.value==="center"?r=50:s.value==="right"?e=100:s.value==="top"?r=0:s.value==="bottom"&&(r=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(n=o==null?void 0:o.type,e=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,r=Number(s.value))}return{cx:He(e,n),cy:He(r,i)}}),X5=Kn(function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var e=n5(t);return e.map(function(s){var c=s.type,l=s.orientation,u=s.colorStops;W5(u);var f=u.map(function(_){return{offset:He(Number(_.length.value),"%"),color:e5(_)}});if(c==="linear-gradient")return new pu(yi.LinearGradient,{angle:l?H5(l):Ui,steps:f});if(c==="radial-gradient"&&(l||(l=[{type:"shape",value:"circle"}]),l[0].type==="shape"&&l[0].value==="circle")){var h=V5(l[0].at),d=h.cx,p=h.cy,v;if(l[0].style){var g=l[0].style,m=g.type,b=g.value;m==="extent-keyword"?v=cd(b):v=He(b,m)}return new pu(yi.RadialGradient,{cx:d,cy:p,size:v,steps:f})}})}var r=t[0];if(t[1]==="("||t[2]==="("){if(r==="l"){var n=z5.exec(t);if(n){var i,a=((i=n[2].match(e1))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new pu(yi.LinearGradient,{angle:He(parseFloat(n[1]),"deg"),steps:a.map(function(s){var c=s[0],l=s[1];return{offset:He(Number(c)*100,"%"),color:l}})})]}}else if(r==="r"){var o=q5(t);if(o)if(at(o))t=o;else return[new pu(yi.RadialGradient,o)]}else if(r==="p")return U5(t)}});function q5(t){var e=G5.exec(t);if(e){var r,n=((r=e[4].match(e1))===null||r===void 0?void 0:r.map(function(i){return i.split(":")}))||[];return{cx:He(50,"%"),cy:He(50,"%"),steps:n.map(function(i){var a=i[0],o=i[1];return{offset:He(Number(a)*100,"%"),color:o}})}}return null}function U5(t){var e=$5.exec(t);if(e){var r=e[1],n=e[2];switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;case"n":r="no-repeat";break;default:r="no-repeat"}return{image:n,repetition:r}}return null}function ZZ(t){return!!t.type&&!!t.value}function xc(t){return t&&!!t.image}function bu(t){return t&&!ot(t.r)&&!ot(t.g)&&!ot(t.b)}var Oa=Kn(function(t){if(xc(t))return re({repetition:"repeat"},t);if(ot(t)&&(t=""),t==="transparent")return ky;t==="currentColor"&&(t="black");var e=X5(t);if(e)return e;var r=nu(t),n=[0,0,0,0];return r!==null&&(n[0]=r.r||0,n[1]=r.g||0,n[2]=r.b||0,n[3]=r.opacity),IL.apply(void 0,n)});function K5(t,e){if(!(!bu(t)||!bu(e)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(r){var n=r.slice();if(n[3])for(var i=0;i<3;i++)n[i]=Math.round(et(n[i],0,255));return n[3]=et(n[3],0,1),"rgba("+n.join(",")+")"}]}var En=function(){t.isEmpty=function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0};function t(r,n){r===void 0&&(r=[0,0,0]),n===void 0&&(n=[0,0,0]),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0],this.update(r,n)}var e=t.prototype;return e.update=function(n,i){Zo(this.center,n),Zo(this.halfExtents,i),fd(this.min,this.center,this.halfExtents),vu(this.max,this.center,this.halfExtents)},e.setMinMax=function(n,i){vu(this.center,i,n),Ny(this.center,this.center,.5),fd(this.halfExtents,i,n),Ny(this.halfExtents,this.halfExtents,.5),Zo(this.min,n),Zo(this.max,i)},e.getMin=function(){return this.min},e.getMax=function(){return this.max},e.add=function(n){if(!t.isEmpty(n)){if(t.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var i=this.center,a=i[0],o=i[1],s=i[2],c=this.halfExtents,l=c[0],u=c[1],f=c[2],h=a-l,d=a+l,p=o-u,v=o+u,g=s-f,m=s+f,b=n.center,_=b[0],O=b[1],E=b[2],P=n.halfExtents,A=P[0],T=P[1],C=P[2],L=_-A,N=_+A,x=O-T,y=O+T,w=E-C,M=E+C;L<h&&(h=L),N>d&&(d=N),x<p&&(p=x),y>v&&(v=y),w<g&&(g=w),M>m&&(m=M),i[0]=(h+d)*.5,i[1]=(p+v)*.5,i[2]=(g+m)*.5,c[0]=(d-h)*.5,c[1]=(v-p)*.5,c[2]=(m-g)*.5,this.min[0]=h,this.min[1]=p,this.min[2]=g,this.max[0]=d,this.max[1]=v,this.max[2]=m}},e.setFromTransformedAABB=function(n,i){var a=this.center,o=this.halfExtents,s=n.center,c=n.halfExtents,l=i[0],u=i[4],f=i[8],h=i[1],d=i[5],p=i[9],v=i[2],g=i[6],m=i[10],b=Math.abs(l),_=Math.abs(u),O=Math.abs(f),E=Math.abs(h),P=Math.abs(d),A=Math.abs(p),T=Math.abs(v),C=Math.abs(g),L=Math.abs(m);a[0]=i[12]+l*s[0]+u*s[1]+f*s[2],a[1]=i[13]+h*s[0]+d*s[1]+p*s[2],a[2]=i[14]+v*s[0]+g*s[1]+m*s[2],o[0]=b*c[0]+_*c[1]+O*c[2],o[1]=E*c[0]+P*c[1]+A*c[2],o[2]=T*c[0]+C*c[1]+L*c[2],fd(this.min,a,o),vu(this.max,a,o)},e.intersects=function(n){var i=this.getMax(),a=this.getMin(),o=n.getMax(),s=n.getMin();return a[0]<=o[0]&&i[0]>=s[0]&&a[1]<=o[1]&&i[1]>=s[1]&&a[2]<=o[2]&&i[2]>=s[2]},e.intersection=function(n){if(!this.intersects(n))return null;var i=new t,a=HL([0,0,0],this.getMin(),n.getMin()),o=VL([0,0,0],this.getMax(),n.getMax());return i.setMinMax(a,o),i},e.getNegativeFarPoint=function(n){return n.pnVertexFlag===273?Zo([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},e.getPositiveFarPoint=function(n){return n.pnVertexFlag===273?Zo([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),Z5=function(){function t(r,n){this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=r||0,this.normal=n||we(0,1,0),this.updatePNVertexFlag()}var e=t.prototype;return e.updatePNVertexFlag=function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)},e.distanceToPoint=function(n){return ti(n,this.normal)-this.distance},e.normalize=function(){var n=1/Gm(this.normal);Gh(this.normal,this.normal,n),this.distance*=n},e.intersectsLine=function(n,i,a){var o=this.distanceToPoint(n),s=this.distanceToPoint(i),c=o/(o-s),l=c>=0&&c<=1;return l&&a&&$h(a,n,i,c),l},t}(),Sa;(function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"})(Sa||(Sa={}));var Q5=function(){function t(r){if(this.planes=[],r)this.planes=r;else for(var n=0;n<6;n++)this.planes.push(new Z5)}var e=t.prototype;return e.extractFromVPMatrix=function(n){var i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6],f=n[7],h=n[8],d=n[9],p=n[10],v=n[11],g=n[12],m=n[13],b=n[14],_=n[15];Jr(this.planes[0].normal,s-i,f-c,v-h),this.planes[0].distance=_-g,Jr(this.planes[1].normal,s+i,f+c,v+h),this.planes[1].distance=_+g,Jr(this.planes[2].normal,s+a,f+l,v+d),this.planes[2].distance=_+m,Jr(this.planes[3].normal,s-a,f-l,v-d),this.planes[3].distance=_-m,Jr(this.planes[4].normal,s-o,f-u,v-p),this.planes[4].distance=_-b,Jr(this.planes[5].normal,s+o,f+u,v+p),this.planes[5].distance=_+b,this.planes.forEach(function(O){O.normalize(),O.updatePNVertexFlag()})},t}(),Fn=function(){function t(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=r,this.y=n}var e=t.prototype;return e.clone=function(){return new t(this.x,this.y)},e.copyFrom=function(n){this.x=n.x,this.y=n.y},t}(),Jo=function(){function t(r,n,i,a){this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.left=void 0,this.right=void 0,this.top=void 0,this.bottom=void 0,this.x=r,this.y=n,this.width=i,this.height=a,this.left=r,this.right=r+i,this.top=n,this.bottom=n+a}var e=t.prototype;return e.toJSON=function(){},t}();function _c(t,e){if(ot(e))return He(0,"px");if(e=(""+e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return He(Number(e),"px");if("deg".search(t)>=0)return He(Number(e),"deg")}var r=[];e=e.replace(t,function(i){return r.push(i),"U"+i});var n="U("+t.source+")";return r.map(function(i){return He(Number(e.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(n,"g"),"*0")),i)})[0]}var J5=Kn(function(t){return _c(new RegExp("px","g"),t)}),QZ=Kn(function(t){return _c(new RegExp("%","g"),t)}),ts=function(e){return ct(e)||isFinite(Number(e))?He(Number(e),"px"):_c(new RegExp("px|%|em|rem","g"),e)},n1=Kn(function(t){return _c(new RegExp("deg|rad|grad|turn","g"),t)});function t3(t,e,r,n,i){i===void 0&&(i=0);var a="",o=t.value||0,s=e.value||0,c=ad(t.unit),l=t.convertTo(c),u=e.convertTo(c);return l&&u?(o=l.value,s=u.value,a=rd(t.unit)):(Ye.isLength(t.unit)||Ye.isLength(e.unit))&&(o=kr(t,i,r),s=kr(e,i,r),a="px"),[o,s,function(f){return n&&(f=Math.max(f,0)),f+a}]}function Ar(t){var e=0;return t.unit===yt.kDegrees?e=t.value:t.unit===yt.kRadians?e=jr(Number(t.value)):t.unit===yt.kTurns&&(e=XL(Number(t.value))),e}function xd(t,e){var r;return Array.isArray(t)?r=t.map(function(n){return Number(n)}):at(t)?r=t.split(" ").map(function(n){return Number(n)}):ct(t)&&(r=[t]),e===2?r.length===1?[r[0],r[0]]:[r[0],r[1]]:r.length===1?[r[0],r[0],r[0],r[0]]:r.length===2?[r[0],r[1],r[0],r[1]]:r.length===3?[r[0],r[1],r[2],r[1]]:[r[0],r[1],r[2],r[3]]}function r1(t){return at(t)?t.split(" ").map(function(e){return ts(e)}):t.map(function(e){return ts(e.toString())})}function kr(t,e,r){if(t.unit===yt.kPixels)return Number(t.value);if(t.unit===yt.kPercentage&&r){var n=r.nodeName===rt.GROUP?r.getLocalBounds():r.geometry.contentBounds,i=0;return En.isEmpty(n)||(i=n.halfExtents[e]*2),Number(t.value)/100*i}return 0}var e3=function(e){return _c(/deg|rad|grad|turn|px|%/g,e)},n3=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function i1(t){if(t===void 0&&(t=""),t=t.toLowerCase().trim(),t==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,r=[],n,i=0;n=e.exec(t);){if(n.index!==i)return[];if(i=n.index+n[0].length,n3.indexOf(n[1])>-1&&r.push({name:n[1],params:n[2].split(" ").map(function(a){return e3(a)||Oa(a)})}),e.lastIndex===t.length)return r}return[]}function a1(t){return t.toString()}var vo=Kn(function(t){return typeof t=="number"?He(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?He(Number(t)):He(0)}),JZ=Kn(function(t){return at(t)?t.split(" ").map(vo):t.map(vo)});function _d(t,e){return[t,e,a1]}function wd(t,e){return function(r,n){return[r,n,function(i){return a1(et(i,t,e))}]}}function o1(t,e){if(t.length===e.length)return[t,e,function(r){return r}]}var s1=function(e){if(e===""||Array.isArray(e)&&e.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var r;try{r=Wi(e)}catch(d){r=Wi(""),console.error("[g]: Invalid SVG Path definition: "+e)}var n=a5(r),i=o5(r),a=i.polygons,o=i.polylines,s=c5(r),c=s5(s,0),l=c.x,u=c.y,f=c.width,h=c.height;return{absolutePath:r,hasArc:n,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(h)?h:0}}},r3=Kn(s1);function Od(t,e){var r=at(t)?r3(t):s1(t);return e&&(e.parsedStyle.defX=r.rect.x,e.parsedStyle.defY=r.rect.y),r}function i3(t,e,r){var n=t.curve,i=e.curve;(!n||n.length===0)&&(n=te(t.absolutePath,!1),t.curve=n),(!i||i.length===0)&&(i=te(e.absolutePath,!1),e.curve=i);var a=[n,i];n.length!==i.length&&(a=Oe(n,i));var o=Hi(a[0])!==Hi(a[1])?Ql(a[0]):Rr(a[0]);return[o,Jl(a[1],o),function(s){return s}]}function c1(t,e){var r;at(t)?r=t.split(" ").map(function(u){var f=u.split(","),h=f[0],d=f[1];return[Number(h),Number(d)]}):r=t;var n=[],i=0,a,o,s=wy.length(r);r.forEach(function(u,f){r[f+1]&&(a=[0,0],a[0]=i/s,o=Mr.length(u[0],u[1],r[f+1][0],r[f+1][1]),i+=o,a[1]=i/s,n.push(a))});var c=Math.min.apply(Math,r.map(function(u){return u[0]})),l=Math.min.apply(Math,r.map(function(u){return u[1]}));return e&&(e.parsedStyle.defX=c,e.parsedStyle.defY=l),{points:r,totalLength:s,segments:n}}var dn=null;function vr(t){return function(e){var r=0;return t.map(function(n){return n===dn?e[r++]:n})}}function go(t){return t}var Sd={matrix:["NNNNNN",[dn,dn,0,0,dn,dn,0,0,0,0,1,0,dn,dn,0,1],go],matrix3d:["NNNNNNNNNNNNNNNN",go],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",vr([dn,dn,new Ye(1)]),go],scalex:["N",vr([dn,new Ye(1),new Ye(1)]),vr([dn,new Ye(1)])],scaley:["N",vr([new Ye(1),dn,new Ye(1)]),vr([new Ye(1),dn])],scalez:["N",vr([new Ye(1),new Ye(1),dn])],scale3d:["NNN",go],skew:["Aa",null,go],skewx:["A",null,vr([dn,Ui])],skewy:["A",null,vr([Ui,dn])],translate:["Tt",vr([dn,dn,Bn]),go],translatex:["T",vr([dn,Bn,Bn]),vr([dn,Bn])],translatey:["T",vr([Bn,dn,Bn]),vr([Bn,dn])],translatez:["L",vr([Bn,Bn,dn])],translate3d:["TTL",go]};function xu(t){if(t=(t||"none").toLowerCase().trim(),t==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,r=[],n,i=0;n=e.exec(t);){if(n.index!==i)return[];i=n.index+n[0].length;var a=n[1],o=Sd[a];if(!o)return[];var s=n[2].split(","),c=o[0];if(c.length<s.length)return[];for(var l=[],u=0;u<c.length;u++){var f=s[u],h=c[u],d=void 0;if(f?d={A:function(v){return v.trim()==="0"?Ui:n1(v)},N:vo,T:ts,L:J5}[h.toUpperCase()](f):d={a:Ui,n:l[0],t:Bn}[h],d===void 0)return[];l.push(d)}if(r.push({t:a,d:l}),e.lastIndex===t.length)return r}return[]}function a3(t){var e,r,n,i;switch(t.t){case"rotatex":return i=on(Ar(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=on(Ar(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=on(Ar(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,r=t.d[1].value,n=t.d[2].value,i=on(Ar(t.d[3]));var a=e*e+r*r+n*n;if(a===0)e=1,r=0,n=0;else if(a!==1){var o=Math.sqrt(a);e/=o,r/=o,n/=o}var s=Math.sin(i/2),c=s*Math.cos(i/2),l=s*s;return[1-2*(r*r+n*n)*l,2*(e*r*l+n*c),2*(e*n*l-r*c),0,2*(e*r*l-n*c),1-2*(e*e+n*n)*l,2*(r*n*l+e*c),0,2*(e*n*l+r*c),2*(r*n*l-e*c),1-2*(e*e+r*r)*l,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var u=on(Ar(t.d[0])),f=on(Ar(t.d[1]));return[1,Math.tan(f),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=on(Ar(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=on(Ar(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=kr(t.d[0],0,null)||0,r=kr(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,r,0,1];case"translatex":return e=kr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return r=kr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,r,0,1];case"translatez":return n=kr(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n,1];case"translate3d":return e=kr(t.d[0],0,null)||0,r=kr(t.d[1],0,null)||0,n=kr(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,r,n,1];case"perspective":var h=kr(t.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(p){return p.value})}}function o3(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function s3(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(a3).reduce(o3)}function l1(t){var e=[0,0,0],r=[1,1,1],n=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return QL(s3(t),e,r,n,i,a),[[e,r,n,a,i]]}var c3=function(){function t(n,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var c=0;c<4;c++)a[o][s]+=i[o][c]*n[c][s];return a}function e(n){return n[0][2]==0&&n[0][3]==0&&n[1][2]==0&&n[1][3]==0&&n[2][0]==0&&n[2][1]==0&&n[2][2]==1&&n[2][3]==0&&n[3][2]==0&&n[3][3]==1}function r(n,i,a,o,s){for(var c=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=0;l<4;l++)c[l][3]=s[l];for(var u=0;u<3;u++)for(var f=0;f<3;f++)c[3][u]+=n[f]*c[f][u];var h=o[0],d=o[1],p=o[2],v=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(d*d+p*p),g[0][1]=2*(h*d-p*v),g[0][2]=2*(h*p+d*v),g[1][0]=2*(h*d+p*v),g[1][1]=1-2*(h*h+p*p),g[1][2]=2*(d*p-h*v),g[2][0]=2*(h*p-d*v),g[2][1]=2*(d*p+h*v),g[2][2]=1-2*(h*h+d*d),c=t(c,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],c=t(c,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],c=t(c,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],c=t(c,m));for(var b=0;b<3;b++)for(var _=0;_<3;_++)c[b][_]*=i[b];return e(c)?[c[0][0],c[0][1],c[1][0],c[1][1],c[3][0],c[3][1]]:c[0].concat(c[1],c[2],c[3])}return r}();function l3(t){return t.toFixed(6).replace(".000000","")}function Ed(t,e){var r,n;return t.decompositionPair!==e&&(t.decompositionPair=e,r=l1(t)),e.decompositionPair!==t&&(e.decompositionPair=t,n=l1(e)),r[0]===null||n[0]===null?[[!1],[!0],function(i){return i?e[0].d:t[0].d}]:(r[0].push(0),n[0].push(1),[r,n,function(i){var a=f3(r[0][3],n[0][3],i[5]),o=c3(i[0],i[1],i[2],a,i[4]),s=o.map(l3).join(",");return s}])}function u3(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}function f3(t,e,r){var n=u3(t,e);n=et(n,-1,1);var i=[];if(n===1)i=t;else for(var a=Math.acos(n),o=Math.sin(r*a)*1/Math.sqrt(1-n*n),s=0;s<4;s++)i.push(t[s]*(Math.cos(r*a)-n*o)+e[s]*o);return i}function Md(t){return t.replace(/[xy]/,"")}function Pd(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var h3=function(e,r){return e==="perspective"&&r==="perspective"||(e==="matrix"||e==="matrix3d")&&(r==="matrix"||r==="matrix3d")};function d3(t,e,r){var n=!1;if(!t.length||!e.length){t.length||(n=!0,t=e,e=[]);for(var i=function(N){var x=t[N],y=x.t,w=x.d,M=y.substring(0,5)==="scale"?1:0;e.push({t:y,d:w.map(function(S){return typeof S=="number"?He(M):He(M,S.unit)})})},a=0;a<t.length;a++)i(a)}var o=[],s=[],c=[];if(t.length!==e.length){var l=Ed(t,e);o=[l[0]],s=[l[1]],c=[["matrix",[l[2]]]]}else for(var u=0;u<t.length;u++){var f=t[u].t,h=e[u].t,d=t[u].d,p=e[u].d,v=Sd[f],g=Sd[h],m=void 0;if(h3(f,h)){var b=Ed([t[u]],[e[u]]);o.push(b[0]),s.push(b[1]),c.push(["matrix",[b[2]]]);continue}else if(f===h)m=f;else if(v[2]&&g[2]&&Md(f)===Md(h))m=Md(f),d=v[2](d),p=g[2](p);else if(v[1]&&g[1]&&Pd(f)===Pd(h))m=Pd(f),d=v[1](d),p=g[1](p);else{var _=Ed(t,e);o=[_[0]],s=[_[1]],c=[["matrix",[_[2]]]];break}for(var O=[],E=[],P=[],A=0;A<d.length;A++){var T=t3(d[A],p[A],r,!1,A);O[A]=T[0],E[A]=T[1],P.push(T[2])}o.push(O),s.push(E),c.push([m,P])}if(n){var C=o;o=s,s=C}return[o,s,function(L){return L.map(function(N,x){var y=N.map(function(w,M){return c[x][1][M](w)}).join(",");return c[x][0]==="matrix"&&y.split(",").length===16&&(c[x][0]="matrix3d"),c[x][0]==="matrix3d"&&y.split(",").length===6&&(c[x][0]="matrix"),c[x][0]+"("+y+")"}).join(" ")}]}var u1=Kn(function(t){if(at(t)){if(t==="text-anchor")return[He(0,"px"),He(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[ts(f1(e[0])),ts(f1(e[1]))]}else return[He(t[0]||0,"px"),He(t[1]||0,"px")]});function f1(t){return t==="center"?"50%":t==="left"||t==="top"?"0":t==="right"||t==="bottom"?"100%":t}var p3=function(){function t(){this.parser=n1,this.parserWithCSSDisabled=null,this.mixer=_d}var e=t.prototype;return e.calculator=function(n,i,a,o){return Ar(a)},t}(),v3=function(){function t(){}var e=t.prototype;return e.calculator=function(n,i,a,o){return a instanceof dr&&(a=null),nt.sceneGraphService.updateDisplayObjectDependency(n,i,a,o),n==="clipPath"&&o.forEach(function(s){s.childNodes.length===0&&nt.sceneGraphService.dirtifyToRoot(s)}),a},t}(),g3=function(){function t(){this.parser=Oa,this.parserWithCSSDisabled=Oa,this.mixer=K5}var e=t.prototype;return e.calculator=function(n,i,a,o){return a instanceof dr?a.value==="none"?ld:ky:a},t}(),m3=function(){function t(){this.parser=i1}var e=t.prototype;return e.calculator=function(n,i,a){return a instanceof dr?[]:a},t}();function h1(t){var e=t.parsedStyle.fontSize;return ot(e)?null:e}var Ad=function(){function t(){this.parser=ts,this.parserWithCSSDisabled=null,this.mixer=_d}var e=t.prototype;return e.calculator=function(n,i,a,o,s){if(ct(a))return a;if(Ye.isRelativeUnit(a.unit)){if(a.unit===yt.kPercentage)return 0;if(a.unit===yt.kEms){if(o.parentNode){var c=h1(o.parentNode);if(c)return c*=a.value,c;s.addUnresolveProperty(o,n)}else s.addUnresolveProperty(o,n);return 0}else if(a.unit===yt.kRems){var l;if(!(o==null||(l=o.ownerDocument)===null||l===void 0)&&l.documentElement){var u=h1(o.ownerDocument.documentElement);if(u)return u*=a.value,u;s.addUnresolveProperty(o,n)}else s.addUnresolveProperty(o,n);return 0}}else return a.value},t}(),y3=function(){function t(){this.mixer=o1}var e=t.prototype;return e.parser=function(n){var i=r1(ct(n)?[n]:n),a;return i.length===1?a=[i[0],i[0]]:a=[i[0],i[1]],a},e.calculator=function(n,i,a){return a.map(function(o){return o.value})},t}(),b3=function(){function t(){this.mixer=o1}var e=t.prototype;return e.parser=function(n){var i=r1(ct(n)?[n]:n),a;return i.length===1?a=[i[0],i[0],i[0],i[0]]:i.length===2?a=[i[0],i[1],i[0],i[1]]:i.length===3?a=[i[0],i[1],i[2],i[1]]:a=[i[0],i[1],i[2],i[3]],a},e.calculator=function(n,i,a){return a.map(function(o){return o.value})},t}(),x3=function(t){_e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.postProcessor=function(i,a){var o,s,c;switch(i.nodeName){case rt.CIRCLE:case rt.ELLIPSE:var l=i.parsedStyle,u=l.cx,f=l.cy;ot(u)||(o=u),ot(f)||(s=f);break;case rt.LINE:var h=i.parsedStyle,d=h.x1,p=h.x2,v=h.y1,g=h.y2,m=Math.min(d,p),b=Math.min(v,g);o=m,s=b,c=0;break;case rt.RECT:case rt.IMAGE:case rt.GROUP:case rt.HTML:case rt.TEXT:case rt.MESH:ot(i.parsedStyle.x)||(o=i.parsedStyle.x),ot(i.parsedStyle.y)||(s=i.parsedStyle.y);break}i.nodeName!==rt.PATH&&i.nodeName!==rt.POLYLINE&&i.nodeName!==rt.POLYGON&&(i.parsedStyle.defX=o||0,i.parsedStyle.defY=s||0);var _=!ot(o)||!ot(s)||!ot(c);if(_&&a.indexOf("transform")===-1){var O=i.parsedStyle.transform;if(O&&O.length)pd(O,i);else{var E=i.getLocalPosition(),P=E[0],A=E[1],T=E[2];i.setLocalPosition(ot(o)?P:o,ot(s)?A:s,ot(c)?T:c)}}},e}(Ad),_3=function(){function t(){}var e=t.prototype;return e.calculator=function(n,i,a,o){var s;a instanceof dr&&(a=null);var c=(s=a)===null||s===void 0?void 0:s.cloneNode(!0);return c&&(c.style.isMarker=!0),c},t}(),w3=function(){function t(){this.mixer=_d,this.parser=vo,this.parserWithCSSDisabled=null}var e=t.prototype;return e.calculator=function(n,i,a){return a.value},t}(),O3=function(){function t(){this.parser=vo,this.parserWithCSSDisabled=null,this.mixer=wd(0,1)}var e=t.prototype;return e.calculator=function(n,i,a){return a.value},e.postProcessor=function(n){var i=n.parsedStyle,a=i.offsetPath,o=i.offsetDistance;if(!!a){var s=a.nodeName;if(s===rt.LINE||s===rt.PATH||s===rt.POLYLINE){var c=a.getPoint(o);c&&(n.parsedStyle.defX=c.x,n.parsedStyle.defY=c.y,n.setLocalPosition(c.x,c.y))}}},t}(),S3=function(){function t(){this.parser=vo,this.parserWithCSSDisabled=null,this.mixer=wd(0,1)}var e=t.prototype;return e.calculator=function(n,i,a){return a.value},t}(),E3=function(){function t(){this.parser=Od,this.parserWithCSSDisabled=Od,this.mixer=i3}var e=t.prototype;return e.calculator=function(n,i,a){return a instanceof dr&&a.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Jo(0,0,0,0)}:a},e.postProcessor=function(n,i){if(n.nodeName===rt.PATH&&i.indexOf("transform")===-1){var a=n.parsedStyle,o=a.defX,s=o===void 0?0:o,c=a.defY,l=c===void 0?0:c;n.setLocalPosition(s,l)}},t}(),M3=function(){function t(){this.parser=c1}var e=t.prototype;return e.postProcessor=function(n,i){if((n.nodeName===rt.POLYGON||n.nodeName===rt.POLYLINE)&&i.indexOf("transform")===-1){var a=n.parsedStyle,o=a.defX,s=a.defY;n.setLocalPosition(o,s)}},t}(),P3=function(t){_e(e,t);function e(){for(var r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i))||this,r.mixer=wd(0,1/0),r}return e}(Ad),A3=function(){function t(){}var e=t.prototype;return e.calculator=function(n,i,a,o){return a instanceof dr?a.value==="unset"?"":a.value:""+a},e.postProcessor=function(n){n.nodeValue=""+n.parsedStyle.text||""},t}(),k3=function(){function t(){}var e=t.prototype;return e.calculator=function(n,i,a,o){var s=o.getAttribute("text");if(s){var c=s;a.value==="capitalize"?c=s.charAt(0).toUpperCase()+s.slice(1):a.value==="lowercase"?c=s.toLowerCase():a.value==="uppercase"&&(c=s.toUpperCase()),o.parsedStyle.text=c}return a.value},t}(),T3=function(){function t(){this.parser=xu,this.parserWithCSSDisabled=xu,this.mixer=d3}var e=t.prototype;return e.calculator=function(n,i,a,o){return a instanceof dr?[]:a},e.postProcessor=function(n){var i=n.parsedStyle.transform;pd(i,n)},t}(),L3=function(){this.parser=u1},C3=function(){function t(){this.parser=vo}var e=t.prototype;return e.calculator=function(n,i,a,o){return a.value},e.postProcessor=function(n){if(n.parentNode){var i=n.parentNode,a=i.renderable,o=i.sortable;a&&(a.dirty=!0),o&&(o.dirty=!0)}},t}(),N3=function(){function t(){this.registry={},this.define(rt.CIRCLE,wu),this.define(rt.ELLIPSE,Cd),this.define(rt.RECT,Br),this.define(rt.IMAGE,Eu),this.define(rt.LINE,Oc),this.define(rt.GROUP,or),this.define(rt.PATH,Ne),this.define(rt.POLYGON,Mu),this.define(rt.POLYLINE,Nd),this.define(rt.TEXT,wi),this.define(rt.HTML,Su)}var e=t.prototype;return e.define=function(n,i){this.registry[n]=i},e.get=function(n){return this.registry[n]},t}();function R3(t){return!!t.type}var _u=function(){function t(r){this.type=void 0,this.eventPhase=t.prototype.NONE,this.target=void 0,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.currentTarget=void 0,this.defaultPrevented=!1,this.timeStamp=void 0,this.nativeEvent=void 0,this.originalEvent=void 0,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.manager=void 0,this.detail=void 0,this.layer=new Fn,this.page=new Fn,this.canvas=new Fn,this.viewport=new Fn,this.path=void 0,this.view=void 0,this.which=void 0,this.returnValue=void 0,this.srcElement=void 0,this.composed=!1,this.isTrusted=void 0,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=r}var e=t.prototype;return e.composedPath=function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},e.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},e.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},e.stopPropagation=function(){this.propagationStopped=!0},e.initEvent=function(){},e.initUIEvent=function(){},e.clone=function(){throw new Error(Ge)},uo(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"propagationPath",get:function(){return this.composedPath()}}]),t}(),en=function(t){_e(e,t);function e(r,n){var i;return i=t.call(this,null)||this,i.type=r,i.detail=n,Object.assign(fo(i),n),i}return e}(_u),d1=":",p1=function(){function t(){this.emitter=new(Jh())}var e=t.prototype;return e.on=function(n,i,a){return this.addEventListener(n,i,a),this},e.addEventListener=function(n,i,a){var o=eu(a)&&a||vi(a)&&a.capture,s=vi(a)&&a.once,c=Uo(i)?void 0:i,l=!1,u="";if(n.indexOf(d1)>-1){var f=n.split(d1),h=f[0],d=f[1];n=d,u=h,l=!0}if(n=o?n+"capture":n,i=Uo(i)?i:i.handleEvent,l){var p=i;i=function(){for(var g,m=arguments.length,b=new Array(m),_=0;_<m;_++)b[_]=arguments[_];((g=b[0].target)===null||g===void 0?void 0:g.name)===u&&p.apply(void 0,b)}}return s?this.emitter.once(n,i,c):this.emitter.on(n,i,c),this},e.off=function(n,i,a){return n?this.removeEventListener(n,i,a):this.removeAllEventListeners(),this},e.removeAllEventListeners=function(){this.emitter.removeAllListeners()},e.removeEventListener=function(n,i,a){var o,s=eu(a)&&a||vi(a)&&a.capture,c=Uo(i)?void 0:i;return n=s?n+"capture":n,i=Uo(i)?i:(o=i)===null||o===void 0?void 0:o.handleEvent,this.emitter.off(n,i,c),this},e.emit=function(n,i){this.dispatchEvent(new en(n,i))},e.dispatchEvent=function(n,i){if(i===void 0&&(i=!1),!R3(n))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){var s;if(n.manager=a.getEventService()||null,!n.manager)return!1;n.defaultPrevented=!1,n.path=[],i||(n.target=this),(s=n.manager)===null||s===void 0||s.dispatchEvent(n,n.type,i)}return!n.defaultPrevented},t}(),pn=function(t){_e(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n}e.isNode=function(i){return!!i.childNodes};var r=e.prototype;return r.getRootNode=function(i){return i===void 0&&(i={}),this.parentNode?this.parentNode.getRootNode(i):i.composed&&this.host?this.host.getRootNode(i):this},r.hasChildNodes=function(){return this.childNodes.length>0},r.isDefaultNamespace=function(i){throw new Error(Ge)},r.lookupNamespaceURI=function(i){throw new Error(Ge)},r.lookupPrefix=function(i){throw new Error(Ge)},r.normalize=function(){throw new Error(Ge)},r.isEqualNode=function(i){return this===i},r.isSameNode=function(i){return this.isEqualNode(i)},r.compareDocumentPosition=function(i){if(i===this)return 0;if(!(i instanceof e))throw new TypeError("Node.compareDocumentPosition: Argument 1 does not implement interface Node.");for(var a=i,o=this,s=[a],c=[o];(l=a.parentNode)!==null&&l!==void 0?l:o.parentNode;){var l;a=a.parentNode?(s.push(a.parentNode),a.parentNode):a,o=o.parentNode?(c.push(o.parentNode),o.parentNode):o}if(a!==o)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var u=s.length>c.length?s:c,f=u===s?c:s;if(u[u.length-f.length]===f[0])return u===s?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var h=u.length-f.length,d=f.length-1;d>=0;d--){var p=f[d],v=u[h+d];if(v!==p){var g=p.parentNode.childNodes;return g.indexOf(p)<g.indexOf(v)?f===s?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:u===s?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},r.contain=function(i){return this.contains(i)},r.contains=function(i){for(var a=i;a&&this!==a;)a=a.parentNode;return!!a},r.getAncestor=function(i){for(var a=this;i>0&&a;)a=a.parentNode,i--;return a},r.forEach=function(i,a){a===void 0&&(a=!1),i(this)||(a?this.childNodes.slice():this.childNodes).forEach(function(o){o.forEach(i)})},uo(e,[{key:"textContent",get:function(){var i="";this.nodeName===rt.TEXT&&(i+=this.style.text);for(var a=ho(this.childNodes),o;!(o=a()).done;){var s=o.value;s.nodeName===rt.TEXT?i+=s.nodeValue:i+=s.textContent}return i},set:function(i){var a=this;this.childNodes.slice().forEach(function(o){a.removeChild(o)}),this.nodeName===rt.TEXT&&(this.style.text=""+i)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}}]),e}(p1);pn.DOCUMENT_POSITION_DISCONNECTED=1,pn.DOCUMENT_POSITION_PRECEDING=2,pn.DOCUMENT_POSITION_FOLLOWING=4,pn.DOCUMENT_POSITION_CONTAINS=8,pn.DOCUMENT_POSITION_CONTAINED_BY=16,pn.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var I3=function(t){_e(e,t);function e(){var n;n=t.call(this)||this,n.defaultView=null,n.documentElement=void 0,n.timeline=void 0,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new nt.AnimationTimeline(fo(n))}catch(a){}var i={};return Rd.forEach(function(a){var o=a.n,s=a.inh,c=a.d;s&&c&&(i[o]=Uo(c)?c(rt.GROUP):c)}),n.documentElement=new or({id:"g-root",style:i}),n.documentElement.ownerDocument=fo(n),n.documentElement.parentNode=fo(n),n.childNodes=[n.documentElement],n}var r=e.prototype;return r.createElement=function(i,a){if(i==="svg")return this.documentElement;var o=this.defaultView.customElements.get(i);o||(console.warn("Unsupported tagName: ",i),o=i==="tspan"?wi:or);var s=new o(a);return s.ownerDocument=this,s},r.createElementNS=function(i,a,o){return this.createElement(a,o)},r.cloneNode=function(i){throw new Error(Ge)},r.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(i){}},r.elementsFromBBox=function(i,a,o,s){var c=this.defaultView.context.rBushRoot,l=c.search({minX:i,minY:a,maxX:o,maxY:s}),u=[];return l.forEach(function(f){var h=f.id,d=nt.displayObjectPool.getByEntity(h),p=d.parsedStyle.pointerEvents,v=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(p);(!v||v&&d.isVisible())&&!d.isCulled()&&d.isInteractive()&&u.push(d)}),u.sort(function(f,h){return h.sortable.renderOrder-f.sortable.renderOrder}),u},r.elementFromPointSync=function(i,a){var o=this.defaultView.canvas2Viewport({x:i,y:a}),s=o.x,c=o.y,l=this.defaultView.getConfig(),u=l.width,f=l.height;if(s<0||c<0||s>u||c>f)return null;var h=this.defaultView.viewport2Client({x:s,y:c}),d=h.x,p=h.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:i,y:a,viewportX:s,viewportY:c,clientX:d,clientY:p},picked:[]}),g=v.picked;return g&&g[0]||this.documentElement},r.elementFromPoint=function(){var n=In(ge().mark(function a(o,s){var c,l,u,f,h,d,p,v,g,m,b;return ge().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(c=this.defaultView.canvas2Viewport({x:o,y:s}),l=c.x,u=c.y,f=this.defaultView.getConfig(),h=f.width,d=f.height,!(l<0||u<0||l>h||u>d)){O.next=4;break}return O.abrupt("return",null);case 4:return p=this.defaultView.viewport2Client({x:l,y:u}),v=p.x,g=p.y,O.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:v,clientY:g},picked:[]});case 7:return m=O.sent,b=m.picked,O.abrupt("return",b&&b[0]||this.documentElement);case 10:case"end":return O.stop()}},a,this)}));function i(a,o){return n.apply(this,arguments)}return i}(),r.elementsFromPointSync=function(i,a){var o=this.defaultView.canvas2Viewport({x:i,y:a}),s=o.x,c=o.y,l=this.defaultView.getConfig(),u=l.width,f=l.height;if(s<0||c<0||s>u||c>f)return[];var h=this.defaultView.viewport2Client({x:s,y:c}),d=h.x,p=h.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:i,y:a,viewportX:s,viewportY:c,clientX:d,clientY:p},picked:[]}),g=v.picked;return g[g.length-1]!==this.documentElement&&g.push(this.documentElement),g},r.elementsFromPoint=function(){var n=In(ge().mark(function a(o,s){var c,l,u,f,h,d,p,v,g,m,b;return ge().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(c=this.defaultView.canvas2Viewport({x:o,y:s}),l=c.x,u=c.y,f=this.defaultView.getConfig(),h=f.width,d=f.height,!(l<0||u<0||l>h||u>d)){O.next=4;break}return O.abrupt("return",[]);case 4:return p=this.defaultView.viewport2Client({x:l,y:u}),v=p.x,g=p.y,O.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:v,clientY:g},picked:[]});case 7:return m=O.sent,b=m.picked,b[b.length-1]!==this.documentElement&&b.push(this.documentElement),O.abrupt("return",b);case 11:case"end":return O.stop()}},a,this)}));function i(a,o){return n.apply(this,arguments)}return i}(),r.appendChild=function(i,a){throw new Error(Ko)},r.insertBefore=function(i,a){throw new Error(Ko)},r.removeChild=function(i,a){throw new Error(Ko)},r.replaceChild=function(i,a,o){throw new Error(Ko)},r.append=function(){throw new Error(Ko)},r.prepend=function(){throw new Error(Ko)},r.getElementById=function(i){return this.documentElement.getElementById(i)},r.getElementsByName=function(i){return this.documentElement.getElementsByName(i)},r.getElementsByTagName=function(i){return this.documentElement.getElementsByTagName(i)},r.getElementsByClassName=function(i){return this.documentElement.getElementsByClassName(i)},r.querySelector=function(i){return this.documentElement.querySelector(i)},r.querySelectorAll=function(i){return this.documentElement.querySelectorAll(i)},r.find=function(i){return this.documentElement.find(i)},r.findAll=function(i){return this.documentElement.findAll(i)},uo(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}}]),e}(pn),kd;(function(t){t[t.Standard=0]="Standard"})(kd||(kd={}));var le;(function(t){t.REPARENT="reparent",t.DESTROY="destroy",t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.REMOVED="removed",t.MOUNTED="DOMNodeInsertedIntoDocument",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.BOUNDS_CHANGED="bounds-changed",t.RENDER_ORDER_CHANGED="render-order-changed",t.CULLED="culled"})(le||(le={}));var _i=function(t){_e(e,t);function e(r,n,i,a,o,s,c,l){var u;return u=t.call(this,null)||this,u.relatedNode=void 0,u.prevValue=void 0,u.newValue=void 0,u.attrName=void 0,u.attrChange=void 0,u.prevParsedValue=void 0,u.newParsedValue=void 0,u.relatedNode=n,u.prevValue=i,u.newValue=a,u.attrName=o,u.attrChange=s,u.prevParsedValue=c,u.newParsedValue=l,u.type=r,u}return e}(_u);_i.ADDITION=2,_i.MODIFICATION=1,_i.REMOVAL=3;var v1=0;function tQ(){v1=0}var g1=new _i(le.INSERTED,null,"","","",0,"",""),m1=new _i(le.REMOVED,null,"","","",0,"",""),D3=new en(le.DESTROY),y1=function(t){_e(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.entity=v1++,n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1,proxyNodeName:void 0},n.cullable={strategy:kd.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:We(),localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:We(),origin:[0,0,0]},n.sortable={dirty:!1,sorted:void 0,lastSortedIndex:void 0,renderOrder:0},n.geometry={dirty:!1,contentBounds:void 0,renderBounds:void 0},n.rBushNode={aabb:void 0},n.id=void 0,n.name=void 0,n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.destroyed=!1,n.style={},n.computedStyle=nt.enableCSSParsing?{anchor:qe,opacity:qe,fillOpacity:qe,strokeOpacity:qe,fill:qe,stroke:qe,transform:qe,transformOrigin:qe,visibility:qe,pointerEvents:qe,lineWidth:qe,lineCap:qe,lineJoin:qe,increasedLineWidthForHitTesting:qe,fontSize:qe,fontFamily:qe,fontStyle:qe,fontWeight:qe,fontVariant:qe,textAlign:qe,textBaseline:qe,textTransform:qe,zIndex:qe,filter:qe,shadowType:qe}:null,n.parsedStyle={},n.attributes={},n}e.isElement=function(i){return!!i.getAttribute};var r=e.prototype;return r.cloneNode=function(i){throw new Error(Ge)},r.appendChild=function(i,a){var o;if(i.destroyed)throw new Error($L);return nt.sceneGraphService.attach(i,this,a),!((o=this.ownerDocument)===null||o===void 0)&&o.defaultView&&this.ownerDocument.defaultView.mountChildren(i),g1.relatedNode=this,i.dispatchEvent(g1),i},r.insertBefore=function(i,a){if(!a)this.appendChild(i);else{var o=this.childNodes.indexOf(a);this.appendChild(i,o-1)}return i},r.replaceChild=function(i,a){var o=this.childNodes.indexOf(a);return this.removeChild(a),this.appendChild(i,o),a},r.removeChild=function(i){var a;return m1.relatedNode=this,i.dispatchEvent(m1),!((a=i.ownerDocument)===null||a===void 0)&&a.defaultView&&i.ownerDocument.defaultView.unmountChildren(i),nt.sceneGraphService.detach(i),i},r.removeChildren=function(){for(var i=this.childNodes.length-1;i>=0;i--){var a=this.childNodes[i];this.removeChild(a)}},r.destroyChildren=function(){for(var i=this.childNodes.length-1;i>=0;i--){var a=this.childNodes[i];a.childNodes.length&&a.destroyChildren(),a.destroy()}},r.matches=function(i){return nt.sceneGraphService.matches(i,this)},r.getElementById=function(i){return nt.sceneGraphService.querySelector("#"+i,this)},r.getElementsByName=function(i){return nt.sceneGraphService.querySelectorAll('[name="'+i+'"]',this)},r.getElementsByClassName=function(i){return nt.sceneGraphService.querySelectorAll("."+i,this)},r.getElementsByTagName=function(i){return nt.sceneGraphService.querySelectorAll(i,this)},r.querySelector=function(i){return nt.sceneGraphService.querySelector(i,this)},r.querySelectorAll=function(i){return nt.sceneGraphService.querySelectorAll(i,this)},r.closest=function(i){var a=this;do{if(nt.sceneGraphService.matches(i,a))return a;a=a.parentElement}while(a!==null);return null},r.find=function(i){var a=this,o=null;return this.forEach(function(s){return s!==a&&i(s)?(o=s,!0):!1}),o},r.findAll=function(i){var a=this,o=[];return this.forEach(function(s){s!==a&&i(s)&&o.push(s)}),o},r.after=function(){var i=this;if(this.parentNode){for(var a=this.parentNode.childNodes.indexOf(this),o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];s.forEach(function(l,u){var f;return(f=i.parentNode)===null||f===void 0?void 0:f.appendChild(l,a+u+1)})}},r.before=function(){if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var c=o[0],l=o.slice(1);this.parentNode.appendChild(c,i),c.after.apply(c,l)}},r.replaceWith=function(){this.after.apply(this,arguments),this.remove()},r.append=function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(c){return i.appendChild(c)})},r.prepend=function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(c,l){return i.appendChild(c,l)})},r.replaceChildren=function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)},r.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},r.destroy=function(){this.dispatchEvent(D3),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},r.getGeometryBounds=function(){return nt.sceneGraphService.getGeometryBounds(this)},r.getRenderBounds=function(){return nt.sceneGraphService.getBounds(this,!0)},r.getBounds=function(){return nt.sceneGraphService.getBounds(this)},r.getLocalBounds=function(){return nt.sceneGraphService.getLocalBounds(this)},r.getBoundingClientRect=function(){return nt.sceneGraphService.getBoundingClientRect(this)},r.getClientRects=function(){return[this.getBoundingClientRect()]},r.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},r.getAttributeNames=function(){return Object.keys(this.attributes)},r.getAttribute=function(i){if(kL(i))return nt.enableCSSParsing?null:void 0;var a=this.attributes[i];if(a===void 0){var o=id(i);return a=this.attributes[o],nt.enableCSSParsing&&ot(a)?null:a}else return a},r.hasAttribute=function(i){return this.getAttributeNames().includes(i)},r.hasAttributes=function(){return!!this.getAttributeNames().length},r.removeAttribute=function(i){this.setAttribute(i,null),delete this.attributes[i]},r.setAttribute=function(i,a,o){this.attributes[i]=a},r.getAttributeNS=function(i,a){throw new Error(Ge)},r.getAttributeNode=function(i){throw new Error(Ge)},r.getAttributeNodeNS=function(i,a){throw new Error(Ge)},r.hasAttributeNS=function(i,a){throw new Error(Ge)},r.removeAttributeNS=function(i,a){throw new Error(Ge)},r.removeAttributeNode=function(i){throw new Error(Ge)},r.setAttributeNS=function(i,a,o){throw new Error(Ge)},r.setAttributeNode=function(i){throw new Error(Ge)},r.setAttributeNodeNS=function(i){throw new Error(Ge)},r.toggleAttribute=function(i,a){throw new Error(Ge)},uo(e,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(i){this.setAttribute("class",i)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(i){return i!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var i=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[i+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var i=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[i-1]||null}return null}}]),e}(pn),b1=function(t){_e(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.altKey=void 0,n.button=void 0,n.buttons=void 0,n.ctrlKey=void 0,n.metaKey=void 0,n.relatedTarget=void 0,n.shiftKey=void 0,n.client=new Fn,n.movement=new Fn,n.offset=new Fn,n.global=new Fn,n.screen=new Fn,n}var r=e.prototype;return r.getModifierState=function(i){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(i)},r.initMouseEvent=function(){throw new Error(Ge)},uo(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}}]),e}(_u),Td=function(t){_e(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.pointerId=void 0,n.width=0,n.height=0,n.isPrimary=!1,n.pointerType=void 0,n.pressure=void 0,n.tangentialPressure=void 0,n.tiltX=void 0,n.tiltY=void 0,n.twist=void 0,n}var r=e.prototype;return r.getCoalescedEvents=function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]},r.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},r.clone=function(){return this.manager.clonePointerEvent(this)},e}(b1),Ld=function(t){_e(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.deltaMode=void 0,n.deltaX=void 0,n.deltaY=void 0,n.deltaZ=void 0,n.DOM_DELTA_LINE=0,n.DOM_DELTA_PAGE=1,n.DOM_DELTA_PIXEL=2,n}var r=e.prototype;return r.clone=function(){return this.manager.cloneWheelEvent(this)},e}(b1);function Ae(t){return!!(t!=null&&t.nodeName)}var Ki=new _i(le.ATTR_MODIFIED,null,null,null,null,_i.MODIFICATION,null,null),j3={anchor:"",opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},x1={anchor:[0,0],fill:ld,stroke:ld,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},B3=re({},x1,{opacity:1,fillOpacity:1,strokeOpacity:1,visibility:"visible",pointerEvents:"auto",lineWidth:1,lineCap:"butt",lineJoin:"miter",increasedLineWidthForHitTesting:0,fillRule:"nonzero"}),F3=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],z3=[].concat(F3,["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"]),_1="data-",bn=function(t){_e(e,t);function e(n){var i,a;return a=t.call(this)||this,a.config=void 0,a.isCustomElement=!1,a.isMutationObserved=!1,a.activeAnimations=[],a.dataset=void 0,a.getClip=function(){return this.style.clipPath||null},a.config=n,a.config.interactive=(i=a.config.capture)!==null&&i!==void 0?i:a.config.interactive,a.id=a.config.id||"",a.name=a.config.name||"",(a.config.className||a.config.class)&&(a.className=a.config.className||a.config.class),a.nodeName=a.config.type||rt.GROUP,a.config.style=a.config.style||a.config.attrs||{},Object.assign(a.config.style,a.config.attrs),a.config.visible!=null&&(a.config.style.visibility=a.config.visible===!1?"hidden":"visible"),a.config.interactive!=null&&(a.config.style.pointerEvents=a.config.interactive===!1?"none":"auto"),Object.assign(a.parsedStyle,nt.enableCSSParsing?x1:B3,a.config.initialParsedStyle),nt.enableCSSParsing&&Object.assign(a.attributes,j3),a.initAttributes(a.config.style),a.dataset=new Proxy({},{get:function(s,c){var l=""+_1+Ay(c);return s[l]!==void 0?s[l]:a.getAttribute(l)},set:function(s,c,l){return a.setAttribute(""+_1+Ay(c),l),!0}}),a.style=new Proxy({setProperty:function(s,c){a.setAttribute(s,c)},getPropertyValue:function(s){return a.getAttribute(s)},removeProperty:function(s){a.removeAttribute(s)},item:function(){return""}},{get:function(s,c){return s[c]!==void 0?s[c]:a.getAttribute(c)},set:function(s,c,l){return a.setAttribute(c,l),!0}}),nt.displayObjectPool.add(a.entity,fo(a)),a}var r=e.prototype;return r.destroy=function(){t.prototype.destroy.call(this),nt.displayObjectPool.remove(this.entity),this.getAnimations().forEach(function(i){i.cancel()})},r.cloneNode=function(i,a){var o=re({},this.attributes);for(var s in o){var c=o[s];Ae(c)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(o[s]=c.cloneNode(i)),a&&(o[s]=a(s,c))}var l=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:o});return l.setLocalTransform(this.getLocalTransform()),i&&this.children.forEach(function(u){if(!u.style.isMarker){var f=u.cloneNode(i);l.appendChild(f)}}),l},r.initAttributes=function(i){i===void 0&&(i={});var a=this.renderable,o={forceUpdateGeometry:!0};nt.enableCSSParsing&&(o.usedAttributes=z3),nt.styleValueRegistry.processProperties(this,i,o),a.dirty=!0},r.setAttribute=function(i,a,o){o===void 0&&(o=!1);var s=id(i);Le(a)||(o||a!==this.attributes[s])&&(this.internalSetAttribute(s,a),t.prototype.setAttribute.call(this,s,a))},r.internalSetAttribute=function(i,a,o){var s;o===void 0&&(o={});var c=this.renderable,l=this.attributes[i],u=this.parsedStyle[i];nt.styleValueRegistry.processProperties(this,(s={},s[i]=a,s),o),c.dirty=!0;var f=this.parsedStyle[i];this.isConnected&&(Ki.relatedNode=this,Ki.prevValue=l,Ki.newValue=a,Ki.attrName=i,Ki.prevParsedValue=u,Ki.newParsedValue=f,this.isMutationObserved?this.dispatchEvent(Ki):(Ki.target=this,this.ownerDocument.defaultView.dispatchEvent(Ki,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(i,l,a,u,f)},r.getBBox=function(){var i=this.getBounds(),a=i.getMin(),o=a[0],s=a[1],c=i.getMax(),l=c[0],u=c[1];return new Jo(o,s,l-o,u-s)},r.setOrigin=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),nt.sceneGraphService.setOrigin(this,ar(i,a,o)),this},r.getOrigin=function(){return nt.sceneGraphService.getOrigin(this)},r.setPosition=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),nt.sceneGraphService.setPosition(this,ar(i,a,o)),this},r.setLocalPosition=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),nt.sceneGraphService.setLocalPosition(this,ar(i,a,o)),this},r.translate=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),nt.sceneGraphService.translate(this,ar(i,a,o)),this},r.translateLocal=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),nt.sceneGraphService.translateLocal(this,ar(i,a,o)),this},r.getPosition=function(){return nt.sceneGraphService.getPosition(this)},r.getLocalPosition=function(){return nt.sceneGraphService.getLocalPosition(this)},r.scale=function(i,a,o){return this.scaleLocal(i,a,o)},r.scaleLocal=function(i,a,o){return typeof i=="number"&&(a=a||i,o=o||i,i=ar(i,a,o)),nt.sceneGraphService.scaleLocal(this,i),this},r.setLocalScale=function(i,a,o){return typeof i=="number"&&(a=a||i,o=o||i,i=ar(i,a,o)),nt.sceneGraphService.setLocalScale(this,i),this},r.getLocalScale=function(){return nt.sceneGraphService.getLocalScale(this)},r.getScale=function(){return nt.sceneGraphService.getScale(this)},r.getEulerAngles=function(){var i=hd(pe(),nt.sceneGraphService.getWorldTransform(this)),a=i[2];return jr(a)},r.getLocalEulerAngles=function(){var i=hd(pe(),nt.sceneGraphService.getLocalRotation(this)),a=i[2];return jr(a)},r.setEulerAngles=function(i){return nt.sceneGraphService.setEulerAngles(this,0,0,i),this},r.setLocalEulerAngles=function(i){return nt.sceneGraphService.setLocalEulerAngles(this,0,0,i),this},r.rotateLocal=function(i,a,o){return ot(a)&&ot(o)?nt.sceneGraphService.rotateLocal(this,0,0,i):nt.sceneGraphService.rotateLocal(this,i,a,o),this},r.rotate=function(i,a,o){return ot(a)&&ot(o)?nt.sceneGraphService.rotate(this,0,0,i):nt.sceneGraphService.rotate(this,i,a,o),this},r.setRotation=function(i,a,o,s){return nt.sceneGraphService.setRotation(this,i,a,o,s),this},r.setLocalRotation=function(i,a,o,s){return nt.sceneGraphService.setLocalRotation(this,i,a,o,s),this},r.setLocalSkew=function(i,a){return nt.sceneGraphService.setLocalSkew(this,i,a),this},r.getRotation=function(){return nt.sceneGraphService.getRotation(this)},r.getLocalRotation=function(){return nt.sceneGraphService.getLocalRotation(this)},r.getLocalSkew=function(){return nt.sceneGraphService.getLocalSkew(this)},r.getLocalTransform=function(){return nt.sceneGraphService.getLocalTransform(this)},r.getWorldTransform=function(){return nt.sceneGraphService.getWorldTransform(this)},r.setLocalTransform=function(i){return nt.sceneGraphService.setLocalTransform(this,i),this},r.resetLocalTransform=function(){nt.sceneGraphService.resetLocalTransform(this)},r.getAnimations=function(){return this.activeAnimations},r.animate=function(i,a){var o,s=(o=this.ownerDocument)===null||o===void 0?void 0:o.timeline;return s?s.play(this,i,a):null},r.isVisible=function(){var i;return((i=this.parsedStyle)===null||i===void 0?void 0:i.visibility)==="visible"},r.isInteractive=function(){var i;return((i=this.parsedStyle)===null||i===void 0?void 0:i.pointerEvents)!=="none"},r.isCulled=function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)},r.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,this.parentNode.children.map(function(i){return Number(i.style.zIndex)}))+1),this},r.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,this.parentNode.children.map(function(i){return Number(i.style.zIndex)}))-1),this},r.getConfig=function(){return this.config},r.attr=function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var c=o[0],l=o[1];return c?vi(c)?(Object.keys(c).forEach(function(u){i.setAttribute(u,c[u])}),this):o.length===2?(this.setAttribute(c,l),this):this.attributes[c]:this.attributes},r.getMatrix=function(i){var a=i||this.getWorldTransform(),o=ou(pe(),a),s=o[0],c=o[1],l=Xo(pe(),a),u=l[0],f=l[1],h=su(Sn(),a),d=hd(pe(),h),p=d[0],v=d[2];return KL(p||v,s,c,u,f)},r.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},r.setMatrix=function(i){var a=Ry(i),o=a[0],s=a[1],c=a[2],l=a[3],u=a[4];this.setEulerAngles(u).setPosition(o,s).setLocalScale(c,l)},r.setLocalMatrix=function(i){var a=Ry(i),o=a[0],s=a[1],c=a[2],l=a[3],u=a[4];this.setLocalEulerAngles(u).setLocalPosition(o,s).setLocalScale(c,l)},r.show=function(){nt.enableCSSParsing?this.style.visibility="visible":this.forEach(function(i){i.style.visibility="visible"})},r.hide=function(){nt.enableCSSParsing?this.style.visibility="hidden":this.forEach(function(i){i.style.visibility="hidden"})},r.getCount=function(){return this.childElementCount},r.getParent=function(){return this.parentElement},r.getChildren=function(){return this.children},r.getFirst=function(){return this.firstElementChild},r.getLast=function(){return this.lastElementChild},r.getChildByIndex=function(i){return this.children[i]||null},r.add=function(i,a){return this.appendChild(i,a)},r.setClip=function(i){this.style.clipPath=i},r.set=function(i,a){this.config[i]=a},r.get=function(i){return this.config[i]},r.moveTo=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),this.setPosition(i,a,o),this},r.move=function(i,a,o){return a===void 0&&(a=0),o===void 0&&(o=0),this.setPosition(i,a,o),this},r.setZIndex=function(i){return this.style.zIndex=i,this},uo(e,[{key:"interactive",get:function(){return this.isInteractive()},set:function(i){this.style.pointerEvents=i?"auto":"none"}}]),e}(y1),G3=["style"],wu=function(t){_e(e,t);function e(r){var n=r===void 0?{}:r,i=n.style,a=Dr(n,G3);return t.call(this,re({type:rt.CIRCLE,style:nt.enableCSSParsing?re({cx:"",cy:"",r:""},i):re({},i),initialParsedStyle:{anchor:[.5,.5],transformOrigin:nt.enableCSSParsing?null:[He(50,"%"),He(50,"%")]}},a))||this}return e}(bn),$3=["style"],wc=function(t){_e(e,t);function e(r){var n,i=r===void 0?{}:r,a=i.style,o=Dr(i,$3);return n=t.call(this,re({style:nt.enableCSSParsing?re({x:"",y:""},a):re({},a)},o))||this,n.isCustomElement=!0,n}return e}(bn),es={},Ou=[],W3=function(){function t(){}var e=t.prototype;return e.getByEntity=function(n){return es[n]},e.getAll=function(){return Object.keys(es).map(function(n){return es[n]})},e.add=function(n,i){es[n]=i,i.nodeName===rt.HTML&&Ou.push(i)},e.remove=function(n){var i=es[n];if(i&&(delete es[n],i.nodeName===rt.HTML)){var a=Ou.indexOf(i);Ou.splice(a,1)}},e.getHTMLs=function(){return Ou},t}(),Y3=["style"],Cd=function(t){_e(e,t);function e(r){var n=r===void 0?{}:r,i=n.style,a=Dr(n,Y3);return t.call(this,re({type:rt.ELLIPSE,style:nt.enableCSSParsing?re({cx:"",cy:"",rx:"",ry:""},i):re({},i),initialParsedStyle:{anchor:[.5,.5],transformOrigin:nt.enableCSSParsing?null:[He(50,"%"),He(50,"%")]}},a))||this}return e}(bn),H3=["style"],or=function(t){_e(e,t);function e(r){var n=r===void 0?{}:r,i=n.style,a=Dr(n,H3);return t.call(this,re({type:rt.GROUP,style:nt.enableCSSParsing?re({x:"",y:"",width:"",height:""},i):re({},i)},a))||this}return e}(bn),V3=["style"],Su=function(t){_e(e,t);function e(n){var i,a=n===void 0?{}:n,o=a.style,s=Dr(a,V3);return i=t.call(this,re({type:rt.HTML,style:nt.enableCSSParsing?re({x:"",y:"",width:"auto",height:"auto",innerHTML:""},o):re({},o)},s))||this,i.cullable.enable=!1,i}var r=e.prototype;return r.getDomElement=function(){return this.parsedStyle.$el},r.getBoundingClientRect=function(){return this.parsedStyle.$el.getBoundingClientRect()},r.getClientRects=function(){return[this.getBoundingClientRect()]},r.getBounds=function(){var i,a,o=this.getBoundingClientRect(),s=(i=this.ownerDocument)===null||i===void 0||(a=i.defaultView)===null||a===void 0?void 0:a.getContextService().getBoundingClientRect();if(s){var c=o.left-s.left,l=o.top-s.top,u=new En;return u.setMinMax([c,l,0],[c+o.width,l+o.height,0]),u}return null},r.getLocalBounds=function(){if(this.parentNode){var i=mi(We(),this.parentNode.getWorldTransform()),a=this.getBounds();if(!En.isEmpty(a)){var o=new En;return o.setFromTransformedAABB(a,i),o}}return this.getBounds()},e}(bn),X3=["style"],Eu=function(t){_e(e,t);function e(r){var n=r===void 0?{}:r,i=n.style,a=Dr(n,X3);return t.call(this,re({type:rt.IMAGE,style:nt.enableCSSParsing?re({x:"",y:"",img:"",width:"",height:""},i):re({},i)},a))||this}return e}(bn),q3=["style"],Oc=function(t){_e(e,t);function e(n){var i,a=n===void 0?{}:n,o=a.style,s=Dr(a,q3);i=t.call(this,re({type:rt.LINE,style:re({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0,isBillboard:!1},o)},s))||this,i.markerStartAngle=0,i.markerEndAngle=0;var c=i.parsedStyle,l=c.markerStart,u=c.markerEnd;return l&&Ae(l)&&(i.markerStartAngle=l.getLocalEulerAngles(),i.appendChild(l)),u&&Ae(u)&&(i.markerEndAngle=u.getLocalEulerAngles(),i.appendChild(u)),i.transformMarker(!0),i.transformMarker(!1),i}var r=e.prototype;return r.attributeChangedCallback=function(i,a,o,s,c){i==="x1"||i==="y1"||i==="x2"||i==="y2"||i==="markerStartOffset"||i==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):i==="markerStart"?(s&&Ae(s)&&(this.markerStartAngle=0,s.remove()),c&&Ae(c)&&(this.markerStartAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!0))):i==="markerEnd"&&(s&&Ae(s)&&(this.markerEndAngle=0,s.remove()),c&&Ae(c)&&(this.markerEndAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!1)))},r.transformMarker=function(i){var a=this.parsedStyle,o=a.markerStart,s=a.markerEnd,c=a.markerStartOffset,l=a.markerEndOffset,u=a.x1,f=a.x2,h=a.y1,d=a.y2,p=a.defX,v=a.defY,g=i?o:s;if(!(!g||!Ae(g))){var m=0,b,_,O,E,P,A;i?(O=u-p,E=h-v,b=f-u,_=d-h,P=c||0,A=this.markerStartAngle):(O=f-p,E=d-v,b=u-f,_=h-d,P=l||0,A=this.markerEndAngle),m=Math.atan2(_,b),g.setLocalEulerAngles(m*180/Math.PI+A),g.setLocalPosition(O+Math.cos(m)*P,E+Math.sin(m)*P)}},r.getPoint=function(i,a){a===void 0&&(a=!1);var o=this.parsedStyle,s=o.x1,c=o.y1,l=o.x2,u=o.y2,f=o.defX,h=o.defY,d=Mr.pointAt(s,c,l,u,i),p=d.x,v=d.y,g=Rn(pe(),we(p-f,v-h,0),a?this.getWorldTransform():this.getLocalTransform());return new Fn(g[0],g[1])},r.getPointAtLength=function(i,a){return a===void 0&&(a=!1),this.getPoint(i/this.getTotalLength(),a)},r.getTotalLength=function(){var i=this.parsedStyle,a=i.x1,o=i.y1,s=i.x2,c=i.y2;return Mr.length(a,o,s,c)},e}(bn),U3=["style"],w1={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Jo(0,0,0,0)},Ne=function(t){_e(e,t);function e(n){var i,a=n===void 0?{}:n,o=a.style,s=Dr(a,U3);i=t.call(this,re({type:rt.PATH,style:nt.enableCSSParsing?re({path:"",miterLimit:""},o):re({},o),initialParsedStyle:nt.enableCSSParsing?null:{miterLimit:4,path:re({},w1)}},s))||this,i.markerStartAngle=0,i.markerEndAngle=0,i.markerMidList=[];var c=i.parsedStyle,l=c.markerStart,u=c.markerEnd,f=c.markerMid;return l&&Ae(l)&&(i.markerStartAngle=l.getLocalEulerAngles(),i.appendChild(l)),f&&Ae(f)&&i.placeMarkerMid(f),u&&Ae(u)&&(i.markerEndAngle=u.getLocalEulerAngles(),i.appendChild(u)),i.transformMarker(!0),i.transformMarker(!1),i}var r=e.prototype;return r.attributeChangedCallback=function(i,a,o,s,c){i==="path"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):i==="markerStartOffset"||i==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):i==="markerStart"?(s&&Ae(s)&&(this.markerStartAngle=0,s.remove()),c&&Ae(c)&&(this.markerStartAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!0))):i==="markerEnd"?(s&&Ae(s)&&(this.markerEndAngle=0,s.remove()),c&&Ae(c)&&(this.markerEndAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!1))):i==="markerMid"&&this.placeMarkerMid(c)},r.transformMarker=function(i){var a=this.parsedStyle,o=a.markerStart,s=a.markerEnd,c=a.markerStartOffset,l=a.markerEndOffset,u=a.defX,f=a.defY,h=i?o:s;if(!(!h||!Ae(h))){var d=0,p,v,g,m,b,_;if(i){var O=this.getStartTangent(),E=O[0],P=O[1];g=P[0]-u,m=P[1]-f,p=E[0]-P[0],v=E[1]-P[1],b=c||0,_=this.markerStartAngle}else{var A=this.getEndTangent(),T=A[0],C=A[1];g=C[0]-u,m=C[1]-f,p=T[0]-C[0],v=T[1]-C[1],b=l||0,_=this.markerEndAngle}d=Math.atan2(v,p),h.setLocalEulerAngles(d*180/Math.PI+_),h.setLocalPosition(g+Math.cos(d)*b,m+Math.sin(d)*b)}},r.placeMarkerMid=function(i){var a=this.parsedStyle,o=a.path.segments,s=a.defX,c=a.defY;if(this.markerMidList.forEach(function(p){p.remove()}),i&&Ae(i))for(var l=1;l<o.length-1;l++){var u=o[l].currentPoint,f=u[0],h=u[1],d=l===1?i:i.cloneNode(!0);this.markerMidList.push(d),this.appendChild(d),d.setLocalPosition(f-s,h-c)}},r.getTotalLength=function(){return vd(this)},r.getPointAtLength=function(i,a){a===void 0&&(a=!1);var o=this.parsedStyle,s=o.defX,c=o.defY,l=o.path.absolutePath,u=ye(l,i),f=u.x,h=u.y,d=Rn(pe(),we(f-s,h-c,0),a?this.getWorldTransform():this.getLocalTransform());return new Fn(d[0],d[1])},r.getPoint=function(i,a){return a===void 0&&(a=!1),this.getPointAtLength(i*vd(this),a)},r.getStartTangent=function(){var i=this.parsedStyle.path.segments,a=[];if(i.length>1){var o=i[0].currentPoint,s=i[1].currentPoint,c=i[1].startTangent;a=[],c?(a.push([o[0]-c[0],o[1]-c[1]]),a.push([o[0],o[1]])):(a.push([s[0],s[1]]),a.push([o[0],o[1]]))}return a},r.getEndTangent=function(){var i=this.parsedStyle.path.segments,a=i.length,o=[];if(a>1){var s=i[a-2].currentPoint,c=i[a-1].currentPoint,l=i[a-1].endTangent;o=[],l?(o.push([c[0]-l[0],c[1]-l[1]]),o.push([c[0],c[1]])):(o.push([s[0],s[1]]),o.push([c[0],c[1]]))}return o},e}(bn),K3=["style"],Mu=function(t){_e(e,t);function e(n){var i,a=n===void 0?{}:n,o=a.style,s=Dr(a,K3);i=t.call(this,re({type:rt.POLYGON,style:nt.enableCSSParsing?re({points:"",miterLimit:"",isClosed:!0},o):re({},o),initialParsedStyle:nt.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},s))||this,i.markerStartAngle=0,i.markerEndAngle=0,i.markerMidList=[];var c=i.parsedStyle,l=c.markerStart,u=c.markerEnd,f=c.markerMid;return l&&Ae(l)&&(i.markerStartAngle=l.getLocalEulerAngles(),i.appendChild(l)),f&&Ae(f)&&i.placeMarkerMid(f),u&&Ae(u)&&(i.markerEndAngle=u.getLocalEulerAngles(),i.appendChild(u)),i.transformMarker(!0),i.transformMarker(!1),i}var r=e.prototype;return r.attributeChangedCallback=function(i,a,o,s,c){i==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):i==="markerStartOffset"||i==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):i==="markerStart"?(s&&Ae(s)&&(this.markerStartAngle=0,s.remove()),c&&Ae(c)&&(this.markerStartAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!0))):i==="markerEnd"?(s&&Ae(s)&&(this.markerEndAngle=0,s.remove()),c&&Ae(c)&&(this.markerEndAngle=c.getLocalEulerAngles(),this.appendChild(c),this.transformMarker(!1))):i==="markerMid"&&this.placeMarkerMid(c)},r.transformMarker=function(i){var a=this.parsedStyle,o=a.markerStart,s=a.markerEnd,c=a.markerStartOffset,l=a.markerEndOffset,u=a.points.points,f=a.defX,h=a.defY,d=i?o:s;if(!(!d||!Ae(d))){var p=0,v,g,m,b,_,O;if(m=u[0][0]-f,b=u[0][1]-h,i)v=u[1][0]-u[0][0],g=u[1][1]-u[0][1],_=c||0,O=this.markerStartAngle;else{var E=u.length;this.parsedStyle.isClosed?(v=u[E-1][0]-u[0][0],g=u[E-1][1]-u[0][1]):(m=u[E-1][0]-f,b=u[E-1][1]-h,v=u[E-2][0]-u[E-1][0],g=u[E-2][1]-u[E-1][1]),_=l||0,O=this.markerEndAngle}p=Math.atan2(g,v),d.setLocalEulerAngles(p*180/Math.PI+O),d.setLocalPosition(m+Math.cos(p)*_,b+Math.sin(p)*_)}},r.placeMarkerMid=function(i){var a=this.parsedStyle,o=a.points.points,s=a.defX,c=a.defY;if(this.markerMidList.forEach(function(d){d.remove()}),this.markerMidList=[],i&&Ae(i))for(var l=1;l<(this.parsedStyle.isClosed?o.length:o.length-1);l++){var u=o[l][0]-s,f=o[l][1]-c,h=l===1?i:i.cloneNode(!0);this.markerMidList.push(h),this.appendChild(h),h.setLocalPosition(u,f)}},e}(bn),Z3=["style"],Nd=function(t){_e(e,t);function e(n){var i=n===void 0?{}:n,a=i.style,o=Dr(i,Z3);return t.call(this,re({type:rt.POLYLINE,style:nt.enableCSSParsing?re({points:"",miterLimit:"",isClosed:!1},a):re({},a),initialParsedStyle:nt.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},o))||this}var r=e.prototype;return r.getTotalLength=function(){return this.parsedStyle.points.totalLength},r.getPointAtLength=function(i,a){return a===void 0&&(a=!1),this.getPoint(i/this.getTotalLength(),a)},r.getPoint=function(i,a){a===void 0&&(a=!1);var o=this.parsedStyle,s=o.defX,c=o.defY,l=o.points,u=l.points,f=l.segments,h=0,d=0;f.forEach(function(b,_){i>=b[0]&&i<=b[1]&&(h=(i-b[0])/(b[1]-b[0]),d=_)});var p=Mr.pointAt(u[d][0],u[d][1],u[d+1][0],u[d+1][1],h),v=p.x,g=p.y,m=Rn(pe(),we(v-s,g-c,0),a?this.getWorldTransform():this.getLocalTransform());return new Fn(m[0],m[1])},r.getStartTangent=function(){var i=this.parsedStyle.points.points,a=[];return a.push([i[1][0],i[1][1]]),a.push([i[0][0],i[0][1]]),a},r.getEndTangent=function(){var i=this.parsedStyle.points.points,a=i.length-1,o=[];return o.push([i[a-1][0],i[a-1][1]]),o.push([i[a][0],i[a][1]]),o},e}(Mu),Q3=["style"],Br=function(t){_e(e,t);function e(r){var n=r===void 0?{}:r,i=n.style,a=Dr(n,Q3);return t.call(this,re({type:rt.RECT,style:nt.enableCSSParsing?re({x:"",y:"",width:"",height:"",radius:""},i):re({},i)},a))||this}return e}(bn),J3=["style"],wi=function(t){_e(e,t);function e(n){var i=n===void 0?{}:n,a=i.style,o=Dr(i,J3);return t.call(this,re({type:rt.TEXT,style:nt.enableCSSParsing?re({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},a):re({fill:"black"},a),initialParsedStyle:nt.enableCSSParsing?{}:{x:0,y:0,fontSize:16,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",lineHeight:0,letterSpacing:0,textBaseline:"alphabetic",textAlign:"start",wordWrap:!1,wordWrapWidth:0,leading:0,dx:0,dy:0}},o))||this}var r=e.prototype;return r.getComputedTextLength=function(){var i;return((i=this.parsedStyle.metrics)===null||i===void 0?void 0:i.maxLineWidth)||0},r.getLineBoundingRects=function(){var i;return((i=this.parsedStyle.metrics)===null||i===void 0?void 0:i.lineMetrics)||[]},r.isOverflowing=function(){return!!this.parsedStyle.isOverflowing},e}(bn),Rd=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:wt.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:wt.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:wt.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:wt.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:wt.PAINT},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:wt.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:wt.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:wt.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:wt.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:wt.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:wt.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:wt.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:wt.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:wt.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:wt.FILTER},{n:"clipPath",syntax:wt.DEFINED_PATH},{n:"textPath",syntax:wt.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:wt.TRANSFORM},{n:"transformOrigin",p:100,d:function(e){return e===rt.CIRCLE||e===rt.ELLIPSE?"center":e===rt.TEXT?"text-anchor":"left top"},l:!0,syntax:wt.TRANSFORM_ORIGIN},{n:"anchor",p:99,d:function(e){return e===rt.CIRCLE||e===rt.ELLIPSE?"0.5 0.5":"0 0"},l:!0,syntax:wt.LENGTH_PERCENTAGE_12},{n:"cx",int:!0,d:"0",syntax:wt.COORDINATE},{n:"cy",int:!0,d:"0",syntax:wt.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"x",int:!0,d:"0",syntax:wt.COORDINATE},{n:"y",int:!0,d:"0",syntax:wt.COORDINATE},{n:"z",int:!0,d:"0",syntax:wt.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wt.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:wt.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:wt.COORDINATE},{n:"y1",int:!0,l:!0,syntax:wt.COORDINATE},{n:"z1",int:!0,l:!0,syntax:wt.COORDINATE},{n:"x2",int:!0,l:!0,syntax:wt.COORDINATE},{n:"y2",int:!0,l:!0,syntax:wt.COORDINATE},{n:"z2",int:!0,l:!0,syntax:wt.COORDINATE},{n:"path",int:!0,l:!0,d:"",a:["d"],syntax:wt.PATH,p:50},{n:"points",l:!0,syntax:wt.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:wt.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:wt.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:wt.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:wt.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:wt.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:wt.NUMBER,d:function(e){return e===rt.PATH||e===rt.POLYGON||e===rt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:wt.MARKER},{n:"markerEnd",syntax:wt.MARKER},{n:"markerMid",syntax:wt.MARKER},{n:"markerStartOffset",syntax:wt.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:wt.LENGTH,l:!0,int:!0,d:"0"}],O1=Rd.filter(function(t){return!!t.l}).map(function(t){return t.n}),Ea={},ns=new WeakMap,tC=function(e,r){var n=ns.get(e);return!n||n.length===0?!0:n.includes(r)},eC=function(){function t(){var r=this;Rd.forEach(function(n){r.registerMetadata(n)})}var e=t.prototype;return e.registerMetadata=function(n){[n.n].concat(n.a||[]).forEach(function(i){Ea[i]=n})},e.unregisterMetadata=function(n){delete Ea[n]},e.getPropertySyntax=function(n){return nt.CSSPropertySyntaxFactory[n]},e.processProperties=function(n,i,a){var o=this;if(a===void 0&&(a={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[]}),!nt.enableCSSParsing){i.src&&(i.img=i.src),i.d&&(i.path=i.d),i.strokeDasharray&&(i.lineDash=i.strokeDasharray),i.strokeWidth&&(i.lineWidth=i.strokeWidth),i.textAnchor&&(i.textAlign=i.textAnchor),Object.assign(n.attributes,i);var s=Object.keys(i),c=n.parsedStyle.clipPath,l=n.parsedStyle.offsetPath;n.parsedStyle=Object.assign(n.parsedStyle,i);var u=!!a.forceUpdateGeometry;if(!u){for(var f=0;f<O1.length;f++)if(O1[f]in i){u=!0;break}}i.fill&&(n.parsedStyle.fill=Oa(i.fill)),i.stroke&&(n.parsedStyle.stroke=Oa(i.stroke)),i.shadowColor&&(n.parsedStyle.shadowColor=Oa(i.shadowColor)),i.filter&&(n.parsedStyle.filter=i1(i.filter)),ot(i.radius)||(n.parsedStyle.radius=xd(i.radius,4)),ot(i.lineDash)||(n.parsedStyle.lineDash=xd(i.lineDash,2)),i.points&&(n.parsedStyle.points=c1(i.points,n)),i.path===""&&(n.parsedStyle.path=re({},w1)),i.path&&(n.parsedStyle.path=Od(i.path,n)),i.textTransform&&nt.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:i.textTransform},n,null),i.clipPath&&nt.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",c,i.clipPath,n,this),i.offsetPath&&nt.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",l,i.offsetPath,n,this),i.anchor&&(n.parsedStyle.anchor=xd(i.anchor,2)),i.transform&&(n.parsedStyle.transform=xu(i.transform)),i.transformOrigin&&(n.parsedStyle.transformOrigin=u1(i.transformOrigin)),i.markerStart&&(n.parsedStyle.markerStart=nt.CSSPropertySyntaxFactory["<marker>"].calculator(null,i.markerStart,i.markerStart,null,null)),i.markerEnd&&(n.parsedStyle.markerEnd=nt.CSSPropertySyntaxFactory["<marker>"].calculator(null,i.markerEnd,i.markerEnd,null,null)),i.markerMid&&(n.parsedStyle.markerMid=nt.CSSPropertySyntaxFactory["<marker>"].calculator("",i.markerMid,i.markerMid,null,null)),((n.nodeName===rt.CIRCLE||n.nodeName===rt.ELLIPSE)&&(!ot(i.cx)||!ot(i.cy))||(n.nodeName===rt.RECT||n.nodeName===rt.IMAGE||n.nodeName===rt.GROUP||n.nodeName===rt.HTML||n.nodeName===rt.TEXT||n.nodeName===rt.MESH)&&(!ot(i.x)||!ot(i.y)||!ot(i.z))||n.nodeName===rt.LINE&&(!ot(i.x1)||!ot(i.y1)||!ot(i.z1)||!ot(i.x2)||!ot(i.y2)||!ot(i.z2)))&&nt.CSSPropertySyntaxFactory["<coordinate>"].postProcessor(n,s),ot(i.zIndex)||nt.CSSPropertySyntaxFactory["<z-index>"].postProcessor(n,s),i.path&&nt.CSSPropertySyntaxFactory["<path>"].postProcessor(n,s),i.points&&nt.CSSPropertySyntaxFactory["<list-of-points>"].postProcessor(n,s),ot(i.offsetDistance)||nt.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(n,s),i.transform&&nt.CSSPropertySyntaxFactory["<transform>"].postProcessor(n,s),u&&(n.geometry.dirty=!0,nt.sceneGraphService.dirtifyToRoot(n));return}var h=a,d=h.skipUpdateAttribute,p=h.skipParse,v=h.forceUpdateGeometry,g=h.usedAttributes,m=v,b=Object.keys(i);b.forEach(function(_){var O,E=id(_);d||(n.attributes[E]=i[_]),!m&&((O=Ea[E])===null||O===void 0?void 0:O.l)&&(m=!0)}),p||b.forEach(function(_){n.computedStyle[_]=o.parseProperty(_,n.attributes[_],n)}),g!=null&&g.length&&(b=Array.from(new Set(b.concat(g)))),b.forEach(function(_){_ in n.computedStyle&&(n.parsedStyle[_]=o.computeProperty(_,n.computedStyle[_],n))}),m&&(n.geometry.dirty=!0,nt.sceneGraphService.dirtifyToRoot(n)),b.forEach(function(_){_ in n.parsedStyle&&o.postProcessProperty(_,n,b)}),nt.enableCSSParsing&&n.children.length&&b.forEach(function(_){_ in n.parsedStyle&&o.isPropertyInheritable(_)&&n.children.forEach(function(O){O.internalSetAttribute(_,null,{skipUpdateAttribute:!0,skipParse:!0})})})},e.parseProperty=function(n,i,a){var o=Ea[n],s=i;if((i===""||ot(i))&&(i="unset"),i==="unset"||i==="initial"||i==="inherit")s=cd(i);else if(o){var c=o.k,l=o.syntax,u=l&&this.getPropertySyntax(l);c&&c.indexOf(i)>-1?s=cd(i):u&&u.parser&&(s=u.parser(i,a))}return s},e.computeProperty=function(n,i,a){var o=Ea[n],s=a.id==="g-root",c=i;if(o){var l=o.syntax,u=o.inh,f=o.d;if(i instanceof dr){var h=i.value;if(h==="unset"&&(u&&!s?h="inherit":h="initial"),h==="initial")ot(f)||(i=this.parseProperty(n,Uo(f)?f(a.nodeName):f,a));else if(h==="inherit"){var d=this.tryToResolveProperty(a,n,{inherited:!0});if(ot(d)){this.addUnresolveProperty(a,n);return}else return d}}var p=l&&this.getPropertySyntax(l);if(p&&p.calculator){var v=a.parsedStyle[n];c=p.calculator(n,v,i,a,this)}else i instanceof dr?c=i.value:c=i}return c},e.postProcessProperty=function(n,i,a){var o=Ea[n];if(o&&o.syntax){var s=o.syntax&&this.getPropertySyntax(o.syntax),c=s;c&&c.postProcessor&&c.postProcessor(i,a)}},e.addUnresolveProperty=function(n,i){var a=ns.get(n);a||(ns.set(n,[]),a=ns.get(n)),a.indexOf(i)===-1&&a.push(i)},e.tryToResolveProperty=function(n,i,a){a===void 0&&(a={});var o=a,s=o.inherited;if(s&&n.parentElement&&tC(n.parentElement,i)){var c=n.parentElement.parsedStyle[i];return c==="unset"||c==="initial"||c==="inherit"?void 0:c}},e.recalc=function(n){var i=ns.get(n);if(i&&i.length){var a={};i.forEach(function(o){a[o]=n.attributes[o]}),this.processProperties(n,a),ns.delete(n)}},e.updateGeometry=function(n){var i=nt.geometryUpdaterFactory[n.nodeName];if(i){var a=n.geometry;a.contentBounds||(a.contentBounds=new En),a.renderBounds||(a.renderBounds=new En);var o=n.parsedStyle,s=i.update(o,n),c=s.width,l=s.height,u=s.depth,f=u===void 0?0:u,h=s.offsetX,d=h===void 0?0:h,p=s.offsetY,v=p===void 0?0:p,g=s.offsetZ,m=g===void 0?0:g,b=c<0,_=l<0,O=[Math.abs(c)/2,Math.abs(l)/2,f/2],E=o.stroke,P=o.lineWidth,A=o.increasedLineWidthForHitTesting,T=o.shadowType,C=o.shadowColor,L=o.filter,N=L===void 0?[]:L,x=o.transformOrigin,y=o.anchor;n.nodeName===rt.TEXT&&delete o.anchor;var w=[(1-(y&&y[0]||0)*2)*c/2+d,(1-(y&&y[1]||0)*2)*l/2+v,(1-(y&&y[2]||0)*2)*O[2]+m];a.contentBounds.update(w,O);var M=n.nodeName===rt.POLYLINE||n.nodeName===rt.POLYGON||n.nodeName===rt.PATH?Math.SQRT2:.5,S=E&&!E.isNone;if(S){var k=((P||0)+(A||0))*M;O[0]+=k,O[1]+=k}if(a.renderBounds.update(w,O),C&&T&&T!=="inner"){var I=a.renderBounds,j=I.min,F=I.max,X=o.shadowBlur,K=o.shadowOffsetX,Q=o.shadowOffsetY,dt=X||0,Ct=K||0,Nt=Q||0,ee=j[0]-dt+Ct,Yt=F[0]+dt+Ct,Rt=j[1]-dt+Nt,Ut=F[1]+dt+Nt;j[0]=Math.min(j[0],ee),F[0]=Math.max(F[0],Yt),j[1]=Math.min(j[1],Rt),F[1]=Math.max(F[1],Ut),a.renderBounds.setMinMax(j,F)}N.forEach(function(Ln){var wr=Ln.name,Or=Ln.params;if(wr==="blur"){var Zr=Or[0].value;a.renderBounds.update(a.renderBounds.center,vu(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[Zr,Zr,0]))}else if(wr==="drop-shadow"){var Za=Or[0].value,Bi=Or[1].value,Qa=Or[2].value,ca=a.renderBounds,di=ca.min,tn=ca.max,Vl=di[0]-Qa+Za,Jk=tn[0]+Qa+Za,Lm=di[1]-Qa+Bi,Zs=tn[1]+Qa+Bi;di[0]=Math.min(di[0],Vl),tn[0]=Math.max(tn[0],Jk),di[1]=Math.min(di[1],Lm),tn[1]=Math.max(tn[1],Zs),a.renderBounds.setMinMax(di,tn)}}),y=o.anchor,a.dirty=!1;var fe=(b?-1:1)*(x?kr(x[0],0,n):0),ln=(_?-1:1)*(x?kr(x[1],1,n):0);fe=fe-(b?-1:1)*(y&&y[0]||0)*a.contentBounds.halfExtents[0]*2,ln=ln-(_?-1:1)*(y&&y[1]||0)*a.contentBounds.halfExtents[1]*2,n.setOrigin(fe,ln)}},e.isPropertyInheritable=function(n){var i=Ea[n];return i?i.inh:!1},t}(),Be;(function(t){t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING"})(Be||(Be={}));var Sc;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC"})(Sc||(Sc={}));var gr;(function(t){t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE"})(gr||(gr={}));var S1={UPDATED:"updated"},E1=2e-4,M1=function(){function t(){this.canvas=void 0,this.eventEmitter=new(Jh()),this.matrix=We(),this.right=we(1,0,0),this.up=we(0,1,0),this.forward=we(0,0,1),this.position=we(0,0,1),this.focalPoint=we(0,0,0),this.distanceVector=we(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.projectionMatrix=We(),this.projectionMatrixInverse=We(),this.jitteredProjectionMatrix=void 0,this.view=void 0,this.enableUpdate=!0,this.type=Be.EXPLORING,this.trackingMode=Sc.DEFAULT,this.projectionMode=gr.PERSPECTIVE,this.frustum=new Q5,this.orthoMatrix=We()}var e=t.prototype;return e.isOrtho=function(){return this.projectionMode===gr.ORTHOGRAPHIC},e.getProjectionMode=function(){return this.projectionMode},e.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},e.getPerspectiveInverse=function(){return this.projectionMatrixInverse},e.getFrustum=function(){return this.frustum},e.getPosition=function(){return this.position},e.getFocalPoint=function(){return this.focalPoint},e.getDollyingStep=function(){return this.dollyingStep},e.getNear=function(){return this.near},e.getFar=function(){return this.far},e.getZoom=function(){return this.zoom},e.getOrthoMatrix=function(){return this.orthoMatrix},e.getView=function(){return this.view},e.setEnableUpdate=function(n){this.enableUpdate=n},e.setType=function(n,i){return this.type=n,this.type===Be.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Be.TRACKING&&i!==void 0&&this.setTrackingMode(i),this},e.setProjectionMode=function(n){return this.projectionMode=n,this},e.setTrackingMode=function(n){if(this.type!==Be.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this},e.setWorldRotation=function(n){return this.rotateWorld=n,this._getAngles(),this},e.getViewTransform=function(){return mi(We(),this.matrix)},e.getWorldTransform=function(){return this.matrix},e.jitterProjectionMatrix=function(n,i){var a=Xm(We(),[n,i,0]);this.jitteredProjectionMatrix=Un(We(),a,this.projectionMatrix)},e.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},e.setMatrix=function(n){return this.matrix=n,this._update(),this},e.setFov=function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this},e.setAspect=function(n){return this.setPerspective(this.near,this.far,this.fov,n),this},e.setNear=function(n){return this.projectionMode===gr.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this},e.setFar=function(n){return this.projectionMode===gr.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this},e.setViewOffset=function(n,i,a,o,s,c){return this.aspect=n/i,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=i,this.view.offsetX=a,this.view.offsetY=o,this.view.width=s,this.view.height=c,this.projectionMode===gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},e.clearViewOffset=function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},e.setZoom=function(n){return this.zoom=n,this.projectionMode===gr.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===gr.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},e.setZoomByViewportPoint=function(n,i){var a=this.canvas.viewport2Canvas({x:i[0],y:i[1]}),o=a.x,s=a.y,c=this.roll;this.rotate(0,0,-c),this.setPosition(o,s),this.setFocalPoint(o,s),this.setZoom(n),this.rotate(0,0,c);var l=this.canvas.viewport2Canvas({x:i[0],y:i[1]}),u=l.x,f=l.y,h=we(u-o,f-s,0),d=ti(h,this.right)/Xi(this.right),p=ti(h,this.up)/Xi(this.up);return this.pan(-d,-p),this},e.setPerspective=function(n,i,a,o){var s;this.projectionMode=gr.PERSPECTIVE,this.fov=a,this.near=n,this.far=i,this.aspect=o;var c=this.near*Math.tan(on(.5*this.fov))/this.zoom,l=2*c,u=this.aspect*l,f=-.5*u;if(!((s=this.view)===null||s===void 0)&&s.enabled){var h=this.view.fullWidth,d=this.view.fullHeight;f+=this.view.offsetX*u/h,c-=this.view.offsetY*l/d,u*=this.view.width/h,l*=this.view.height/d}return ZL(this.projectionMatrix,f,f+u,c,c-l,n,this.far),Yh(this.projectionMatrix,this.projectionMatrix,we(1,-1,1)),mi(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},e.setOrthographic=function(n,i,a,o,s,c){var l;this.projectionMode=gr.ORTHOGRAPHIC,this.rright=i,this.left=n,this.top=a,this.bottom=o,this.near=s,this.far=c;var u=(this.rright-this.left)/(2*this.zoom),f=(this.top-this.bottom)/(2*this.zoom),h=(this.rright+this.left)/2,d=(this.top+this.bottom)/2,p=h-u,v=h+u,g=d+f,m=d-f;if(!((l=this.view)===null||l===void 0)&&l.enabled){var b=(this.rright-this.left)/this.view.fullWidth/this.zoom,_=(this.top-this.bottom)/this.view.fullHeight/this.zoom;p+=b*this.view.offsetX,v=p+b*this.view.width,g-=_*this.view.offsetY,m=g-_*this.view.height}return Qm(this.projectionMatrix,p,v,m,g,s,c),Yh(this.projectionMatrix,this.projectionMatrix,we(1,-1,1)),mi(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},e.setPosition=function(n,i,a){i===void 0&&(i=this.position[1]),a===void 0&&(a=this.position[2]);var o=ar(n,i,a);return this._setPosition(o),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},e.setFocalPoint=function(n,i,a){i===void 0&&(i=this.focalPoint[1]),a===void 0&&(a=this.focalPoint[2]);var o=we(0,1,0);if(this.focalPoint=ar(n,i,a),this.trackingMode===Sc.CINEMATIC){var s=Fm(pe(),this.focalPoint,this.position);n=s[0],i=s[1],a=s[2];var c=Xi(s),l=jr(Math.asin(i/c)),u=90+jr(Math.atan2(a,n)),f=We();Vm(f,f,on(u)),Hm(f,f,on(l)),o=Rn(pe(),[0,1,0],f)}return mi(this.matrix,Jm(We(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},e.getDistance=function(){return this.distance},e.getDistanceVector=function(){return this.distanceVector},e.setDistance=function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<E1&&(this.distance=E1),this.dollyingStep=this.distance/100;var i=pe();n=this.distance;var a=this.forward,o=this.focalPoint;return i[0]=n*a[0]+o[0],i[1]=n*a[1]+o[1],i[2]=n*a[2]+o[2],this._setPosition(i),this.triggerUpdate(),this},e.setMaxDistance=function(n){return this.maxDistance=n,this},e.setMinDistance=function(n){return this.minDistance=n,this},e.setAzimuth=function(n){return this.azimuth=Qo(n),this.computeMatrix(),this._getAxes(),this.type===Be.ORBITING||this.type===Be.EXPLORING?this._getPosition():this.type===Be.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getAzimuth=function(){return this.azimuth},e.setElevation=function(n){return this.elevation=Qo(n),this.computeMatrix(),this._getAxes(),this.type===Be.ORBITING||this.type===Be.EXPLORING?this._getPosition():this.type===Be.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getElevation=function(){return this.elevation},e.setRoll=function(n){return this.roll=Qo(n),this.computeMatrix(),this._getAxes(),this.type===Be.ORBITING||this.type===Be.EXPLORING?this._getPosition():this.type===Be.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getRoll=function(){return this.roll},e._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},e.computeMatrix=function(){var n=ya(Sn(),[0,0,1],on(this.roll));au(this.matrix);var i=ya(Sn(),[1,0,0],on((this.rotateWorld&&this.type!==Be.TRACKING||this.type===Be.TRACKING?1:-1)*this.elevation)),a=ya(Sn(),[0,1,0],on((this.rotateWorld&&this.type!==Be.TRACKING||this.type===Be.TRACKING?1:-1)*this.azimuth)),o=ba(Sn(),a,i);o=ba(Sn(),o,n);var s=Hh(We(),o);this.type===Be.ORBITING||this.type===Be.EXPLORING?(ma(this.matrix,this.matrix,this.focalPoint),Un(this.matrix,this.matrix,s),ma(this.matrix,this.matrix,[0,0,this.distance])):this.type===Be.TRACKING&&(ma(this.matrix,this.matrix,this.position),Un(this.matrix,this.matrix,s))},e._setPosition=function(n,i,a){this.position=ar(n,i,a);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1,this._getOrthoMatrix()},e._getAxes=function(){hr(this.right,ar(fc(qo(),[1,0,0,0],this.matrix))),hr(this.up,ar(fc(qo(),[0,1,0,0],this.matrix))),hr(this.forward,ar(fc(qo(),[0,0,1,0],this.matrix))),oo(this.right,this.right),oo(this.up,this.up),oo(this.forward,this.forward)},e._getAngles=function(){var n=this.distanceVector[0],i=this.distanceVector[1],a=this.distanceVector[2],o=Xi(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===Be.TRACKING?(this.elevation=jr(Math.asin(i/o)),this.azimuth=jr(Math.atan2(-n,-a))):this.rotateWorld?(this.elevation=jr(Math.asin(i/o)),this.azimuth=jr(Math.atan2(-n,-a))):(this.elevation=-jr(Math.asin(i/o)),this.azimuth=-jr(Math.atan2(-n,-a)))},e._getPosition=function(){hr(this.position,ar(fc(qo(),[0,0,0,1],this.matrix))),this._getDistance()},e._getFocalPoint=function(){sT(this.distanceVector,[0,0,-this.distance],RT(ey(),this.matrix)),Ho(this.focalPoint,this.position,this.distanceVector),this._getDistance()},e._getDistance=function(){this.distanceVector=Fm(pe(),this.focalPoint,this.position),this.distance=Xi(this.distanceVector),this.dollyingStep=this.distance/100},e._getOrthoMatrix=function(){if(this.projectionMode===gr.ORTHOGRAPHIC){var n=this.position,i=ya(Sn(),[0,0,1],-this.roll*Math.PI/180);uc(this.orthoMatrix,i,we((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),we(this.zoom,this.zoom,1),n)}},e.triggerUpdate=function(){if(this.enableUpdate){var n=this.getViewTransform(),i=Un(We(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(i),this.eventEmitter.emit(S1.UPDATED)}},e.rotate=function(n,i,a){throw new Error(Ge)},e.pan=function(n,i){throw new Error(Ge)},e.dolly=function(n){throw new Error(Ge)},e.createLandmark=function(n,i){throw new Error(Ge)},e.gotoLandmark=function(n,i){throw new Error(Ge)},e.cancelLandmarkAnimation=function(){throw new Error(Ge)},t}(),nC=function(){function t(){}var e=t.prototype;return e.update=function(n,i){var a=n.r,o=a*2,s=a*2;return{width:o,height:s}},t}(),rC=function(){function t(){}var e=t.prototype;return e.update=function(n,i){var a=n.rx,o=n.ry,s=a*2,c=o*2;return{width:s,height:c}},t}(),iC=function(){function t(){}var e=t.prototype;return e.update=function(n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,c=Math.min(i,o),l=Math.max(i,o),u=Math.min(a,s),f=Math.max(a,s),h=l-c,d=f-u;return{width:h,height:d}},t}(),aC=function(){function t(){}var e=t.prototype;return e.update=function(n){var i=n.path,a=i.rect,o=a.width,s=a.height;return{width:o,height:s}},t}(),oC=function(){function t(){}var e=t.prototype;return e.update=function(n){var i=n.points.points,a=Math.min.apply(Math,i.map(function(f){return f[0]})),o=Math.max.apply(Math,i.map(function(f){return f[0]})),s=Math.min.apply(Math,i.map(function(f){return f[1]})),c=Math.max.apply(Math,i.map(function(f){return f[1]})),l=o-a,u=c-s;return{width:l,height:u}},t}(),sC=function(){function t(){}var e=t.prototype;return e.update=function(n,i){var a=n.img,o=n.width,s=o===void 0?0:o,c=n.height,l=c===void 0?0:c,u=s,f=l;return a&&!at(a)&&(u||(u=a.width,n.width=u),f||(f=a.height,n.height=f)),{width:u,height:f}},t}(),cC=function(){function t(r){this.globalRuntime=void 0,this.globalRuntime=r}var e=t.prototype;return e.isReadyToMeasure=function(n,i){var a=n.text,o=n.textAlign,s=n.textBaseline,c=n.fontSize,l=n.fontStyle,u=n.fontWeight,f=n.fontVariant,h=n.lineWidth;return a&&c&&l&&u&&f&&o&&s&&!ot(h)},e.update=function(n,i){var a,o,s=n.text,c=n.textAlign,l=n.lineWidth,u=n.textBaseline,f=n.dx,h=n.dy,d=(i==null||(a=i.ownerDocument)===null||a===void 0||(o=a.defaultView)===null||o===void 0?void 0:o.getConfig())||{},p=d.offscreenCanvas;if(!this.isReadyToMeasure(n,i))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{width:0,height:0,x:0,y:0,offsetX:0,offsetY:0};var v=this.globalRuntime.textService.measureText(s,n,p);n.metrics=v;var g=v.width,m=v.height,b=v.lineHeight,_=v.fontProperties,O=[g/2,m/2,0],E=[0,1],P=0;c==="center"||c==="middle"?(P=l/2,E=[.5,1]):(c==="right"||c==="end")&&(P=l,E=[1,1]);var A=0;return u==="middle"?A=O[1]:u==="top"||u==="hanging"?A=O[1]*2:u==="alphabetic"?A=nt.enableCSSParsing?b-_.ascent:0:(u==="bottom"||u==="ideographic")&&(A=0),f&&(P+=f),h&&(A+=h),n.anchor=[E[0],E[1],0],{width:O[0]*2,height:O[1]*2,offsetX:P,offsetY:A}},t}(),lC=2048,uC=function(){function t(r,n){var i=this;this.globalRuntime=void 0,this.context=void 0,this.rootTarget=void 0,this.emitter=new(Jh()),this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.pickHandler=void 0,this.tmpMatrix=We(),this.tmpVec3=pe(),this.onPointerDown=function(){var a=In(ge().mark(function o(s){var c,l,u;return ge().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.createPointerEvent(s);case 2:c=h.sent,i.dispatchEvent(c,"pointerdown"),c.pointerType==="touch"?i.dispatchEvent(c,"touchstart"):(c.pointerType==="mouse"||c.pointerType==="pen")&&(l=c.button===2,i.dispatchEvent(c,l?"rightdown":"mousedown")),u=i.trackingData(s.pointerId),u.pressTargetsByButton[s.button]=c.composedPath(),i.freeEvent(c);case 8:case"end":return h.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onPointerUp=function(){var a=In(ge().mark(function o(s){var c,l,u,f,h,d,p,v,g,m,b;return ge().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return c=performance.now(),O.next=3,i.createPointerEvent(s);case 3:if(l=O.sent,i.dispatchEvent(l,"pointerup"),l.pointerType==="touch"?i.dispatchEvent(l,"touchend"):(l.pointerType==="mouse"||l.pointerType==="pen")&&(u=l.button===2,i.dispatchEvent(l,u?"rightup":"mouseup")),f=i.trackingData(s.pointerId),h=i.findMountedTarget(f.pressTargetsByButton[s.button]),d=h,h&&!l.composedPath().includes(h)){for(p=h;p&&!l.composedPath().includes(p);)l.currentTarget=p,i.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"?i.notifyTarget(l,"touchendoutside"):(l.pointerType==="mouse"||l.pointerType==="pen")&&(v=l.button===2,i.notifyTarget(l,v?"rightupoutside":"mouseupoutside")),pn.isNode(p)&&(p=p.parentNode);delete f.pressTargetsByButton[s.button],d=p}d&&(m=i.clonePointerEvent(l,"click"),m.target=d,m.path=[],f.clicksByButton[s.button]||(f.clicksByButton[s.button]={clickCount:0,target:m.target,timeStamp:c}),b=f.clicksByButton[s.button],b.target===m.target&&c-b.timeStamp<200?++b.clickCount:b.clickCount=1,b.target=m.target,b.timeStamp=c,m.detail=b.clickCount,!((g=l.detail)===null||g===void 0)&&g.preventClick||((m.pointerType==="mouse"||m.pointerType==="touch")&&i.dispatchEvent(m,"click"),i.dispatchEvent(m,"pointertap")),i.freeEvent(m)),i.freeEvent(l);case 12:case"end":return O.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onPointerMove=function(){var a=In(ge().mark(function o(s){var c,l,u,f,h,d,p,v,g,m,b,_;return ge().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,i.createPointerEvent(s);case 2:if(c=E.sent,l=c.pointerType==="mouse"||c.pointerType==="pen",u=i.trackingData(s.pointerId),f=i.findMountedTarget(u.overTargets),!(u.overTargets&&f!==c.target)){E.next=21;break}return h=s.type==="mousemove"?"mouseout":"pointerout",E.next=10,i.createPointerEvent(s,h,f||void 0);case 10:if(d=E.sent,i.dispatchEvent(d,"pointerout"),l&&i.dispatchEvent(d,"mouseout"),c.composedPath().includes(f)){E.next=20;break}return E.next=16,i.createPointerEvent(s,"pointerleave",f||void 0);case 16:for(p=E.sent,p.eventPhase=p.AT_TARGET;p.target&&!c.composedPath().includes(p.target);)p.currentTarget=p.target,i.notifyTarget(p),l&&i.notifyTarget(p,"mouseleave"),pn.isNode(p.target)&&(p.target=p.target.parentNode);i.freeEvent(p);case 20:i.freeEvent(d);case 21:if(f===c.target){E.next=36;break}v=s.type==="mousemove"?"mouseover":"pointerover",g=i.clonePointerEvent(c,v),i.dispatchEvent(g,"pointerover"),l&&i.dispatchEvent(g,"mouseover"),m=f&&pn.isNode(f)&&f.parentNode;case 27:if(!(m&&m!==(pn.isNode(i.rootTarget)&&i.rootTarget.parentNode))){E.next=33;break}if(m!==c.target){E.next=30;break}return E.abrupt("break",33);case 30:m=m.parentNode,E.next=27;break;case 33:if(b=!m||m===(pn.isNode(i.rootTarget)&&i.rootTarget.parentNode),b){for(_=i.clonePointerEvent(c,"pointerenter"),_.eventPhase=_.AT_TARGET;_.target&&_.target!==f&&_.target!==(pn.isNode(i.rootTarget)&&i.rootTarget.parentNode);)_.currentTarget=_.target,i.notifyTarget(_),l&&i.notifyTarget(_,"mouseenter"),pn.isNode(_.target)&&(_.target=_.target.parentNode);i.freeEvent(_)}i.freeEvent(g);case 36:i.dispatchEvent(c,"pointermove"),c.pointerType==="touch"&&i.dispatchEvent(c,"touchmove"),l&&(i.dispatchEvent(c,"mousemove"),i.cursor=i.getCursor(c.target)),u.overTargets=c.composedPath(),i.freeEvent(c);case 41:case"end":return E.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onPointerOut=function(){var a=In(ge().mark(function o(s){var c,l,u,f,h;return ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(c=i.trackingData(s.pointerId),!c.overTargets){p.next=17;break}return l=s.pointerType==="mouse"||s.pointerType==="pen",u=i.findMountedTarget(c.overTargets),p.next=6,i.createPointerEvent(s,"pointerout",u||void 0);case 6:return f=p.sent,i.dispatchEvent(f),l&&i.dispatchEvent(f,"mouseout"),p.next=11,i.createPointerEvent(s,"pointerleave",u||void 0);case 11:for(h=p.sent,h.eventPhase=h.AT_TARGET;h.target&&h.target!==(pn.isNode(i.rootTarget)&&i.rootTarget.parentNode);)h.currentTarget=h.target,i.notifyTarget(h),l&&i.notifyTarget(h,"mouseleave"),pn.isNode(h.target)&&(h.target=h.target.parentNode);c.overTargets=null,i.freeEvent(f),i.freeEvent(h);case 17:i.cursor=null;case 18:case"end":return p.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onPointerOver=function(){var a=In(ge().mark(function o(s){var c,l,u,f;return ge().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=i.trackingData(s.pointerId),d.next=3,i.createPointerEvent(s);case 3:for(l=d.sent,u=l.pointerType==="mouse"||l.pointerType==="pen",i.dispatchEvent(l,"pointerover"),u&&i.dispatchEvent(l,"mouseover"),l.pointerType==="mouse"&&(i.cursor=i.getCursor(l.target)),f=i.clonePointerEvent(l,"pointerenter"),f.eventPhase=f.AT_TARGET;f.target&&f.target!==(pn.isNode(i.rootTarget)&&i.rootTarget.parentNode);)f.currentTarget=f.target,i.notifyTarget(f),u&&i.notifyTarget(f,"mouseenter"),pn.isNode(f.target)&&(f.target=f.target.parentNode);c.overTargets=l.composedPath(),i.freeEvent(l),i.freeEvent(f);case 14:case"end":return d.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onPointerUpOutside=function(){var a=In(ge().mark(function o(s){var c,l,u,f;return ge().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=i.trackingData(s.pointerId),l=i.findMountedTarget(c.pressTargetsByButton[s.button]),d.next=4,i.createPointerEvent(s);case 4:if(u=d.sent,l){for(f=l;f;)u.currentTarget=f,i.notifyTarget(u,"pointerupoutside"),u.pointerType==="touch"||(u.pointerType==="mouse"||u.pointerType==="pen")&&i.notifyTarget(u,u.button===2?"rightupoutside":"mouseupoutside"),pn.isNode(f)&&(f=f.parentNode);delete c.pressTargetsByButton[s.button]}i.freeEvent(u);case 7:case"end":return d.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.onWheel=function(){var a=In(ge().mark(function o(s){var c;return ge().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,i.createWheelEvent(s);case 2:c=u.sent,i.dispatchEvent(c),i.freeEvent(c);case 5:case"end":return u.stop()}},o)}));return function(o){return a.apply(this,arguments)}}(),this.globalRuntime=r,this.context=n}var e=t.prototype;return e.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)},e.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},e.client2Viewport=function(n){var i=this.context.contextService.getBoundingClientRect();return new Fn(n.x-((i==null?void 0:i.left)||0),n.y-((i==null?void 0:i.top)||0))},e.viewport2Client=function(n){var i=this.context.contextService.getBoundingClientRect();return new Fn(n.x+((i==null?void 0:i.left)||0),n.y+((i==null?void 0:i.top)||0))},e.viewport2Canvas=function(n){var i=n.x,a=n.y,o=this.rootTarget.defaultView,s=o.getCamera(),c=this.context.config,l=c.width,u=c.height,f=s.getPerspectiveInverse(),h=s.getWorldTransform(),d=Un(this.tmpMatrix,h,f),p=Jr(this.tmpVec3,i/l*2-1,(1-a/u)*2-1,0);return Rn(p,p,d),new Fn(p[0],p[1])},e.canvas2Viewport=function(n){var i=this.rootTarget.defaultView,a=i.getCamera(),o=a.getPerspective(),s=a.getViewTransform(),c=Un(this.tmpMatrix,o,s),l=Jr(this.tmpVec3,n.x,n.y,0);Rn(this.tmpVec3,this.tmpVec3,c);var u=this.context.config,f=u.width,h=u.height;return new Fn((l[0]+1)/2*f,(1-(l[1]+1)/2)*h)},e.setPickHandler=function(n){this.pickHandler=n},e.addEventMapping=function(n,i){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:i,priority:0}),this.mappingTable[n].sort(function(a,o){return a.priority-o.priority})},e.mapEvent=function(n){if(!!this.rootTarget){var i=this.mappingTable[n.type];if(i)for(var a=0,o=i.length;a<o;a++)i[a].fn(n);else console.warn("[EventService]: Event mapping not defined for "+n.type)}},e.dispatchEvent=function(n,i,a){if(!a)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,i);else{n.eventPhase=n.AT_TARGET;var o=this.rootTarget.defaultView||null;n.currentTarget=o,this.notifyListeners(n,i)}this.emitter.emit(i||n.type,n)},e.propagate=function(n,i){if(!!n.target){var a=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var o=a.length-1;o>=1;o--)if(n.currentTarget=a[o],this.notifyTarget(n,i),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,i),!(n.propagationStopped||n.propagationImmediatelyStopped)){var s=a.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var c=s+1;c<a.length;c++)if(n.currentTarget=a[c],this.notifyTarget(n,i),n.propagationStopped||n.propagationImmediatelyStopped)return}}},e.propagationPath=function(n){var i=[n],a=this.rootTarget.defaultView||null;if(a&&a===n)return i.unshift(a.document),i;for(var o=0;o<lC&&n!==this.rootTarget;o++)pn.isNode(n)&&n.parentNode&&(i.push(n.parentNode),n=n.parentNode);return a&&i.push(a),i},e.hitTest=function(){var r=In(ge().mark(function i(a){var o,s,c,l,u;return ge().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(o=a.viewportX,s=a.viewportY,c=this.context.config,l=c.width,u=c.height,!(o<0||s<0||o>l||s>u)){h.next=4;break}return h.abrupt("return",null);case 4:return h.next=6,this.pickHandler(a);case 6:if(h.t1=h.sent,h.t1){h.next=9;break}h.t1=this.rootTarget;case 9:if(h.t0=h.t1,h.t0){h.next=12;break}h.t0=null;case 12:return h.abrupt("return",h.t0);case 13:case"end":return h.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),e.isNativeEventFromCanvas=function(n){var i,a=this.context.contextService.getDomElement(),o=(i=n.nativeEvent)===null||i===void 0?void 0:i.target;if(o){if(o===a)return!0;if(a&&a.contains)return a.contains(o)}return n.nativeEvent.composedPath?n.nativeEvent.composedPath().indexOf(a)>-1:!1},e.getExistedHTML=function(n){if(n.nativeEvent.composedPath)for(var i=this.globalRuntime.displayObjectPool.getHTMLs(),a=ho(i),o;!(o=a()).done;){var s=o.value;if(n.nativeEvent.composedPath().indexOf(s)>-1)return s}return null},e.pickTarget=function(){var r=In(ge().mark(function i(a){return ge().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.hitTest({clientX:a.clientX,clientY:a.clientY,viewportX:a.viewportX,viewportY:a.viewportY,x:a.canvasX,y:a.canvasY}));case 1:case"end":return s.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),e.createPointerEvent=function(){var r=In(ge().mark(function i(a,o,s){var c,l;return ge().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(c=this.allocateEvent(Td),this.copyPointerData(a,c),this.copyMouseData(a,c),this.copyData(a,c),c.nativeEvent=a.nativeEvent,c.originalEvent=a,l=this.getExistedHTML(c),s==null){f.next=11;break}f.t0=s,f.next=20;break;case 11:if(f.t1=l,f.t1){f.next=19;break}if(f.t2=this.isNativeEventFromCanvas(c),!f.t2){f.next=18;break}return f.next=17,this.pickTarget(c);case 17:f.t2=f.sent;case 18:f.t1=f.t2;case 19:f.t0=f.t1;case 20:return c.target=f.t0,typeof o=="string"&&(c.type=o),f.abrupt("return",c);case 23:case"end":return f.stop()}},i,this)}));function n(i,a,o){return r.apply(this,arguments)}return n}(),e.createWheelEvent=function(){var r=In(ge().mark(function i(a){var o,s;return ge().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=this.allocateEvent(Ld),this.copyWheelData(a,o),this.copyMouseData(a,o),this.copyData(a,o),o.nativeEvent=a.nativeEvent,o.originalEvent=a,s=this.getExistedHTML(o),l.t0=s,l.t0){l.next=15;break}if(l.t1=this.isNativeEventFromCanvas(o),!l.t1){l.next=14;break}return l.next=13,this.pickTarget(o);case 13:l.t1=l.sent;case 14:l.t0=l.t1;case 15:return o.target=l.t0,l.abrupt("return",o);case 17:case"end":return l.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),e.trackingData=function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]},e.cloneWheelEvent=function(n){var i=this.allocateEvent(Ld);return i.nativeEvent=n.nativeEvent,i.originalEvent=n.originalEvent,this.copyWheelData(n,i),this.copyMouseData(n,i),this.copyData(n,i),i.target=n.target,i.path=n.composedPath().slice(),i.type=n.type,i},e.clonePointerEvent=function(n,i){var a=this.allocateEvent(Td);return a.nativeEvent=n.nativeEvent,a.originalEvent=n.originalEvent,this.copyPointerData(n,a),this.copyMouseData(n,a),this.copyData(n,a),a.target=n.target,a.path=n.composedPath().slice(),a.type=i!=null?i:a.type,a},e.copyPointerData=function(n,i){i.pointerId=n.pointerId,i.width=n.width,i.height=n.height,i.isPrimary=n.isPrimary,i.pointerType=n.pointerType,i.pressure=n.pressure,i.tangentialPressure=n.tangentialPressure,i.tiltX=n.tiltX,i.tiltY=n.tiltY,i.twist=n.twist},e.copyMouseData=function(n,i){i.altKey=n.altKey,i.button=n.button,i.buttons=n.buttons,i.ctrlKey=n.ctrlKey,i.metaKey=n.metaKey,i.shiftKey=n.shiftKey,i.client.copyFrom(n.client),i.movement.copyFrom(n.movement),i.canvas.copyFrom(n.canvas),i.screen.copyFrom(n.screen),i.global.copyFrom(n.global),i.offset.copyFrom(n.offset)},e.copyWheelData=function(n,i){i.deltaMode=n.deltaMode,i.deltaX=n.deltaX,i.deltaY=n.deltaY,i.deltaZ=n.deltaZ},e.copyData=function(n,i){i.isTrusted=n.isTrusted,i.timeStamp=performance.now(),i.type=n.type,i.detail=n.detail,i.view=n.view,i.page.copyFrom(n.page),i.viewport.copyFrom(n.viewport)},e.allocateEvent=function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var i=this.eventPool.get(n).pop()||new n(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.target=null,i},e.freeEvent=function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var i=n.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),this.eventPool.get(i).push(n)},e.notifyTarget=function(n,i){var a;i=(a=i)!==null&&a!==void 0?a:n.type;var o=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?i+"capture":i;this.notifyListeners(n,o),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,i)},e.notifyListeners=function(n,i){var a=n.currentTarget.emitter,o=a._events[i];if(!!o)if("fn"in o)o.once&&a.removeListener(i,o.fn,void 0,!0),o.fn.call(n.currentTarget||o.context,n);else for(var s=0;s<o.length&&!n.propagationImmediatelyStopped;s++)o[s].once&&a.removeListener(i,o[s].fn,void 0,!0),o[s].fn.call(n.currentTarget||o[s].context,n)},e.findMountedTarget=function(n){if(!n)return null;for(var i=n[n.length-1],a=n.length-2;a>=0;a--){var o=n[a];if(o===this.rootTarget||pn.isNode(o)&&o.parentNode===i)i=n[a];else break}return i},e.getCursor=function(n){for(var i=n;i;){var a=y1.isElement(i)&&i.getAttribute("cursor");if(a)return a;i=pn.isNode(i)&&i.parentNode}},t}(),fC=function(){function t(){this.canvas=void 0,this.context=void 0}var e=t.prototype;return e.getOrCreateCanvas=function(n,i){if(this.canvas)return this.canvas;if(n)this.canvas=n,this.context=this.canvas.getContext("2d",i);else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",i),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(a){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",i)}return this.canvas.width=10,this.canvas.height=10,this.canvas},e.getOrCreateContext=function(n,i){return this.context?this.context:(this.getOrCreateCanvas(n,i),this.context)},t}(),mo;(function(t){t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE"})(mo||(mo={}));var hC=function(){function t(r,n){this.globalRuntime=void 0,this.context=void 0,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.renderOrderChangedEvent=new en(le.RENDER_ORDER_CHANGED),this.hooks={init:new g5,dirtycheck:new bd(["object"]),cull:new bd(["object","camera"]),beginFrame:new pr([]),beforeRender:new pr(["objectToRender"]),render:new pr(["objectToRender"]),afterRender:new pr(["objectToRender"]),endFrame:new pr([]),destroy:new pr([]),pick:new b5(["result"]),pickSync:new bd(["result"]),pointerDown:new pr(["event"]),pointerUp:new pr(["event"]),pointerMove:new pr(["event"]),pointerOut:new pr(["event"]),pointerOver:new pr(["event"]),pointerWheel:new pr(["event"]),pointerCancel:new pr(["event"])},this.globalRuntime=r,this.context=n}var e=t.prototype;return e.init=function(){var r=In(ge().mark(function i(){var a;return ge().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=re({},this.globalRuntime,this.context),this.context.renderingPlugins.forEach(function(c){c.apply(a,nt)}),s.next=4,this.hooks.init.promise();case 4:this.inited=!0;case 5:case"end":return s.stop()}},i,this)}));function n(){return r.apply(this,arguments)}return n}(),e.getStats=function(){return this.stats},e.disableDirtyRectangleRendering=function(){var n=this.context.config.renderer,i=n.getConfig(),a=i.enableDirtyRectangleRendering;return!a||this.context.renderingContext.renderReasons.has(mo.CAMERA_CHANGED)},e.render=function(n,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited&&(this.renderDisplayObject(o.root,n,o),this.hooks.beginFrame.call(),o.renderListCurrentFrame.forEach(function(s){a.hooks.beforeRender.call(s),a.hooks.render.call(s),a.hooks.afterRender.call(s)}),this.hooks.endFrame.call(),o.renderListCurrentFrame=[],o.renderReasons.clear(),i())},e.renderDisplayObject=function(n,i,a){var o=this,s=i.renderer.getConfig(),c=s.enableDirtyCheck,l=s.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(n);var u=c?this.hooks.dirtycheck.call(n):n;if(u){var f=l?this.hooks.cull.call(u,this.context.camera):u;f&&(this.stats.rendered++,a.renderListCurrentFrame.push(f))}n.renderable.dirty=!1,n.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var h=n.sortable,d=!1;h.dirty&&(h.sorted=n.childNodes.slice().sort(BL),d=!0,h.dirty=!1),(h.sorted||n.childNodes).forEach(function(p){o.renderDisplayObject(p,i,a)}),d&&n.forEach(function(p){o.renderOrderChangedEvent.target=p,o.renderOrderChangedEvent.detail={renderOrder:p.sortable.renderOrder},p.ownerDocument.defaultView.dispatchEvent(o.renderOrderChangedEvent,!0)})},e.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},e.dirtify=function(){this.context.renderingContext.renderReasons.add(mo.DISPLAY_OBJECT_CHANGED)},t}(),dC=/\[\s*(.*)=(.*)\s*\]/,pC=function(){function t(){}var e=t.prototype;return e.selectOne=function(n,i){var a=this;if(n.startsWith("."))return i.find(function(l){return((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return i.find(function(l){return l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var o=this.getAttribute(n),s=o.name,c=o.value;return s?i.find(function(l){return i!==l&&(s==="name"?l.name===c:a.attributeToString(l,s)===c)}):null}else return i.find(function(l){return i!==l&&l.nodeName===n})},e.selectAll=function(n,i){var a=this;if(n.startsWith("."))return i.findAll(function(l){return i!==l&&((l==null?void 0:l.classList)||[]).indexOf(a.getIdOrClassname(n))>-1});if(n.startsWith("#"))return i.findAll(function(l){return i!==l&&l.id===a.getIdOrClassname(n)});if(n.startsWith("[")){var o=this.getAttribute(n),s=o.name,c=o.value;return s?i.findAll(function(l){return i!==l&&(s==="name"?l.name===c:a.attributeToString(l,s)===c)}):[]}else return i.findAll(function(l){return i!==l&&l.nodeName===n})},e.is=function(n,i){if(n.startsWith("."))return i.className===this.getIdOrClassname(n);if(n.startsWith("#"))return i.id===this.getIdOrClassname(n);if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o==="name"?i.name===s:this.attributeToString(i,o)===s}else return i.nodeName===n},e.getIdOrClassname=function(n){return n.substring(1)},e.getAttribute=function(n){var i=n.match(dC),a="",o="";return i&&i.length>2&&(a=i[1].replace(/"/g,""),o=i[2].replace(/"/g,"")),{name:a,value:o}},e.attributeToString=function(n,i){if(!n.getAttribute)return"";var a=n.getAttribute(i);return ot(a)?"":a.toString?a.toString():""},t}();function P1(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}var vC=new _i(le.REPARENT,null,"","","",0,"",""),gC=function(){function t(r){var n=this;this.runtime=void 0,this.pendingEvents=[],this.boundsChangedEvent=new en(le.BOUNDS_CHANGED),this.rotate=function(){var i=Sn();return function(a,o,s,c){s===void 0&&(s=0),c===void 0&&(c=0),typeof o=="number"&&(o=we(o,s,c));var l=a.transformable;if(a.parentNode===null||!a.parentNode.transformable)n.rotateLocal(a,o);else{var u=Sn();cu(u,o[0],o[1],o[2]);var f=n.getRotation(a),h=n.getRotation(a.parentNode);lu(i,h),Xh(i,i),ba(u,i,u),ba(l.localRotation,u,f),uu(l.localRotation,l.localRotation),n.dirtifyLocal(a,l)}}}(),this.rotateLocal=function(){var i=Sn();return function(a,o,s,c){s===void 0&&(s=0),c===void 0&&(c=0),typeof o=="number"&&(o=we(o,s,c));var l=a.transformable;cu(i,o[0],o[1],o[2]),ny(l.localRotation,l.localRotation,i),n.dirtifyLocal(a,l)}}(),this.setEulerAngles=function(){var i=Sn();return function(a,o,s,c){s===void 0&&(s=0),c===void 0&&(c=0),typeof o=="number"&&(o=we(o,s,c));var l=a.transformable;if(a.parentNode===null||!a.parentNode.transformable)n.setLocalEulerAngles(a,o);else{cu(l.localRotation,o[0],o[1],o[2]);var u=n.getRotation(a.parentNode);lu(i,Xh(Sn(),u)),ny(l.localRotation,l.localRotation,i),n.dirtifyLocal(a,l)}}}(),this.translateLocal=function(){return function(i,a,o,s){o===void 0&&(o=0),s===void 0&&(s=0),typeof a=="number"&&(a=we(a,o,s));var c=i.transformable;Vo(a,pe())||(cT(a,a,c.localRotation),Ho(c.localPosition,c.localPosition,a),n.dirtifyLocal(i,c))}}(),this.setPosition=function(){var i=We(),a=pe();return function(o,s){var c=o.transformable;if(a[0]=s[0],a[1]=s[1],a[2]=s[2]||0,!Vo(n.getPosition(o),a)){if(hr(c.position,a),o.parentNode===null||!o.parentNode.transformable)hr(c.localPosition,a);else{var l=o.parentNode.transformable;so(i,l.worldTransform),mi(i,i),Rn(c.localPosition,a,i)}n.dirtifyLocal(o,c)}}}(),this.setLocalPosition=function(){var i=pe();return function(a,o){var s=a.transformable;i[0]=o[0],i[1]=o[1],i[2]=o[2]||0,!Vo(s.localPosition,i)&&(hr(s.localPosition,i),n.dirtifyLocal(a,s))}}(),this.translate=function(){var i=pe(),a=pe(),o=pe();return function(s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0),typeof c=="number"&&(c=Jr(a,c,l,u)),!Vo(c,i)&&(Ho(o,n.getPosition(s),c),n.setPosition(s,o))}}(),this.setRotation=function(){var i=Sn();return function(a,o,s,c,l){var u=a.transformable;if(typeof o=="number"&&(o=qh(o,s,c,l)),a.parentNode===null||!a.parentNode.transformable)n.setLocalRotation(a,o);else{var f=n.getRotation(a.parentNode);lu(i,f),Xh(i,i),ba(u.localRotation,i,o),uu(u.localRotation,u.localRotation),n.dirtifyLocal(a,u)}}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var i=We(),a=pe(),o=qh(0,0,0,1);return function(s){var c=s.localSkew[0]!==0||s.localSkew[1]!==0;if(c){if(uc(s.localTransform,s.localRotation,s.localPosition,we(1,1,1),s.origin),s.localSkew[0]!==0||s.localSkew[1]!==0){var l=au(i);l[4]=Math.tan(s.localSkew[0]),l[1]=Math.tan(s.localSkew[1]),Un(s.localTransform,s.localTransform,l)}var u=uc(i,o,a,s.localScale,s.origin);Un(s.localTransform,s.localTransform,u)}else uc(s.localTransform,s.localRotation,s.localPosition,s.localScale,s.origin)}}(),this.runtime=r}var e=t.prototype;return e.matches=function(n,i){return this.runtime.sceneGraphSelector.is(n,i)},e.querySelector=function(n,i){return this.runtime.sceneGraphSelector.selectOne(n,i)},e.querySelectorAll=function(n,i){return this.runtime.sceneGraphSelector.selectAll(n,i)},e.attach=function(n,i,a){var o,s,c=!1;n.parentNode&&(c=n.parentNode!==i,this.detach(n)),n.parentNode=i,ot(a)?n.parentNode.childNodes.push(n):n.parentNode.childNodes.splice(a,0,n);var l=i.sortable;((l==null||(o=l.sorted)===null||o===void 0?void 0:o.length)||((s=n.style)===null||s===void 0?void 0:s.zIndex))&&(l.dirty=!0);var u=n.transformable;u&&this.dirtifyWorld(n,u),u.frozen&&this.unfreezeParentToRoot(n),c&&n.dispatchEvent(vC)},e.detach=function(n){if(n.parentNode){var i,a,o=n.transformable,s=n.parentNode.sortable;((s==null||(i=s.sorted)===null||i===void 0?void 0:i.length)||((a=n.style)===null||a===void 0?void 0:a.zIndex))&&(s.dirty=!0);var c=n.parentNode.childNodes.indexOf(n);c>-1&&n.parentNode.childNodes.splice(c,1),o&&this.dirtifyWorld(n,o),n.parentNode=null}},e.getOrigin=function(n){return n.transformable.origin},e.setOrigin=function(n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=0),typeof i=="number"&&(i=we(i,a,o));var s=n.transformable;if(!Vo(i,s.origin)){var c=s.origin;c[0]=i[0],c[1]=i[1],c[2]=i[2]||0,this.dirtifyLocal(n,s)}},e.setLocalEulerAngles=function(n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=0),typeof i=="number"&&(i=we(i,a,o));var s=n.transformable;cu(s.localRotation,i[0],i[1],i[2]),this.dirtifyLocal(n,s)},e.scaleLocal=function(n,i){var a=n.transformable;aT(a.localScale,a.localScale,we(i[0],i[1],i[2]||1)),this.dirtifyLocal(n,a)},e.setLocalScale=function(n,i){var a=n.transformable,o=we(i[0],i[1],i[2]||a.localScale[2]);Vo(o,a.localScale)||(hr(a.localScale,o),this.dirtifyLocal(n,a))},e.setLocalRotation=function(n,i,a,o,s){typeof i=="number"&&(i=qh(i,a,o,s));var c=n.transformable;lu(c.localRotation,i),this.dirtifyLocal(n,c)},e.setLocalSkew=function(n,i,a){typeof i=="number"&&(i=eL(i,a));var o=n.transformable;nL(o.localSkew,i),this.dirtifyLocal(n,o)},e.dirtifyLocal=function(n,i){i.localDirtyFlag||(i.localDirtyFlag=!0,i.dirtyFlag||this.dirtifyWorld(n,i))},e.dirtifyWorld=function(n,i){i.dirtyFlag||this.unfreezeParentToRoot(n),this.dirtifyWorldInternal(n,i),this.dirtifyToRoot(n,!0)},e.triggerPendingEvents=function(){var n=this,i=new Set,a=function(s,c){s.isConnected&&!i.has(s.entity)&&(n.boundsChangedEvent.detail=c,n.boundsChangedEvent.target=s,s.isMutationObserved?s.dispatchEvent(n.boundsChangedEvent):s.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0),i.add(s.entity))};this.pendingEvents.forEach(function(o){var s=o[0],c=o[1];c.affectChildren?s.forEach(function(l){a(l,c)}):a(s,c)}),this.clearPendingEvents(),i.clear()},e.clearPendingEvents=function(){this.pendingEvents=[]},e.dirtifyToRoot=function(n,i){i===void 0&&(i=!1);var a=n;for(a.renderable&&(a.renderable.dirty=!0);a;)P1(a),a=a.parentNode;i&&n.forEach(function(o){P1(o)}),this.informDependentDisplayObjects(n),this.pendingEvents.push([n,{affectChildren:i}])},e.updateDisplayObjectDependency=function(n,i,a,o){if(i&&i!==a){var s=this.displayObjectDependencyMap.get(i);if(s&&s[n]){var c=s[n].indexOf(o);s[n].splice(c,1)}}if(a){var l=this.displayObjectDependencyMap.get(a);l||(this.displayObjectDependencyMap.set(a,{}),l=this.displayObjectDependencyMap.get(a)),l[n]||(l[n]=[]),l[n].push(o)}},e.informDependentDisplayObjects=function(n){var i=this,a=this.displayObjectDependencyMap.get(n);a&&Object.keys(a).forEach(function(o){a[o].forEach(function(s){i.dirtifyToRoot(s,!0),s.dispatchEvent(new _i(le.ATTR_MODIFIED,s,i,i,o,_i.MODIFICATION,i,i)),s.isCustomElement&&s.isConnected&&s.attributeChangedCallback&&s.attributeChangedCallback(o,i,i)})})},e.getPosition=function(n){var i=n.transformable;return ou(i.position,this.getWorldTransform(n,i))},e.getRotation=function(n){var i=n.transformable;return su(i.rotation,this.getWorldTransform(n,i))},e.getScale=function(n){var i=n.transformable;return Xo(i.scaling,this.getWorldTransform(n,i))},e.getWorldTransform=function(n,i){return i===void 0&&(i=n.transformable),!i.localDirtyFlag&&!i.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.sync(n,i)),i.worldTransform},e.getLocalPosition=function(n){return n.transformable.localPosition},e.getLocalRotation=function(n){return n.transformable.localRotation},e.getLocalScale=function(n){return n.transformable.localScale},e.getLocalSkew=function(n){return n.transformable.localSkew},e.getLocalTransform=function(n){var i=n.transformable;return i.localDirtyFlag&&(this.calcLocalTransform(i),i.localDirtyFlag=!1),i.localTransform},e.setLocalTransform=function(n,i){var a=ou(pe(),i),o=su(Sn(),i),s=Xo(pe(),i);this.setLocalScale(n,s),this.setLocalPosition(n,a),this.setLocalRotation(n,o)},e.resetLocalTransform=function(n){this.setLocalScale(n,[1,1,1]),this.setLocalPosition(n,[0,0,0]),this.setLocalEulerAngles(n,[0,0,0]),this.setLocalSkew(n,[0,0])},e.getTransformedGeometryBounds=function(n,i,a){i===void 0&&(i=!1);var o=this.getGeometryBounds(n,i);if(En.isEmpty(o))return null;var s=a||new En;return s.setFromTransformedAABB(o,this.getWorldTransform(n)),s},e.getGeometryBounds=function(n,i){i===void 0&&(i=!1);var a=n.geometry;a.dirty&&nt.styleValueRegistry.updateGeometry(n);var o=i?a.renderBounds:a.contentBounds||null;return o||new En},e.getBounds=function(n,i){var a=this;i===void 0&&(i=!1);var o=n.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,c=this.getTransformedGeometryBounds(n,i,s),l=n.childNodes;if(l.forEach(function(h){var d=a.getBounds(h,i);d&&(c?c.add(d):(c=s||new En,c.update(d.center,d.halfExtents)))}),i){var u=Ty(n);if(u){var f=u.style.clipPath.getBounds(i);c?f&&(c=f.intersection(c)):c=f}}return c||(c=new En),c&&(i?o.renderBounds=c:o.bounds=c),i?o.renderBoundsDirty=!1:o.boundsDirty=!1,c},e.getLocalBounds=function(n){if(n.parentNode){var i=We();n.parentNode.transformable&&(i=mi(We(),this.getWorldTransform(n.parentNode)));var a=this.getBounds(n);if(!En.isEmpty(a)){var o=new En;return o.setFromTransformedAABB(a,i),o}}return this.getBounds(n)},e.getBoundingClientRect=function(n){var i,a,o,s=this.getGeometryBounds(n);En.isEmpty(s)||(o=new En,o.setFromTransformedAABB(s,this.getWorldTransform(n)));var c=(i=n.ownerDocument)===null||i===void 0||(a=i.defaultView)===null||a===void 0?void 0:a.getContextService().getBoundingClientRect();if(o){var l=o.getMin(),u=l[0],f=l[1],h=o.getMax(),d=h[0],p=h[1];return new Jo(u+((c==null?void 0:c.left)||0),f+((c==null?void 0:c.top)||0),d-u,p-f)}return new Jo((c==null?void 0:c.left)||0,(c==null?void 0:c.top)||0,0,0)},e.dirtifyWorldInternal=function(n,i){var a=this;if(!i.dirtyFlag){i.dirtyFlag=!0,i.frozen=!1,n.childNodes.forEach(function(s){var c=s.transformable;c.dirtyFlag||a.dirtifyWorldInternal(s,c)});var o=n.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}},e.syncHierarchy=function(n){var i=n.transformable;if(!i.frozen){i.frozen=!0,(i.localDirtyFlag||i.dirtyFlag)&&this.sync(n,i);for(var a=n.childNodes,o=0;o<a.length;o++)this.syncHierarchy(a[o])}},e.sync=function(n,i){if(i.localDirtyFlag&&(this.calcLocalTransform(i),i.localDirtyFlag=!1),i.dirtyFlag){var a=n.parentNode,o=a&&a.transformable;a===null||!o?so(i.worldTransform,i.localTransform):Un(i.worldTransform,o.worldTransform,i.localTransform),i.dirtyFlag=!1}},e.unfreezeParentToRoot=function(n){for(var i=n.parentNode;i;){var a=i.transformable;a&&(a.frozen=!1),i=i.parentNode}},t}(),yo={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},A1=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,mC=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,yC=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,bC=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,xC=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,_C=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,wC=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,OC=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,SC=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,EC=new RegExp(mC.source+"|"+bC.source+"|"+_C.source+"|"+OC.source),MC=new RegExp(yC.source+"|"+xC.source+"|"+wC.source+"|"+SC.source),PC=function(){function t(r){var n=this;this.runtime=void 0,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(i,a){return n.isBreakingSpace(a)?!1:!!(i&&(MC.exec(a)||EC.exec(i)))},this.trimByKinsokuShorui=function(i){var a=[].concat(i),o=a[a.length-2];if(!o)return i;var s=o[o.length-1];return a[a.length-2]=o.slice(0,-1),a[a.length-1]=s+a[a.length-1],a},this.runtime=r}var e=t.prototype;return e.measureFont=function(n,i){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var a={ascent:0,descent:0,fontSize:0},o=this.runtime.offscreenCanvas.getOrCreateCanvas(i),s=this.runtime.offscreenCanvas.getOrCreateContext(i);s.font=n;var c=yo.MetricsString+yo.BaselineSymbol,l=Math.ceil(s.measureText(c).width),u=Math.ceil(s.measureText(yo.BaselineSymbol).width),f=yo.HeightMultiplier*u;u=u*yo.BaselineMultiplier|0,o.width=l,o.height=f,s.fillStyle="#f00",s.fillRect(0,0,l,f),s.font=n,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(c,0,u);var h=s.getImageData(0,0,l||1,f||1).data,d=h.length,p=l*4,v=0,g=0,m=!1;for(v=0;v<u;++v){for(var b=0;b<p;b+=4)if(h[g+b]!==255){m=!0;break}if(!m)g+=p;else break}for(a.ascent=u-v,g=d-p,m=!1,v=f;v>u;--v){for(var _=0;_<p;_+=4)if(h[g+_]!==255){m=!0;break}if(!m)g-=p;else break}return a.descent=v-u,a.fontSize=a.ascent+a.descent,this.fontMetricsCache[n]=a,a},e.measureText=function(n,i,a){var o=i.fontSize,s=i.wordWrap,c=i.lineHeight,l=i.lineWidth,u=i.textBaseline,f=i.textAlign,h=i.letterSpacing,d=i.textPath,p=i.textPathSide,v=i.textPathStartOffset,g=i.leading,m=g===void 0?0:g,b=T5(i),_;nt.enableCSSParsing?(_=this.measureFont(b,a),_.fontSize===0&&(_.fontSize=o,_.ascent=o)):_={fontSize:o};var O=this.runtime.offscreenCanvas.getOrCreateContext(a);O.font=b,i.isOverflowing=!1;var E=s?this.wordWrap(n,i,a):n,P=E.split(/(?:\r\n|\r|\n)/),A=new Array(P.length),T=0;if(d)for(var C=d.getTotalLength(),L=0;L<P.length;L++)var N=O.measureText(P[L]).width+(P[L].length-1)*h;else{for(var x=0;x<P.length;x++){var y=O.measureText(P[x]).width+(P[x].length-1)*h;A[x]=y,T=Math.max(T,y)}var w=T+l,M=c||_.fontSize+l,S=Math.max(M,_.fontSize+l)+(P.length-1)*(M+m);M+=m;var k=0;return u==="middle"?k=-S/2:u==="bottom"||u==="alphabetic"||u==="ideographic"?k=-S:(u==="top"||u==="hanging")&&(k=0),{font:b,width:w,height:S,lines:P,lineWidths:A,lineHeight:M,maxLineWidth:T,fontProperties:_,lineMetrics:A.map(function(I,j){var F=0;return f==="center"||f==="middle"?F-=I/2:(f==="right"||f==="end")&&(F-=I),new Jo(F-l/2,k+j*M,I+l,M)})}}},e.setGraphemeOnPath=function(){},e.wordWrap=function(n,i,a){var o=this,s=i.wordWrapWidth,c=s===void 0?0:s,l=i.letterSpacing,u=i.maxLines,f=u===void 0?1/0:u,h=i.textOverflow,d=this.runtime.offscreenCanvas.getOrCreateContext(a),p=c+l,v="";h==="ellipsis"?v="...":h&&h!=="clip"&&(v=h);for(var g=[],m=0,b=0,_={},O=function(I){return o.getFromCache(I,l,_,d)},E=Array.from(v).reduce(function(k,I){return k+O(I)},0),P=Array.from(n),A=0;A<P.length;A++){var T=P[A],C=n[A-1],L=n[A+1],N=O(T);if(this.isNewline(T)){if(m++,m>=f){i.isOverflowing=!0;break}b=0,g[m]="";continue}if(b>0&&b+N>p){if(m+1>=f){if(i.isOverflowing=!0,E>0&&E<=p){for(var x=g[m].length,y=0,w=x,M=0;M<x;M++){var S=O(g[m][M]);if(y+S+E>p){w=M;break}y+=S}g[m]=(g[m]||"").slice(0,w)+v}break}if(m++,b=0,g[m]="",this.isBreakingSpace(T))continue;this.canBreakInLastChar(T)||(g=this.trimToBreakable(g),b=this.sumTextWidthByCache(g[m]||"",_)),this.shouldBreakByKinsokuShorui(T,L)&&(g=this.trimByKinsokuShorui(g),b+=O(C||""))}b+=N,g[m]=(g[m]||"")+T}return g.join(`
`)},e.isBreakingSpace=function(n){return typeof n!="string"?!1:yo.BreakingSpaces.indexOf(n.charCodeAt(0))>=0},e.isNewline=function(n){return typeof n!="string"?!1:yo.Newlines.indexOf(n.charCodeAt(0))>=0},e.trimToBreakable=function(n){var i=[].concat(n),a=i[i.length-2],o=this.findBreakableIndex(a);if(o===-1||!a)return i;var s=a.slice(o,o+1),c=this.isBreakingSpace(s),l=o+1,u=o+(c?0:1);return i[i.length-1]+=a.slice(l,a.length),i[i.length-2]=a.slice(0,u),i},e.canBreakInLastChar=function(n){return!(n&&A1.test(n))},e.sumTextWidthByCache=function(n,i){return n.split("").reduce(function(a,o){if(!i[o])throw Error("cannot count the word without cache");return a+i[o]},0)},e.findBreakableIndex=function(n){for(var i=n.length-1;i>=0;i--)if(!A1.test(n[i]))return i;return-1},e.getFromCache=function(n,i,a,o){var s=a[n];if(typeof s!="number"){var c=n.length*i;s=o.measureText(n).width+c,a[n]=s}return s},t}(),k1=void 0,nt={},AC=function(){var t,e=new sC,r=new oC;return t={},t[rt.CIRCLE]=new nC,t[rt.ELLIPSE]=new rC,t[rt.RECT]=e,t[rt.IMAGE]=e,t[rt.GROUP]=e,t[rt.LINE]=new iC,t[rt.TEXT]=new cC(nt),t[rt.POLYLINE]=r,t[rt.POLYGON]=r,t[rt.PATH]=new aC,t[rt.HTML]=null,t[rt.MESH]=null,t}(),kC=function(){var t,e=new g3,r=new Ad;return t={},t[wt.PERCENTAGE]=null,t[wt.NUMBER]=new w3,t[wt.ANGLE]=new p3,t[wt.DEFINED_PATH]=new v3,t[wt.PAINT]=e,t[wt.COLOR]=e,t[wt.FILTER]=new m3,t[wt.LENGTH]=r,t[wt.LENGTH_PERCENTAGE]=r,t[wt.LENGTH_PERCENTAGE_12]=new y3,t[wt.LENGTH_PERCENTAGE_14]=new b3,t[wt.COORDINATE]=new x3,t[wt.OFFSET_DISTANCE]=new O3,t[wt.OPACITY_VALUE]=new S3,t[wt.PATH]=new E3,t[wt.LIST_OF_POINTS]=new M3,t[wt.SHADOW_BLUR]=new P3,t[wt.TEXT]=new A3,t[wt.TEXT_TRANSFORM]=new k3,t[wt.TRANSFORM]=new T3,t[wt.TRANSFORM_ORIGIN]=new L3,t[wt.Z_INDEX]=new C3,t[wt.MARKER]=new _3,t}(),TC=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof xt.g!="undefined")return xt.g;if(typeof k1!="undefined")return k1;throw new Error("Unable to locate global `this`")};nt.CameraContribution=M1,nt.AnimationTimeline=null,nt.EasingFunction=null,nt.offscreenCanvas=new fC,nt.displayObjectPool=new W3,nt.sceneGraphSelector=new pC,nt.sceneGraphService=new gC(nt),nt.textService=new PC(nt),nt.geometryUpdaterFactory=AC,nt.CSSPropertySyntaxFactory=kC,nt.styleValueRegistry=new eC,nt.layoutRegistry=null,nt.globalThis=TC(),nt.enableCSSParsing=!0;var Ma=function(){function t(){this.context=void 0,this.plugins=[]}var e=t.prototype;return e.addRenderingPlugin=function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)},e.removeAllRenderingPlugins=function(){var n=this;this.plugins.forEach(function(i){var a=n.context.renderingPlugins.indexOf(i);a>=0&&n.context.renderingPlugins.splice(a,1)})},t}(),LC=function(){function t(r){this.plugins=[],this.config=void 0,this.config=re({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1},r)}var e=t.prototype;return e.registerPlugin=function(n){var i=this.plugins.findIndex(function(a){return a===n});i===-1&&this.plugins.push(n)},e.unregisterPlugin=function(n){var i=this.plugins.findIndex(function(a){return a===n});i>-1&&this.plugins.splice(i,1)},e.getPlugins=function(){return this.plugins},e.getPlugin=function(n){return this.plugins.find(function(i){return i.name===n})},e.getConfig=function(){return this.config},e.setConfig=function(n){Object.assign(this.config,n)},t}(),T1=function(){function t(r){this.strategies=void 0,this.strategies=r}var e=t.prototype;return e.apply=function(n){var i=n.camera,a=n.renderingService,o=n.renderingContext,s=this.strategies;a.hooks.cull.tap(t.tag,function(c){if(c){var l=c.cullable;return s.length===0?l.visible=o.unculledEntities.indexOf(c.entity)>-1:l.visible=s.every(function(u){return u.isVisible(i,c)}),!c.isCulled()&&c.isVisible()?c:(c.dispatchEvent(new en(le.CULLED)),null)}return c}),a.hooks.afterRender.tap(t.tag,function(c){c.cullable.visibilityPlaneMask=-1})},t}();T1.tag="Culling";var L1=function(){function t(){}var e=t.prototype;return e.apply=function(n){var i=n.renderingService;i.hooks.dirtycheck.tap(t.tag,function(a){if(a){var o=a.renderable,s=o.dirty||i.disableDirtyRectangleRendering();return s?a:null}return a})},t}();L1.tag="DirtyCheck";var C1=function(){function t(){var r=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Td(null),this.rootWheelEvent=new Ld(null),this.context=void 0,this.onPointerMove=function(n){var i,a,o=(i=r.context.renderingContext.root)===null||i===void 0||(a=i.ownerDocument)===null||a===void 0?void 0:a.defaultView;if(!(o.supportsTouchEvents&&n.pointerType==="touch")){for(var s=r.normalizeToPointerEvent(n,o),c=ho(s),l;!(l=c()).done;){var u=l.value,f=r.bootstrapEvent(r.rootPointerEvent,u,o);r.context.eventService.mapEvent(f)}r.setCursor(r.context.eventService.cursor)}}}var e=t.prototype;return e.apply=function(n){var i=this;this.context=n;var a=n.renderingService,o=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(){var s=In(ge().mark(function c(l){var u,f;return ge().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,i.context.renderingService.hooks.pick.promise({position:l,picked:[],topmost:!0});case 2:return u=d.sent,f=u.picked,d.abrupt("return",f[0]||null);case 5:case"end":return d.stop()}},c)}));return function(c){return s.apply(this,arguments)}}()),a.hooks.pointerWheel.tap(t.tag,function(s){var c=i.normalizeWheelEvent(s);i.context.eventService.mapEvent(c)}),a.hooks.pointerDown.tap(t.tag,function(s){if(!(o.supportsTouchEvents&&s.pointerType==="touch")){var c=i.normalizeToPointerEvent(s,o);if(i.autoPreventDefault&&c[0].isNormalized){var l=s.cancelable||!("cancelable"in s);l&&s.preventDefault()}for(var u=ho(c),f;!(f=u()).done;){var h=f.value,d=i.bootstrapEvent(i.rootPointerEvent,h,o);i.context.eventService.mapEvent(d)}i.setCursor(i.context.eventService.cursor)}}),a.hooks.pointerUp.tap(t.tag,function(s){if(!(o.supportsTouchEvents&&s.pointerType==="touch")){var c=i.context.contextService.getDomElement(),l="outside";try{l=c&&s.target&&s.target!==c&&c.contains&&!c.contains(s.target)?"outside":""}catch(v){}for(var u=i.normalizeToPointerEvent(s,o),f=ho(u),h;!(h=f()).done;){var d=h.value,p=i.bootstrapEvent(i.rootPointerEvent,d,o);p.type+=l,i.context.eventService.mapEvent(p)}i.setCursor(i.context.eventService.cursor)}}),a.hooks.pointerMove.tap(t.tag,this.onPointerMove),a.hooks.pointerOver.tap(t.tag,this.onPointerMove),a.hooks.pointerOut.tap(t.tag,this.onPointerMove)},e.getViewportXY=function(n){var i,a,o=n.offsetX,s=n.offsetY,c=n.clientX,l=n.clientY;if(this.context.config.supportsCSSTransform&&!ot(o)&&!ot(s))i=o,a=s;else{var u=this.context.eventService.client2Viewport(new Fn(c,l));i=u.x,a=u.y}return{x:i,y:a}},e.bootstrapEvent=function(n,i,a){n.view=a,n.originalEvent=null,n.nativeEvent=i,n.pointerId=i.pointerId,n.width=i.width,n.height=i.height,n.isPrimary=i.isPrimary,n.pointerType=i.pointerType,n.pressure=i.pressure,n.tangentialPressure=i.tangentialPressure,n.tiltX=i.tiltX,n.tiltY=i.tiltY,n.twist=i.twist,this.transferMouseData(n,i);var o=this.getViewportXY(i),s=o.x,c=o.y;n.viewport.x=s,n.viewport.y=c;var l=this.context.eventService.viewport2Canvas(n.viewport),u=l.x,f=l.y;return n.canvas.x=u,n.canvas.y=f,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=i.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=YL[n.type]||n.type),n},e.normalizeWheelEvent=function(n){var i=this.rootWheelEvent;this.transferMouseData(i,n),i.deltaMode=n.deltaMode,i.deltaX=n.deltaX,i.deltaY=n.deltaY,i.deltaZ=n.deltaZ;var a=this.getViewportXY(n),o=a.x,s=a.y;i.viewport.x=o,i.viewport.y=s;var c=this.context.eventService.viewport2Canvas(i.viewport),l=c.x,u=c.y;return i.canvas.x=l,i.canvas.y=u,i.global.copyFrom(i.canvas),i.offset.copyFrom(i.canvas),i.nativeEvent=n,i.type=n.type,i},e.transferMouseData=function(n,i){n.isTrusted=i.isTrusted,n.srcElement=i.srcElement,n.timeStamp=performance.now(),n.type=i.type,n.altKey=i.altKey,n.metaKey=i.metaKey,n.shiftKey=i.shiftKey,n.ctrlKey=i.ctrlKey,n.button=i.button,n.buttons=i.buttons,n.client.x=i.clientX,n.client.y=i.clientY,n.movement.x=i.movementX,n.movement.y=i.movementY,n.page.x=i.pageX,n.page.y=i.pageY,n.screen.x=i.screenX,n.screen.y=i.screenY,n.relatedTarget=null},e.setCursor=function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")},e.normalizeToPointerEvent=function(n,i){var a=[];if(i.isTouchEvent(n))for(var o=0;o<n.changedTouches.length;o++){var s=n.changedTouches[o];Le(s.button)&&(s.button=0),Le(s.buttons)&&(s.buttons=1),Le(s.isPrimary)&&(s.isPrimary=n.touches.length===1&&n.type==="touchstart"),Le(s.width)&&(s.width=s.radiusX||1),Le(s.height)&&(s.height=s.radiusY||1),Le(s.tiltX)&&(s.tiltX=0),Le(s.tiltY)&&(s.tiltY=0),Le(s.pointerType)&&(s.pointerType="touch"),Le(s.pointerId)&&(s.pointerId=s.identifier||0),Le(s.pressure)&&(s.pressure=s.force||.5),Le(s.twist)&&(s.twist=0),Le(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=n.type,a.push(s)}else if(i.isMouseEvent(n)){var c=n;Le(c.isPrimary)&&(c.isPrimary=!0),Le(c.width)&&(c.width=1),Le(c.height)&&(c.height=1),Le(c.tiltX)&&(c.tiltX=0),Le(c.tiltY)&&(c.tiltY=0),Le(c.pointerType)&&(c.pointerType="mouse"),Le(c.pointerId)&&(c.pointerId=WL),Le(c.pressure)&&(c.pressure=.5),Le(c.twist)&&(c.twist=0),Le(c.tangentialPressure)&&(c.tangentialPressure=0),c.isNormalized=!0,a.push(c)}else a.push(n);return a},t}();C1.tag="Event";var CC=[rt.CIRCLE,rt.ELLIPSE,rt.IMAGE,rt.RECT,rt.LINE,rt.POLYLINE,rt.POLYGON,rt.TEXT,rt.PATH,rt.HTML],NC=function(){function t(){}var e=t.prototype;return e.isVisible=function(n,i){var a,o,s=i.cullable;if(!s.enable)return!0;var c=i.getRenderBounds();if(En.isEmpty(c))return!1;var l=n.getFrustum(),u=(a=i.parentNode)===null||a===void 0||(o=a.cullable)===null||o===void 0?void 0:o.visibilityPlaneMask;return s.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(i,c,u||Sa.INDETERMINATE,l.planes),s.visible=s.visibilityPlaneMask!==Sa.OUTSIDE,s.visible},e.computeVisibilityWithPlaneMask=function(n,i,a,o){if(a===Sa.OUTSIDE||a===Sa.INSIDE)return a;for(var s=Sa.INSIDE,c=CC.indexOf(n.nodeName)>-1,l=0,u=o.length;l<u;++l){var f=1<<l;if((a&f)!==0&&!(c&&(l===4||l===5))){var h=o[l],d=h.normal,p=h.distance;if(ti(d,i.getPositiveFarPoint(o[l]))+p<0)return Sa.OUTSIDE;ti(d,i.getNegativeFarPoint(o[l]))+p<0&&(s|=f)}}return s},t}(),N1=function(){function t(){this.rBush=void 0,this.toSync=new Set}var e=t.prototype;return e.apply=function(n){var i=this,a=n.renderingService,o=n.renderingContext,s=n.rBushRoot,c=o.root.ownerDocument.defaultView;this.rBush=s;var l=function(p){var v=p.target;v.renderable.dirty=!0,a.dirtify()},u=function(p){var v=p.detail.affectChildren,g=p.target;v&&g.forEach(function(b){i.toSync.add(b)});for(var m=g;m;)m.renderable&&i.toSync.add(m),m=m.parentElement;a.dirtify()},f=function(p){var v=p.target;nt.enableCSSParsing&&nt.styleValueRegistry.recalc(v),nt.sceneGraphService.dirtifyToRoot(v),a.dirtify()},h=function(p){var v=p.target,g=v.rBushNode;g.aabb&&i.rBush.remove(g.aabb),i.toSync.delete(v),nt.sceneGraphService.dirtifyToRoot(v),a.dirtify()};a.hooks.init.tapPromise(t.tag,In(ge().mark(function d(){return ge().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c.addEventListener(le.MOUNTED,f),c.addEventListener(le.UNMOUNTED,h),c.addEventListener(le.ATTR_MODIFIED,l),c.addEventListener(le.BOUNDS_CHANGED,u);case 4:case"end":return v.stop()}},d)}))),a.hooks.destroy.tap(t.tag,function(){c.removeEventListener(le.MOUNTED,f),c.removeEventListener(le.UNMOUNTED,h),c.removeEventListener(le.ATTR_MODIFIED,l),c.removeEventListener(le.BOUNDS_CHANGED,u),i.toSync.clear()}),a.hooks.endFrame.tap(t.tag,function(){i.syncRTree()})},e.syncRTree=function(){var n=this,i=[];Array.from(this.toSync).filter(function(a){return a.isConnected}).forEach(function(a){var o=a.rBushNode;o&&o.aabb&&n.rBush.remove(o.aabb);var s=a.getRenderBounds();if(s){var c=s.getMin(),l=c[0],u=c[1],f=s.getMax(),h=f[0],d=f[1];o.aabb||(o.aabb={}),o.aabb.id=a.entity,o.aabb.minX=l,o.aabb.minY=u,o.aabb.maxX=h,o.aabb.maxY=d}o.aabb&&!isNaN(o.aabb.maxX)&&!isNaN(o.aabb.maxX)&&!isNaN(o.aabb.minX)&&!isNaN(o.aabb.minY)&&i.push(o.aabb)}),this.rBush.load(i),i.length=0,this.toSync.clear()},t}();N1.tag="Prepare";function eQ(t){return!!t.document}var Fr;(function(t){t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle"})(Fr||(Fr={}));var R1=500,RC=.1,IC=1e3,Id=new en(le.MOUNTED),Dd=new en(le.UNMOUNTED),DC=new en(Fr.BEFORE_RENDER),jC=new en(Fr.RERENDER),BC=new en(Fr.AFTER_RENDER),I1=function(t){_e(e,t);function e(n){var i;i=t.call(this)||this,i.document=void 0,i.customElements=void 0,i.requestAnimationFrame=void 0,i.cancelAnimationFrame=void 0,i.devicePixelRatio=void 0,i.supportsPointerEvents=void 0,i.supportsTouchEvents=void 0,i.isTouchEvent=void 0,i.isMouseEvent=void 0,i.Element=bn,i.frameId=void 0,i.inited=!1,i.readyPromise=void 0,i.resolveReadyPromise=void 0,i.context={},i.document=new I3,i.document.defaultView=fo(i),i.customElements=new N3;var a=n.container,o=n.canvas,s=n.offscreenCanvas,c=n.width,l=n.height,u=n.devicePixelRatio,f=n.renderer,h=n.background,d=n.cursor,p=n.document,v=n.requestAnimationFrame,g=n.cancelAnimationFrame,m=n.createImage,b=n.supportsPointerEvents,_=n.supportsTouchEvents,O=n.supportsCSSTransform,E=n.isTouchEvent,P=n.isMouseEvent;jL(a,fo(i));var A=c,T=l,C=u;return o&&(C=u||gc&&window.devicePixelRatio||1,C=C>=1?Math.ceil(C):1,A=c||zL(o)||o.width/C,T=l||GL(o)||o.height/C),i.devicePixelRatio=C,i.requestAnimationFrame=v!=null?v:Jy.bind(nt.globalThis),i.cancelAnimationFrame=g!=null?g:t1.bind(nt.globalThis),i.supportsTouchEvents=_!=null?_:"ontouchstart"in nt.globalThis,i.supportsPointerEvents=b!=null?b:!!nt.globalThis.PointerEvent,i.isTouchEvent=E!=null?E:function(L){return i.supportsTouchEvents&&L instanceof nt.globalThis.TouchEvent},i.isMouseEvent=P!=null?P:function(L){return!nt.globalThis.MouseEvent||L instanceof nt.globalThis.MouseEvent&&(!i.supportsPointerEvents||!(L instanceof nt.globalThis.PointerEvent))},i.initRenderingContext({container:a,canvas:o,width:A,height:T,renderer:f,offscreenCanvas:s,devicePixelRatio:C,cursor:d||"default",background:h||"transparent",createImage:m,document:p,supportsCSSTransform:O}),i.initDefaultCamera(A,T),In(ge().mark(function L(){return ge().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,i.initRenderer(f);case 2:i.dispatchEvent(new en(Fr.READY)),i.readyPromise&&i.resolveReadyPromise();case 4:case"end":return x.stop()}},L)}))(),i}var r=e.prototype;return r.initRenderingContext=function(i){this.context.config=i,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},r.initDefaultCamera=function(i,a){var o=this,s=new nt.CameraContribution;s.setType(Be.EXPLORING,Sc.DEFAULT).setPosition(i/2,a/2,R1).setFocalPoint(i/2,a/2,0).setOrthographic(i/-2,i/2,a/2,a/-2,RC,IC),s.canvas=this,s.eventEmitter.on(S1.UPDATED,function(){o.context.renderingContext.renderReasons.add(mo.CAMERA_CHANGED)}),this.context.camera=s},r.getConfig=function(){return this.context.config},r.getRoot=function(){return this.document.documentElement},r.getCamera=function(){return this.context.camera},r.getContextService=function(){return this.context.contextService},r.getEventService=function(){return this.context.eventService},r.getRenderingService=function(){return this.context.renderingService},r.getRenderingContext=function(){return this.context.renderingContext},r.getStats=function(){return this.getRenderingService().getStats()},r.destroy=function(i,a){if(i===void 0&&(i=!0),a===void 0&&(a=!1),a||this.dispatchEvent(new en(Fr.BEFORE_DESTROY)),this.frameId){var o=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;o(this.frameId)}var s=this.getRoot();this.unmountChildren(s),i&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),i&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),a||this.dispatchEvent(new en(Fr.AFTER_DESTROY))},r.changeSize=function(i,a){this.resize(i,a)},r.resize=function(i,a){var o=this.context.config;o.width=i,o.height=a,this.getContextService().resize(i,a);var s=this.context.camera,c=s.getProjectionMode();s.setPosition(i/2,a/2,R1).setFocalPoint(i/2,a/2,0),c===gr.ORTHOGRAPHIC?s.setOrthographic(i/-2,i/2,a/2,a/-2,s.getNear(),s.getFar()):s.setAspect(i/a),this.dispatchEvent(new en(Fr.RESIZE,{width:i,height:a}))},r.appendChild=function(i,a){return this.document.documentElement.appendChild(i,a)},r.insertBefore=function(i,a){return this.document.documentElement.insertBefore(i,a)},r.removeChild=function(i){return this.document.documentElement.removeChild(i)},r.removeChildren=function(){this.document.documentElement.removeChildren()},r.destroyChildren=function(){this.document.documentElement.destroyChildren()},r.render=function(){var i=this;this.dispatchEvent(DC);var a=this.getRenderingService();a.render(this.getConfig(),function(){i.dispatchEvent(jC)}),this.dispatchEvent(BC)},r.run=function(){var i=this,a=function o(){i.render(),i.frameId=requestAnimationFrame(o)};a()},r.initRenderer=function(){var n=In(ge().mark(function a(o){return ge().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o){c.next=2;break}throw new Error("Renderer is required.");case 2:return this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new(Ht()),this.context.renderingPlugins=[],this.context.renderingPlugins.push(new C1,new N1,new L1,new T1([new NC])),this.loadRendererContainerModule(o),this.context.contextService=new this.context.ContextService(re({},nt,this.context)),this.context.renderingService=new hC(nt,this.context),this.context.eventService=new uC(nt,this.context),this.context.eventService.init(),c.next=14,this.context.contextService.init();case 14:return c.next=16,this.context.renderingService.init();case 16:this.inited=!0,this.getRoot().forEach(function(l){var u=l.renderable;u&&(u.renderBoundsDirty=!0,u.boundsDirty=!0,u.dirty=!0)}),this.mountChildren(this.getRoot()),o.getConfig().enableAutoRendering&&this.run();case 20:case"end":return c.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}(),r.loadRendererContainerModule=function(i){var a=this,o=i.getPlugins();o.forEach(function(s){s.context=a.context,s.init(nt)})},r.setRenderer=function(){var n=In(ge().mark(function a(o){var s,c;return ge().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=this.getConfig(),s.renderer!==o){u.next=3;break}return u.abrupt("return");case 3:return c=s.renderer,s.renderer=o,this.destroy(!1,!0),[].concat(c==null?void 0:c.getPlugins()).reverse().forEach(function(f){f.destroy(nt)}),u.next=9,this.initRenderer(o);case 9:case"end":return u.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}(),r.setCursor=function(i){var a=this.getConfig();a.cursor=i,this.getContextService().applyCursorStyle(i)},r.unmountChildren=function(i){var a=this;i.childNodes.forEach(function(o){a.unmountChildren(o)}),this.inited&&(i.isMutationObserved?i.dispatchEvent(Dd):(Dd.target=i,this.dispatchEvent(Dd,!0)),i!==this.document.documentElement&&(i.ownerDocument=null),i.isConnected=!1),i.isCustomElement&&i.disconnectedCallback&&i.disconnectedCallback()},r.mountChildren=function(i){var a=this;this.inited?i.isConnected||(i.ownerDocument=this.document,i.isConnected=!0,i.isMutationObserved?i.dispatchEvent(Id):(Id.target=i,this.dispatchEvent(Id,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",i.nodeName),i.childNodes.forEach(function(o){a.mountChildren(o)}),i.isCustomElement&&i.connectedCallback&&i.connectedCallback()},r.client2Viewport=function(i){return this.getEventService().client2Viewport(i)},r.viewport2Client=function(i){return this.getEventService().viewport2Client(i)},r.viewport2Canvas=function(i){return this.getEventService().viewport2Canvas(i)},r.canvas2Viewport=function(i){return this.getEventService().canvas2Viewport(i)},r.getPointByClient=function(i,a){return this.client2Viewport({x:i,y:a})},r.getClientByPoint=function(i,a){return this.viewport2Client({x:i,y:a})},uo(e,[{key:"ready",get:function(){var i=this;return this.readyPromise||(this.readyPromise=new Promise(function(a){i.resolveReadyPromise=function(){a(i)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}}]),e}(p1);function FC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jd(t,e)}function jd(t,e){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jd(t,e)}var zC=function(t){FC(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.landmarks=[],n.landmarkAnimationID=void 0,n}var r=e.prototype;return r.rotate=function(i,a,o){if(this.relElevation=Qo(a),this.relAzimuth=Qo(i),this.relRoll=Qo(o),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Be.EXPLORING){var s=ya(Sn(),[1,0,0],on((this.rotateWorld?1:-1)*this.relElevation)),c=ya(Sn(),[0,1,0],on((this.rotateWorld?1:-1)*this.relAzimuth)),l=ya(Sn(),[0,0,1],on(this.relRoll)),u=ba(Sn(),c,s);u=ba(Sn(),u,l);var f=Hh(We(),u);ma(this.matrix,this.matrix,[0,0,-this.distance]),Un(this.matrix,this.matrix,f),ma(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Be.ORBITING||this.type===Be.EXPLORING?this._getPosition():this.type===Be.TRACKING&&this._getFocalPoint(),this._update(),this},r.pan=function(i,a){var o=ar(i,a,0),s=Vi(this.position);return Ho(s,s,Gh(pe(),this.right,o[0])),Ho(s,s,Gh(pe(),this.up,o[1])),this._setPosition(s),this.triggerUpdate(),this},r.dolly=function(i){var a=this.forward,o=Vi(this.position),s=i*this.dollyingStep,c=this.distance+i*this.dollyingStep;return s=Math.max(Math.min(c,this.maxDistance),this.minDistance)-this.distance,o[0]+=s*a[0],o[1]+=s*a[1],o[2]+=s*a[2],this._setPosition(o),this.type===Be.ORBITING||this.type===Be.EXPLORING?this._getDistance():this.type===Be.TRACKING&&Ho(this.focalPoint,o,this.distanceVector),this.triggerUpdate(),this},r.cancelLandmarkAnimation=function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},r.createLandmark=function(i,a){var o,s,c,l;a===void 0&&(a={});var u=a,f=u.position,h=f===void 0?this.position:f,d=u.focalPoint,p=d===void 0?this.focalPoint:d,v=u.roll,g=u.zoom,m=new nt.CameraContribution;m.setType(this.type,void 0),m.setPosition(h[0],(o=h[1])!==null&&o!==void 0?o:this.position[1],(s=h[2])!==null&&s!==void 0?s:this.position[2]),m.setFocalPoint(p[0],(c=p[1])!==null&&c!==void 0?c:this.focalPoint[1],(l=p[2])!==null&&l!==void 0?l:this.focalPoint[2]),m.setRoll(v!=null?v:this.roll),m.setZoom(g!=null?g:this.zoom);var b={name:i,matrix:$m(m.getWorldTransform()),right:Vi(m.right),up:Vi(m.up),forward:Vi(m.forward),position:Vi(m.getPosition()),focalPoint:Vi(m.getFocalPoint()),distanceVector:Vi(m.getDistanceVector()),distance:m.getDistance(),dollyingStep:m.getDollyingStep(),azimuth:m.getAzimuth(),elevation:m.getElevation(),roll:m.getRoll(),relAzimuth:m.relAzimuth,relElevation:m.relElevation,relRoll:m.relRoll,zoom:m.getZoom()};return this.landmarks.push(b),b},r.gotoLandmark=function(i,a){var o=this;a===void 0&&(a={});var s=at(i)?this.landmarks.find(function(L){return L.name===i}):i;if(s){var c=ct(a)?{duration:a}:a,l=c.easing,u=l===void 0?"linear":l,f=c.duration,h=f===void 0?100:f,d=c.easingFunction,p=d===void 0?void 0:d,v=c.onfinish,g=v===void 0?void 0:v,m=.01;if(h===0){this.syncFromLandmark(s),g&&g();return}this.cancelLandmarkAnimation();var b=s.position,_=s.focalPoint,O=s.zoom,E=s.roll,P=p||nt.EasingFunction(u),A,T=function(){o.setFocalPoint(_),o.setPosition(b),o.setRoll(E),o.setZoom(O),o.computeMatrix(),o.triggerUpdate(),g&&g()},C=function L(N){A===void 0&&(A=N);var x=N-A;if(x>h){T();return}var y=P(x/h),w=pe(),M=pe(),S=1,k=0;$h(w,o.focalPoint,_,y),$h(M,o.position,b,y),k=o.roll*(1-y)+E*y,S=o.zoom*(1-y)+O*y,o.setFocalPoint(w),o.setPosition(M),o.setRoll(k),o.setZoom(S);var I=zm(w,_)+zm(M,b);if(I<=m){T();return}o.computeMatrix(),o.triggerUpdate(),x<h&&(o.landmarkAnimationID=o.canvas.requestAnimationFrame(L))};this.canvas.requestAnimationFrame(C)}},r.syncFromLandmark=function(i){this.matrix=so(this.matrix,i.matrix),this.right=hr(this.right,i.right),this.up=hr(this.up,i.up),this.forward=hr(this.forward,i.forward),this.position=hr(this.position,i.position),this.focalPoint=hr(this.focalPoint,i.focalPoint),this.distanceVector=hr(this.distanceVector,i.distanceVector),this.azimuth=i.azimuth,this.elevation=i.elevation,this.roll=i.roll,this.relAzimuth=i.relAzimuth,this.relElevation=i.relElevation,this.relRoll=i.relRoll,this.dollyingStep=i.dollyingStep,this.distance=i.distance,this.zoom=i.zoom},e}(M1);nt.CameraContribution=zC;var nQ=function(e,r,n){this._layoutContext=void 0,this._node=void 0,this.options=void 0,this.layoutContext=void 0,this.inlineSize=void 0,this.blockSize=void 0,this.node=void 0,this.childFragments=void 0,this.data=void 0,this._layoutContext=e,this._node=r,this.options=n,this.layoutContext=e,this.inlineSize=n==null?void 0:n.inlineSize,this.blockSize=n==null?void 0:n.blockSize,this.childFragments=n==null?void 0:n.childFragments,this.data=n.data,this.node=r},D1;(function(t){t.Layout="layout",t.IntrinsicSizes="intrinsic-sizes"})(D1||(D1={}));var j1;(function(t){t[t.block=0]="block",t[t.normal=1]="normal"})(j1||(j1={}));var B1;(function(t){t[t["block-like"]=0]="block-like",t[t.manual=1]="manual"})(B1||(B1={}));var Oi;(function(t){t.LAYOUT="display",t.LEFT="left",t.TOP="top",t.BOTTOM="bottom",t.RIGHT="right",t.WIDTH="width",t.HEIGHT="height",t.MIN_WIDTH="minWidth",t.MAX_WIDTH="maxWidth",t.MIN_HEIGHT="minHeight",t.MAX_HEIGHT="maxHeight",t.BOX_SIZING="boxSizing",t.PADDING="padding",t.PADDING_TOP="paddingTop",t.PADDING_BOTTOM="paddingBottom",t.PADDING_START="paddingLeft",t.PADDING_END="paddingRight",t.MARGIN="margin",t.MARGIN_TOP="marginTop",t.MARGIN_BOTTOM="marginBottom",t.MARGIN_START="marginLeft",t.MARGIN_END="marginRight",t.BORDER="border",t.BORDER_TOP="borderTop",t.BORDER_BOTTOM="borderBottom",t.BORDER_START="borderLeft",t.BORDER_END="borderRight",t.FLEX_DIRECTION="flexDirection",t.FLEX_WRAP="flexWrap",t.FLEX_FLOW="flexFlow",t.ALIGN_ITEMS="alignItems",t.ALIGN_CONTENT="alignContent",t.JUSTIFY_CONTENT="justifyContent",t.FLEX="flex",t.ALIGN_SELF="alignSelf",t.FLEX_SHRINK="flexShrink",t.FLEX_BASIS="flexBasis",t.FLEX_GROW="flexGrow",t.OFFSET_WIDTH="offsetWidth",t.OFFSET_HEIGHT="offsetHeight",t.ORDER="order"})(Oi||(Oi={}));function GC(){GC=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function F1(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function rQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){F1(a,n,i,o,s,"next",c)}function s(c){F1(a,n,i,o,s,"throw",c)}o(void 0)})}}function z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YC(n.key),n)}}function $C(t,e,r){return e&&z1(t.prototype,e),r&&z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YC(t){var e=WC(t,"string");return typeof e=="symbol"?e:String(e)}var iQ=function(e){if(e.isRejected||e.isFulfilled)return e;var r=!0,n=!1,i=!1,a,o=e.then(function(s){return i=!0,r=!1,a=s,s},function(s){throw n=!0,r=!1,s});return o.isFulfilled=function(){return i},o.isPending=function(){return r},o.isRejected=function(){return n},o.getFullFilledValue=function(){return a},o},aQ=function(){var e=this;this.resolve=void 0,this.reject=void 0,this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})},oQ=null,sQ=0,cQ=null,Bd=function(){};Bd.inputProperties=void 0,Bd.childrenInputProperties=void 0,Bd.layoutOptions=void 0;var Pu=null,lQ=function(e){var r,n,i,a,o,s,c,l,u,f,h,d,p,v,g,m;this.options=void 0,this.inlineStart=void 0,this.inlineEnd=void 0,this.blockStart=void 0,this.blockEnd=void 0,this.inline=void 0,this.block=void 0,this.options=e;var b=e.node,_=b.getAllStyle(),O=(r=(n=_.get(Oi.PADDING_TOP))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:0,E=(i=(a=_.get(Oi.PADDING_END))===null||a===void 0?void 0:a.value)!==null&&i!==void 0?i:0,P=(o=(s=_.get(Oi.PADDING_BOTTOM))===null||s===void 0?void 0:s.value)!==null&&o!==void 0?o:0,A=(c=(l=_.get(Oi.PADDING_START))===null||l===void 0?void 0:l.value)!==null&&c!==void 0?c:0,T=(u=(f=_.get(Oi.PADDING_TOP))===null||f===void 0?void 0:f.value)!==null&&u!==void 0?u:0,C=(h=(d=_.get(Oi.PADDING_END))===null||d===void 0?void 0:d.value)!==null&&h!==void 0?h:0,L=(p=(v=_.get(Oi.PADDING_BOTTOM))===null||v===void 0?void 0:v.value)!==null&&p!==void 0?p:0,N=(g=(m=_.get(Oi.PADDING_START))===null||m===void 0?void 0:m.value)!==null&&g!==void 0?g:0;this.blockStart=O+Pu[0]+T,this.inlineStart=E+Pu[1]+C,this.blockEnd=P+Pu[2]+L,this.inlineEnd=A+Pu[3]+N,this.block=this.blockStart+this.blockEnd,this.inline=this.inlineStart+this.inlineEnd},uQ=function(e){return e===void 0&&(e=0),new Promise(function(r){setTimeout(function(){r()},e)})},fQ=null,hQ=function(e,r){this._layoutContext=void 0,this.options=void 0,this.layoutContext=void 0,this.inlineSize=void 0,this.blockSize=void 0,this.inlineOffset=void 0,this.blockOffset=void 0,this.data=void 0,this._layoutContext=e,this.options=r,this.layoutContext=e,this.inlineSize=r.inlineSize,this.blockSize=r.blockSize,this.inlineOffset=0,this.blockOffset=0,this.data=r.data},dQ=1,pQ=null,HC=function(){function t(){this.registry=new Map}var e=t.prototype;return e.hasLayout=function(n){return this.registry.has(n)},e.getLayout=function(n){if(n===void 0&&(n="absolute"),!this.hasLayout(n))throw new Error("invalid layout property: "+n);return this.registry.get(n)},e.updateLayout=function(n,i){this.registry.set(n,i)},e.registerLayout=function(n,i){if(n==="")throw new TypeError("layout name cant't be empty");if(t.reservedLayout.includes(n))throw new Error("layout name '"+n+"' is a system reserved layout name, please use another name");if(this.hasLayout(n))throw new Error("layout '"+n+"' already exist.");this.registry.set(n,i)},e.deleteLayout=function(n){this.registry.delete(n)},$C(t,[{key:"size",get:function(){return this.registry.size}}]),t}();HC.reservedLayout=[];var vQ=null,gQ=xt(87082),G1=null,mQ=0,$1=new WeakMap,yQ=null,bQ=null,Au,Zi;function xQ(t,e){return Au=new G1(t,e)}function _Q(t){return Zi||(Zi=G1.copy(Au),Zi.oldValue=t,Zi)}function wQ(){Au=Zi=void 0}function VC(t){return t===Zi||t===Au}function OQ(t,e){return t===e?t:Zi&&VC(t)?Zi:null}function XC(t){t.nodes.forEach(function(e){var r=$1.get(e);!r||r.forEach(function(n){n.observer===t&&n.removeTransientObservers()})})}function SQ(t,e){for(var r=t;r;r=r.parentNode){var n=$1.get(r);if(n)for(var i=0;i<n.length;i++){var a=n[i],o=a.options;if(!(r!==t&&!o.subtree)){var s=e(o);s&&a.enqueue(s)}}}}var Fd=!1,zd=null;function EQ(t){zd.push(t),Fd||(Fd=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(Gd):Gd())}function Gd(){Fd=!1;var t=zd;zd=[],t.sort(function(r,n){return r.uid-n.uid});var e=!1;t.forEach(function(r){var n=r.takeRecords();XC(r),n.length&&(r.callback(n,r),e=!0)}),e&&Gd()}function W1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KC(n.key),n)}}function Y1(t,e,r){return e&&W1(t.prototype,e),r&&W1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$d(t,e)}function $d(t,e){return $d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$d(t,e)}function UC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KC(t){var e=UC(t,"string");return typeof e=="symbol"?e:String(e)}var H1=function(t){qC(e,t);function e(r,n,i,a){var o;return o=t.call(this,r)||this,o.currentTime=void 0,o.timelineTime=void 0,o.currentTime=i,o.timelineTime=a,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return e}(_u),ZC=0,QC=function(){function t(r,n){var i;this.effect=void 0,this.timeline=void 0,this.id=void 0,this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this.oldPlayState=void 0,this._holdTime=void 0,this.readyPromise=void 0,this.finishedPromise=void 0,this.resolveReadyPromise=void 0,this.rejectReadyPromise=void 0,this.resolveFinishedPromise=void 0,this.rejectFinishedPromise=void 0,this.onfinish=void 0,this.oncancel=void 0,this.onframe=void 0,this._currentTime=0,this._startTime=void 0,this._playbackRate=1,this._totalDuration=void 0,this._inEffect=void 0,this._inTimeline=!0,this.onremove=void 0,this.effect=r,r.animation=this,this.timeline=n,this.id=""+ZC++,this._inEffect=!!this.effect.update(0),this._totalDuration=Number((i=this.effect)===null||i===void 0?void 0:i.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}var e=t.prototype;return e.updatePromises=function(){var n=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==n&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):n==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==n&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():n==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise},e.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()},e.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()},e.finish=function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},e.cancel=function(){this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises())},e.reverse=function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()},e.updatePlaybackRate=function(n){this.playbackRate=n},e.targetAnimations=function(){var n,i=(n=this.effect)===null||n===void 0?void 0:n.target;return i.getAnimations()},e.markTarget=function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)},e.unmarkTarget=function(){var n=this.targetAnimations(),i=n.indexOf(this);i!==-1&&n.splice(i,1)},e.tick=function(n,i){!this._idle&&!this._paused&&(this._startTime===null?i&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),i&&(this.currentTimePending=!1,this.fireEvents(n))},e.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")},e.persist=function(){throw new Error(Ge)},e.addEventListener=function(n,i,a){throw new Error(Ge)},e.removeEventListener=function(n,i,a){throw new Error(Ge)},e.dispatchEvent=function(n){throw new Error(Ge)},e.commitStyles=function(){throw new Error(Ge)},e.ensureAlive=function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!(!((n=this.effect)===null||n===void 0)&&n.update(-1))}else{var i;this._inEffect=!!(!((i=this.effect)===null||i===void 0)&&i.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))},e.tickCurrentTime=function(n,i){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!i&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},e.fireEvents=function(n){var i=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var a=new H1(null,this,this.currentTime,n);setTimeout(function(){i.onfinish&&i.onfinish(a)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var o=new H1(null,this,this.currentTime,n);this.onframe(o)}this._finishedFlag=!1}},Y1(t,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(i,a){n.resolveReadyPromise=function(){i(n)},n.rejectReadyPromise=function(){a(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(i,a){n.resolveFinishedPromise=function(){i(n)},n.rejectFinishedPromise=function(){a(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var i;this._startTime=Number((i=this.timeline)===null||i===void 0?void 0:i.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var i=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),i!==null&&(this.currentTime=i),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}}]),t}(),JC=4,tN=.001,eN=1e-7,nN=10,Ec=11,ku=1/(Ec-1),rN=typeof Float32Array=="function",V1=function(e,r){return 1-3*r+3*e},X1=function(e,r){return 3*r-6*e},q1=function(e){return 3*e},Tu=function(e,r,n){return((V1(r,n)*e+X1(r,n))*e+q1(r))*e},U1=function(e,r,n){return 3*V1(r,n)*e*e+2*X1(r,n)*e+q1(r)},iN=function(e,r,n,i,a){var o,s,c=0;do s=r+(n-r)/2,o=Tu(s,i,a)-e,o>0?n=s:r=s;while(Math.abs(o)>eN&&++c<nN);return s},aN=function(e,r,n,i){for(var a=0;a<JC;++a){var o=U1(r,n,i);if(o===0)return r;var s=Tu(r,n,i)-e;r-=s/o}return r},Wd=function(e,r,n,i){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&n===i)return function(c){return c};for(var a=rN?new Float32Array(Ec):new Array(Ec),o=0;o<Ec;++o)a[o]=Tu(o*ku,e,n);var s=function(l){for(var u=0,f=1,h=Ec-1;f!==h&&a[f]<=l;++f)u+=ku;--f;var d=(l-a[f])/(a[f+1]-a[f]),p=u+d*ku,v=U1(p,e,n);return v>=tN?aN(l,p,e,n):v===0?p:iN(l,u,u+ku,e,n)};return function(c){return c===0||c===1?c:Tu(s(c),r,i)}},oN=function(e){return e=e.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()}),e.charAt(0)==="-"?e.substring(1):e},Lu=function(e){return Math.pow(e,2)},Cu=function(e){return Math.pow(e,3)},Nu=function(e){return Math.pow(e,4)},Ru=function(e){return Math.pow(e,5)},Iu=function(e){return Math.pow(e,6)},Du=function(e){return 1-Math.cos(e*Math.PI/2)},ju=function(e){return 1-Math.sqrt(1-e*e)},Bu=function(e){return e*e*(3*e-2)},Fu=function(e){for(var r,n=4;e<((r=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((r*3-2)/22-e,2)},zu=function(e,r){r===void 0&&(r=[]);var n=r,i=n[0],a=i===void 0?1:i,o=n[1],s=o===void 0?.5:o,c=et(Number(a),1,10),l=et(Number(s),.1,2);return e===0||e===1?e:-c*Math.pow(2,10*(e-1))*Math.sin((e-1-l/(Math.PI*2)*Math.asin(1/c))*(Math.PI*2)/l)},Mc=function(e,r,n){r===void 0&&(r=[]);var i=r,a=i[0],o=a===void 0?1:a,s=i[1],c=s===void 0?100:s,l=i[2],u=l===void 0?10:l,f=i[3],h=f===void 0?0:f;o=et(o,.1,1e3),c=et(c,.1,1e3),u=et(u,.1,1e3),h=et(h,.1,1e3);var d=Math.sqrt(c/o),p=u/(2*Math.sqrt(c*o)),v=p<1?d*Math.sqrt(1-p*p):0,g=1,m=p<1?(p*d+-h)/v:-h+d,b=n?n*e/1e3:e;return p<1?b=Math.exp(-b*p*d)*(g*Math.cos(v*b)+m*Math.sin(v*b)):b=(g+m*b)*Math.exp(-b*d),e===0||e===1?e:1-b},Yd=function(e,r){r===void 0&&(r=[]);var n=r,i=n[0],a=i===void 0?10:i,o=n[1],s=o=="start"?Math.ceil:Math.floor;return s(et(e,0,1)*a)/a},K1=function(e,r){r===void 0&&(r=[]);var n=r,i=n[0],a=n[1],o=n[2],s=n[3];return Wd(i,a,o,s)(e)},Gu=Wd(.42,0,1,1),zr=function(e){return function(r,n,i){return n===void 0&&(n=[]),1-e(1-r,n,i)}},Gr=function(e){return function(r,n,i){return n===void 0&&(n=[]),r<.5?e(r*2,n,i)/2:1-e(r*-2+2,n,i)/2}},$r=function(e){return function(r,n,i){return n===void 0&&(n=[]),r<.5?(1-e(1-r*2,n,i))/2:(e(r*2-1,n,i)+1)/2}},Z1={steps:Yd,"step-start":function(e){return Yd(e,[1,"start"])},"step-end":function(e){return Yd(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":K1,ease:function(e){return K1(e,[.25,.1,.25,1])},in:Gu,out:zr(Gu),"in-out":Gr(Gu),"out-in":$r(Gu),"in-quad":Lu,"out-quad":zr(Lu),"in-out-quad":Gr(Lu),"out-in-quad":$r(Lu),"in-cubic":Cu,"out-cubic":zr(Cu),"in-out-cubic":Gr(Cu),"out-in-cubic":$r(Cu),"in-quart":Nu,"out-quart":zr(Nu),"in-out-quart":Gr(Nu),"out-in-quart":$r(Nu),"in-quint":Ru,"out-quint":zr(Ru),"in-out-quint":Gr(Ru),"out-in-quint":$r(Ru),"in-expo":Iu,"out-expo":zr(Iu),"in-out-expo":Gr(Iu),"out-in-expo":$r(Iu),"in-sine":Du,"out-sine":zr(Du),"in-out-sine":Gr(Du),"out-in-sine":$r(Du),"in-circ":ju,"out-circ":zr(ju),"in-out-circ":Gr(ju),"out-in-circ":$r(ju),"in-back":Bu,"out-back":zr(Bu),"in-out-back":Gr(Bu),"out-in-back":$r(Bu),"in-bounce":Fu,"out-bounce":zr(Fu),"in-out-bounce":Gr(Fu),"out-in-bounce":$r(Fu),"in-elastic":zu,"out-elastic":zr(zu),"in-out-elastic":Gr(zu),"out-in-elastic":$r(zu),spring:Mc,"spring-in":Mc,"spring-out":zr(Mc),"spring-in-out":Gr(Mc),"spring-out-in":$r(Mc)},sN=function(e){return oN(e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},cN=function(e){return Z1[sN(e)]||Z1.linear},lN=function(e){return e},uN=1,fN=.5,Q1=0;function J1(t,e){return function(r){if(r>=1)return 1;var n=1/t;return r+=e*n,r-r%n}}var $u="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",hN=new RegExp("cubic-bezier\\("+$u+","+$u+","+$u+","+$u+"\\)"),dN=/steps\(\s*(\d+)\s*\)/,pN=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Hd(t){var e=hN.exec(t);if(e)return Wd.apply(void 0,e.slice(1).map(Number));var r=dN.exec(t);if(r)return J1(Number(r[1]),Q1);var n=pN.exec(t);return n?J1(Number(n[1]),{start:uN,middle:fN,end:Q1}[n[2]]):cN(t)}function vN(t){return Math.abs(gN(t)/(t.playbackRate||1))}function gN(t){var e;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((e=t.iterations)!==null&&e!==void 0?e:1)}var tb=0,Vd=1,Wu=2,eb=3;function mN(t,e,r){if(e===null)return tb;var n=r.endTime;return e<Math.min(r.delay,n)?Vd:e>=Math.min(r.delay+t+r.endDelay,n)?Wu:eb}function yN(t,e,r,n,i){switch(n){case Vd:return e==="backwards"||e==="both"?0:null;case eb:return r-i;case Wu:return e==="forwards"||e==="both"?t:null;case tb:return null}}function bN(t,e,r,n,i){var a=i;return t===0?e!==Vd&&(a+=r):a+=n/t,a}function xN(t,e,r,n,i,a){var o=t===1/0?e%1:t%1;return o===0&&r===Wu&&n!==0&&(i!==0||a===0)&&(o=1),o}function _N(t,e,r,n){return t===Wu&&e===1/0?1/0:r===1?Math.floor(n)-1:Math.floor(n)}function wN(t,e,r){var n=t;if(t!=="normal"&&t!=="reverse"){var i=e;t==="alternate-reverse"&&(i+=1),n="normal",i!==1/0&&i%2!==0&&(n="reverse")}return n==="normal"?r:1-r}function ON(t,e,r){var n=mN(t,e,r),i=yN(t,r.fill,e,n,r.delay);if(i===null)return null;var a=r.duration==="auto"?0:r.duration,o=bN(a,n,r.iterations,i,r.iterationStart),s=xN(o,r.iterationStart,n,r.iterations,i,a),c=_N(n,r.iterations,s,o),l=wN(r.direction,c,s);return r.currentIteration=c,r.progress=l,r.easingFunction(l)}function SN(t,e,r){var n=EN(t,e),i=MN(n,r);return function(a,o){if(o!==null)i.filter(function(c){return o>=c.applyFrom&&o<c.applyTo}).forEach(function(c){var l=o-c.startOffset,u=c.endOffset-c.startOffset,f=u===0?0:c.easingFunction(l/u);a.style[c.property]=c.interpolation(f)});else for(var s in n)nb(s)&&(a.style[s]=null)}}function nb(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function EN(t,e){for(var r={},n=0;n<t.length;n++)for(var i in t[n])if(nb(i)){var a={offset:t[n].offset,computedOffset:t[n].computedOffset,easing:t[n].easing,easingFunction:Hd(t[n].easing)||e.easingFunction,value:t[n][i]};r[i]=r[i]||[],r[i].push(a)}return r}function MN(t,e){var r=[];for(var n in t)for(var i=t[n],a=0;a<i.length-1;a++){var o=a,s=a+1,c=i[o].computedOffset,l=i[s].computedOffset,u=c,f=l;a===0&&(u=-1/0,l===0&&(s=o)),a===i.length-2&&(f=1/0,c===1&&(o=s)),r.push({applyFrom:u,applyTo:f,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:n,interpolation:PN(n,i[o].value,i[s].value,e)})}return r.sort(function(h,d){return h.startOffset-d.startOffset}),r}var rb=function(e,r,n){return function(i){var a=ib(e,r,i);return!nt.enableCSSParsing&&ct(a)?a:n(a)}};function PN(t,e,r,n){var i=Ea[t];if(i&&i.syntax&&i.int){var a=nt.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o,s;if(nt.enableCSSParsing){var c=nt.styleValueRegistry.parseProperty(t,e,n),l=nt.styleValueRegistry.parseProperty(t,r,n);o=nt.styleValueRegistry.computeProperty(t,c,n),s=nt.styleValueRegistry.computeProperty(t,l,n)}else{var u=a.parserWithCSSDisabled;o=u?u(e,n):e,s=u?u(r,n):r}var f=a.mixer(o,s,n);if(f){var h=rb.apply(void 0,f);return function(d){return d===0?e:d===1?r:h(d)}}}}return rb(!1,!0,function(d){return d?r:e})}function ib(t,e,r){if(typeof t=="number"&&typeof e=="number")return t*(1-r)+e*r;if(typeof t=="boolean"&&typeof e=="boolean"||typeof t=="string"&&typeof e=="string")return r<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length){for(var n=[],i=0;i<t.length;i++)n.push(ib(t[i],e[i],r));return n}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var AN=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=lN,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.playbackRate=void 0,this.effect=void 0,this.composite=void 0,this.activeDuration=void 0,this.endTime=void 0,this.currentIteration=null,this.progress=null}return Y1(t,[{key:"easing",get:function(){return this._easing},set:function(r){this.easingFunction=Hd(r),this._easing=r}}]),t}();function kN(t){var e=[];for(var r in t)if(!(r in["easing","offset","composite"])){var n=t[r];Array.isArray(n)||(n=[n]);for(var i=n.length,a=0;a<i;a++){if(!e[a]){var o={};"offset"in t&&(o.offset=Number(t.offset)),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),e[a]=o}n[a]!==void 0&&n[a]!==null&&(e[a][r]=n[a])}}return e.sort(function(s,c){return(s.computedOffset||0)-(c.computedOffset||0)}),e}function ab(t,e){if(t===null)return[];Array.isArray(t)||(t=kN(t));for(var r=t.map(function(c){var l={};e!=null&&e.composite&&(l.composite="auto");for(var u in c){var f=c[u];if(u==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");l.computedOffset=f}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error(f+" compositing is not supported");l[u]=f}return l.offset===void 0&&(l.offset=null),l.easing===void 0&&(l.easing=(e==null?void 0:e.easing)||"linear"),l.composite===void 0&&(l.composite="auto"),l}),n=!0,i=-1/0,a=0;a<r.length;a++){var o=r[a].offset;if(ot(o))n=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}r=r.filter(function(c){return Number(c.offset)>=0&&Number(c.offset)<=1});function s(){var c,l=r.length;if(r[l-1].computedOffset=Number((c=r[l-1].offset)!==null&&c!==void 0?c:1),l>1){var u;r[0].computedOffset=Number((u=r[0].offset)!==null&&u!==void 0?u:0)}for(var f=0,h=Number(r[0].computedOffset),d=1;d<l;d++){var p=r[d].computedOffset;if(!ot(p)&&!ot(h)){for(var v=1;v<d-f;v++)r[f+v].computedOffset=h+(Number(p)-h)*v/(d-f);f=d,h=Number(p)}}}return n||s(),r}var TN="backwards|forwards|both|none".split("|"),LN="reverse|alternate|alternate-reverse".split("|");function CN(t,e){var r=new AN;return e&&(r.fill="both",r.duration="auto"),typeof t=="number"&&!isNaN(t)?r.duration=t:t!==void 0&&Object.keys(t).forEach(function(n){if(t[n]!==void 0&&t[n]!==null&&t[n]!=="auto"){if((typeof r[n]=="number"||n==="duration")&&(typeof t[n]!="number"||isNaN(t[n]))||n==="fill"&&TN.indexOf(t[n])===-1||n==="direction"&&LN.indexOf(t[n])===-1)return;r[n]=t[n]}}),r}function NN(t,e){var r;return t=RN((r=t)!==null&&r!==void 0?r:{duration:"auto"}),CN(t,e)}function RN(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var IN=function(){function t(r,n,i){var a=this;this.composite="replace",this.iterationComposite="replace",this.target=void 0,this.animation=void 0,this.timing=void 0,this.computedTiming=void 0,this.normalizedKeyframes=void 0,this.timeFraction=void 0,this.interpolations=void 0,this.target=r,this.timing=NN(i,!1),this.timing.effect=this,this.timing.activeDuration=vN(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=ab(n,this.timing),this.interpolations=SN(this.normalizedKeyframes,this.timing,this.target),this.computedTiming=new Proxy(this.timing,{get:function(s,c){return c==="duration"?s.duration==="auto"?0:s.duration:c==="fill"?s.fill==="auto"?"none":s.fill:c==="localTime"?a.animation&&a.animation.currentTime||null:c==="currentIteration"?!a.animation||a.animation.playState!=="running"?null:s.currentIteration||0:c==="progress"?!a.animation||a.animation.playState!=="running"?null:s.progress||0:s[c]},set:function(){return!0}})}var e=t.prototype;return e.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},e.update=function(n){return n===null?!1:(this.timeFraction=ON(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)},e.getKeyframes=function(){return this.normalizedKeyframes},e.setKeyframes=function(n){this.normalizedKeyframes=ab(n)},e.getComputedTiming=function(){return this.computedTiming},e.getTiming=function(){return this.timing},e.updateTiming=function(n){var i=this;Object.keys(n||{}).forEach(function(a){i.timing[a]=n[a]})},t}();function ob(t,e){return Number(t.id)-Number(e.id)}var DN=function(){function t(r){var n=this;this.document=void 0,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.frameId=void 0,this.webAnimationsNextTick=function(i){n.currentTime=i,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(i){var a=n.rafCallbacks;n.rafCallbacks=[],i<Number(n.currentTime)&&(i=Number(n.currentTime)),n.animations.sort(ob),n.animations=n.tick(i,!0,n.animations)[0],a.forEach(function(o){o[1](i)}),n.applyPendingEffects()},this.document=r}var e=t.prototype;return e.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},e.isTicking=function(){return this.inTick},e.play=function(n,i,a){var o=new IN(n,i,a),s=new QC(o,this);return this.animations.push(s),this.restartWebAnimationsNextTick(),s.updatePromises(),s.play(),s.updatePromises(),s},e.applyDirtiedAnimation=function(n){var i=this;if(!this.inTick){n.markTarget();var a=n.targetAnimations();a.sort(ob);var o=this.tick(Number(this.currentTime),!1,a.slice())[1];o.forEach(function(s){var c=i.animations.indexOf(s);c!==-1&&i.animations.splice(c,1)}),this.applyPendingEffects()}},e.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},e.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},e.applyPendingEffects=function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]},e.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})},e.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})},e.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},e.rAF=function(n){var i=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([i,n]),i},e.requestAnimationFrame=function(n){var i=this;return this.rAF(function(a){i.updateAnimationsPromises(),n(a),i.updateAnimationsPromises()})},e.tick=function(n,i,a){var o=this,s,c;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],u=[],f=[],h=[];return a.forEach(function(d){d.tick(n,i),d._inEffect?(u.push(d.effect),d.markTarget()):(l.push(d.effect),d.unmarkTarget()),d._needsTick&&(o.ticking=!0);var p=d._inEffect||d._needsTick;d._inTimeline=p,p?f.push(d):h.push(d)}),(s=this.pendingEffects).push.apply(s,l),(c=this.pendingEffects).push.apply(c,u),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[f,h]},t}();nt.EasingFunction=Hd,nt.AnimationTimeline=DN;function jN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xd(t,e)}function Xd(t,e){return Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xd(t,e)}function BN(t,e){var r=e.r;t.arc(r,r,r,0,Math.PI*2,!1)}function FN(t,e){var r=e.rx,n=e.ry,i=r,a=n;if(t.ellipse)t.ellipse(i,a,i,a,0,0,Math.PI*2,!1);else{var o=i>a?i:a,s=i>a?1:i/a,c=i>a?a/i:1;t.save(),t.scale(s,c),t.arc(0,0,o,0,Math.PI*2)}}function zN(t,e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2,o=e.defX,s=o===void 0?0:o,c=e.defY,l=c===void 0?0:c,u=e.markerStart,f=e.markerEnd,h=e.markerStartOffset,d=e.markerEndOffset,p=0,v=0,g=0,m=0,b=0,_,O;u&&Ae(u)&&h&&(_=i-r,O=a-n,b=Math.atan2(O,_),p=Math.cos(b)*(h||0),v=Math.sin(b)*(h||0)),f&&Ae(f)&&d&&(_=r-i,O=n-a,b=Math.atan2(O,_),g=Math.cos(b)*(d||0),m=Math.sin(b)*(d||0)),t.moveTo(r-s+p,n-l+v),t.lineTo(i-s+g,a-l+m)}function GN(t,e){var r=e.defX,n=r===void 0?0:r,i=e.defY,a=i===void 0?0:i,o=e.markerStart,s=e.markerEnd,c=e.markerStartOffset,l=e.markerEndOffset,u=e.path,f=u.absolutePath,h=u.segments,d=0,p=0,v=0,g=0,m=0,b,_;if(o&&Ae(o)&&c){var O=o.parentNode.getStartTangent(),E=O[0],P=O[1];b=E[0]-P[0],_=E[1]-P[1],m=Math.atan2(_,b),d=Math.cos(m)*(c||0),p=Math.sin(m)*(c||0)}if(s&&Ae(s)&&l){var A=s.parentNode.getEndTangent(),T=A[0],C=A[1];b=T[0]-C[0],_=T[1]-C[1],m=Math.atan2(_,b),v=Math.cos(m)*(l||0),g=Math.sin(m)*(l||0)}for(var L=0;L<f.length;L++){var N=f[L],x=N[0],y=f[L+1],w=L===0&&(d!==0||p!==0),M=(L===f.length-1||y&&(y[0]==="M"||y[0]==="Z"))&&v!==0&&g!==0;switch(x){case"M":w?(t.moveTo(N[1]-n+d,N[2]-a+p),t.lineTo(N[1]-n,N[2]-a)):t.moveTo(N[1]-n,N[2]-a);break;case"L":M?t.lineTo(N[1]-n+v,N[2]-a+g):t.lineTo(N[1]-n,N[2]-a);break;case"Q":t.quadraticCurveTo(N[1]-n,N[2]-a,N[3]-n,N[4]-a),M&&t.lineTo(N[3]-n+v,N[4]-a+g);break;case"C":t.bezierCurveTo(N[1]-n,N[2]-a,N[3]-n,N[4]-a,N[5]-n,N[6]-a),M&&t.lineTo(N[5]-n+v,N[6]-a+g);break;case"A":{var S=h[L].arcParams,k=S.cx,I=S.cy,j=S.rx,F=S.ry,X=S.startAngle,K=S.endAngle,Q=S.xRotation,dt=S.sweepFlag;if(t.ellipse)t.ellipse(k-n,I-a,j,F,Q,X,K,!!(1-dt));else{var Ct=j>F?j:F,Nt=j>F?1:j/F,ee=j>F?F/j:1;t.translate(k-n,I-a),t.rotate(Q),t.scale(Nt,ee),t.arc(0,0,Ct,X,K,!!(1-dt)),t.scale(1/Nt,1/ee),t.rotate(-Q),t.translate(-(k-n),-(I-a))}M&&t.lineTo(N[6]-n+v,N[7]-a+g);break}case"Z":t.closePath();break}}}function $N(t,e){var r=e.defX,n=r===void 0?0:r,i=e.defY,a=i===void 0?0:i,o=e.markerStart,s=e.markerEnd,c=e.markerStartOffset,l=e.markerEndOffset,u=e.points.points,f=u.length,h=u[0][0]-n,d=u[0][1]-a,p=u[f-1][0]-n,v=u[f-1][1]-a,g=0,m=0,b=0,_=0,O=0,E,P;o&&Ae(o)&&c&&(E=u[1][0]-u[0][0],P=u[1][1]-u[0][1],O=Math.atan2(P,E),g=Math.cos(O)*(c||0),m=Math.sin(O)*(c||0)),s&&Ae(s)&&l&&(E=u[f-1][0]-u[0][0],P=u[f-1][1]-u[0][1],O=Math.atan2(P,E),b=Math.cos(O)*(l||0),_=Math.sin(O)*(l||0)),t.moveTo(h+(g||b),d+(m||_));for(var A=1;A<f-1;A++){var T=u[A];t.lineTo(T[0]-n,T[1]-a)}t.lineTo(p,v)}function WN(t,e){var r=e.defX,n=r===void 0?0:r,i=e.defY,a=i===void 0?0:i,o=e.markerStart,s=e.markerEnd,c=e.markerStartOffset,l=e.markerEndOffset,u=e.points.points,f=u.length,h=u[0][0]-n,d=u[0][1]-a,p=u[f-1][0]-n,v=u[f-1][1]-a,g=0,m=0,b=0,_=0,O=0,E,P;o&&Ae(o)&&c&&(E=u[1][0]-u[0][0],P=u[1][1]-u[0][1],O=Math.atan2(P,E),g=Math.cos(O)*(c||0),m=Math.sin(O)*(c||0)),s&&Ae(s)&&l&&(E=u[f-2][0]-u[f-1][0],P=u[f-2][1]-u[f-1][1],O=Math.atan2(P,E),b=Math.cos(O)*(l||0),_=Math.sin(O)*(l||0)),t.moveTo(h+g,d+m);for(var A=1;A<f-1;A++){var T=u[A];t.lineTo(T[0]-n,T[1]-a)}t.lineTo(p+b,v+_)}function YN(t,e){var r=e.radius,n=e.width,i=e.height,a=n,o=i,s=r&&r.some(function(g){return g!==0});if(!s)t.rect(0,0,a,o);else{var c=n>0?1:-1,l=i>0?1:-1,u=c+l===0,f=r.map(function(g){return et(g,0,Math.min(Math.abs(a)/2,Math.abs(o)/2))}),h=f[0],d=f[1],p=f[2],v=f[3];t.moveTo(c*h,0),t.lineTo(a-c*d,0),d!==0&&t.arc(a-c*d,l*d,d,-l*Math.PI/2,c>0?0:Math.PI,u),t.lineTo(a,o-l*p),p!==0&&t.arc(a-c*p,o-l*p,p,c>0?0:Math.PI,l>0?Math.PI/2:1.5*Math.PI,u),t.lineTo(c*v,o),v!==0&&t.arc(c*v,o-l*v,v,l>0?Math.PI/2:-Math.PI/2,c>0?Math.PI:0,u),t.lineTo(0,l*h),h!==0&&t.arc(c*h,l*h,h,c>0?Math.PI:0,l>0?Math.PI*1.5:Math.PI/2,u)}}var HN=function(t){jN(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="canvas-path-generator",n}var r=e.prototype;return r.init=function(){var i,a=(i={},i[rt.CIRCLE]=BN,i[rt.ELLIPSE]=FN,i[rt.RECT]=YN,i[rt.LINE]=zN,i[rt.POLYLINE]=WN,i[rt.POLYGON]=$N,i[rt.PATH]=GN,i[rt.TEXT]=void 0,i[rt.GROUP]=void 0,i[rt.IMAGE]=void 0,i[rt.HTML]=void 0,i[rt.MESH]=void 0,i);this.context.pathGeneratorFactory=a},r.destroy=function(){delete this.context.pathGeneratorFactory},e}(Ma);function qd(){qd=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function sb(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function VN(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){sb(a,n,i,o,s,"next",c)}function s(c){sb(a,n,i,o,s,"throw",c)}o(void 0)})}}function XN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ud(t,e)}function Ud(t,e){return Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ud(t,e)}function qN(t,e){if(!!t){if(typeof t=="string")return cb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(t,e)}}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UN(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=qN(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var KN=pe(),ZN=pe(),QN=pe(),JN=We(),lb=function(){function t(){var r=this;this.canvasConfig=void 0,this.pathGeneratorFactory=void 0,this.pointInPathPickerFactory=void 0,this.isHit=function(n,i,a,o,s){var c=r.pointInPathPickerFactory[n.nodeName];if(c){var l=mi(JN,a),u=Rn(ZN,Jr(QN,i[0],i[1],0),l),f=n.getGeometryBounds(),h=f.halfExtents,d=n.parsedStyle.anchor;if(u[0]+=(d&&d[0]||0)*h[0]*2,u[1]+=(d&&d[1]||0)*h[1]*2,c(n,new Fn(u[0],u[1]),o,r.isPointInPath,s))return!0}return!1},this.isPointInPath=function(n,i,a){var o=n.offscreenCanvas.getOrCreateContext(r.canvasConfig.offscreenCanvas),s=r.pathGeneratorFactory[i.nodeName];return s&&(o.beginPath(),s(o,i.parsedStyle),o.closePath()),o.isPointInPath(a.x,a.y)}}var e=t.prototype;return e.apply=function(n,i){var a,o=this,s=n.config,c=n.renderingService,l=n.renderingContext,u=n.pathGeneratorFactory,f=n.pointInPathPickerFactory;this.canvasConfig=s,this.pathGeneratorFactory=u,this.pointInPathPickerFactory=f;var h=(a=l.root)===null||a===void 0?void 0:a.ownerDocument;c.hooks.pick.tapPromise(t.tag,function(){var d=VN(qd().mark(function p(v){return qd().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",o.pick(h,v,i));case 1:case"end":return m.stop()}},p)}));return function(p){return d.apply(this,arguments)}}()),c.hooks.pickSync.tap(t.tag,function(d){return o.pick(h,d,i)})},e.pick=function(n,i,a){for(var o=i.topmost,s=i.position,c=s.x,l=s.y,u=Jr(KN,c,l,0),f=n.elementsFromBBox(u[0],u[1],u[0],u[1]),h=[],d=UN(f),p;!(p=d()).done;){var v=p.value,g=v.getWorldTransform(),m=this.isHit(v,u,g,!1,a);if(m){var b=Ty(v);if(b){var _=b.parsedStyle.clipPath,O=this.isHit(_,u,_.getWorldTransform(),!0,a);if(O){if(o)return i.picked=[v],i;h.push(v)}}else{if(o)return i.picked=[v],i;h.push(v)}}}return i.picked=h,i},t}();lb.tag="CanvasPicker";function Wr(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)}function Yu(t,e){return Math.abs(t-e)<.001}function Kd(t,e){var r=Math.min.apply(Math,t),n=Math.min.apply(Math,e),i=Math.max.apply(Math,t),a=Math.max.apply(Math,e);return{x:r,y:n,width:i-r,height:a-n}}function ub(t){return(t+Math.PI*2)%(Math.PI*2)}var Pa={box:function(e,r,n,i){return Kd([e,n],[r,i])},length:function(e,r,n,i){return Wr(e,r,n,i)},pointAt:function(e,r,n,i,a){return{x:(1-a)*e+a*n,y:(1-a)*r+a*i}},pointDistance:function(e,r,n,i,a,o){var s=(n-e)*(a-e)+(i-r)*(o-r);if(s<0)return Wr(e,r,a,o);var c=(n-e)*(n-e)+(i-r)*(i-r);return s>c?Wr(n,i,a,o):this.pointToLine(e,r,n,i,a,o)},pointToLine:function(e,r,n,i,a,o){var s=[n-e,i-r];if(ay(s,[0,0]))return Math.sqrt((a-e)*(a-e)+(o-r)*(o-r));var c=[-s[1],s[0]];fu(c,c);var l=[a-e,o-r];return Math.abs(iy(l,c))},tangentAngle:function(e,r,n,i){return Math.atan2(i-r,n-e)}},t4=1e-4;function fb(t,e,r,n,i,a){var o=-1,s=1/0,c=[r,n],l=20;a&&a>200&&(l=a/10);for(var u=1/l,f=u/10,h=0;h<=l;h++){var d=h*u,p=[i.apply(void 0,t.concat([d])),i.apply(void 0,e.concat([d]))],v=Wr(c[0],c[1],p[0],p[1]);v<s&&(o=d,s=v)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(var m=0;m<32&&!(f<t4);m++){var b=o-f,_=o+f,O=[i.apply(void 0,t.concat([b])),i.apply(void 0,e.concat([b]))],E=Wr(c[0],c[1],O[0],O[1]);if(b>=0&&E<s)o=b,s=E;else{var P=[i.apply(void 0,t.concat([_])),i.apply(void 0,e.concat([_]))],A=Wr(c[0],c[1],P[0],P[1]);_<=1&&A<s?(o=_,s=A):f*=.5}}return{x:i.apply(void 0,t.concat([o])),y:i.apply(void 0,e.concat([o]))}}function e4(t,e){for(var r=0,n=t.length,i=0;i<n;i++){var a=t[i],o=e[i],s=t[(i+1)%n],c=e[(i+1)%n];r+=Wr(a,o,s,c)}return r/2}function Aa(t,e,r,n){var i=1-n;return i*i*t+2*n*i*e+n*n*r}function hb(t,e,r){var n=t+r-2*e;if(Yu(n,0))return[.5];var i=(t-e)/n;return i<=1&&i>=0?[i]:[]}function db(t,e,r,n){return 2*(1-n)*(e-t)+2*n*(r-e)}function pb(t,e,r,n,i,a,o){var s=Aa(t,r,i,o),c=Aa(e,n,a,o),l=Pa.pointAt(t,e,r,n,o),u=Pa.pointAt(r,n,i,a,o);return[[t,e,l.x,l.y,s,c],[s,c,u.x,u.y,i,a]]}function Zd(t,e,r,n,i,a,o){if(o===0)return(Wr(t,e,r,n)+Wr(r,n,i,a)+Wr(t,e,i,a))/2;var s=pb(t,e,r,n,i,a,.5),c=s[0],l=s[1];return c.push(o-1),l.push(o-1),Zd.apply(void 0,c)+Zd.apply(void 0,l)}var n4={box:function(e,r,n,i,a,o){var s=hb(e,n,a)[0],c=hb(r,i,o)[0],l=[e,a],u=[r,o];return s!==void 0&&l.push(Aa(e,n,a,s)),c!==void 0&&u.push(Aa(r,i,o,c)),Kd(l,u)},length:function(e,r,n,i,a,o){return Zd(e,r,n,i,a,o,3)},nearestPoint:function(e,r,n,i,a,o,s,c){return fb([e,n,a],[r,i,o],s,c,Aa)},pointDistance:function(e,r,n,i,a,o,s,c){var l=this.nearestPoint(e,r,n,i,a,o,s,c);return Wr(l.x,l.y,s,c)},interpolationAt:Aa,pointAt:function(e,r,n,i,a,o,s){return{x:Aa(e,n,a,s),y:Aa(r,i,o,s)}},divide:function(e,r,n,i,a,o,s){return pb(e,r,n,i,a,o,s)},tangentAngle:function(e,r,n,i,a,o,s){var c=db(e,n,a,s),l=db(r,i,o,s),u=Math.atan2(l,c);return ub(u)}};function ka(t,e,r,n,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*r*i*i*a+n*i*i*i}function vb(t,e,r,n,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(r-e)+i*i*(n-r))}function Qd(t,e,r,n){var i=-3*t+9*e-9*r+3*n,a=6*t-12*e+6*r,o=3*e-3*t,s=[],c,l,u;if(Yu(i,0))Yu(a,0)||(c=-o/a,c>=0&&c<=1&&s.push(c));else{var f=a*a-4*i*o;Yu(f,0)?s.push(-a/(2*i)):f>0&&(u=Math.sqrt(f),c=(-a+u)/(2*i),l=(-a-u)/(2*i),c>=0&&c<=1&&s.push(c),l>=0&&l<=1&&s.push(l))}return s}function gb(t,e,r,n,i,a,o,s,c){var l=ka(t,r,i,o,c),u=ka(e,n,a,s,c),f=Pa.pointAt(t,e,r,n,c),h=Pa.pointAt(r,n,i,a,c),d=Pa.pointAt(i,a,o,s,c),p=Pa.pointAt(f.x,f.y,h.x,h.y,c),v=Pa.pointAt(h.x,h.y,d.x,d.y,c);return[[t,e,f.x,f.y,p.x,p.y,l,u],[l,u,v.x,v.y,d.x,d.y,o,s]]}function Jd(t,e,r,n,i,a,o,s,c){if(c===0)return e4([t,r,i,o],[e,n,a,s]);var l=gb(t,e,r,n,i,a,o,s,.5),u=[].concat(l[0],[c-1]),f=[].concat(l[1],[c-1]);return Jd.apply(void 0,u)+Jd.apply(void 0,f)}var mb={extrema:Qd,box:function(e,r,n,i,a,o,s,c){for(var l=[e,s],u=[r,c],f=Qd(e,n,a,s),h=Qd(r,i,o,c),d=0;d<f.length;d++)l.push(ka(e,n,a,s,f[d]));for(var p=0;p<h.length;p++)u.push(ka(r,i,o,c,h[p]));return Kd(l,u)},length:function(e,r,n,i,a,o,s,c){return Jd(e,r,n,i,a,o,s,c,3)},nearestPoint:function(e,r,n,i,a,o,s,c,l,u,f){return fb([e,n,a,s],[r,i,o,c],l,u,ka,f)},pointDistance:function(e,r,n,i,a,o,s,c,l,u,f){var h=this.nearestPoint(e,r,n,i,a,o,s,c,l,u,f);return Wr(h.x,h.y,l,u)},interpolationAt:ka,pointAt:function(e,r,n,i,a,o,s,c,l){return{x:ka(e,n,a,s,l),y:ka(r,i,o,c,l)}},divide:function(e,r,n,i,a,o,s,c,l){return gb(e,r,n,i,a,o,s,c,l)},tangentAngle:function(e,r,n,i,a,o,s,c,l){var u=vb(e,n,a,s,l),f=vb(r,i,o,c,l);return ub(Math.atan2(f,u))}};function yb(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)}function bo(t,e,r,n,i,a){return i>=t&&i<=t+r&&a>=e&&a<=e+n}function r4(t,e,r,n,i,a,o){var s=i/2;return bo(t-s,e-s,r,i,a,o)||bo(t+r-s,e-s,i,n,a,o)||bo(t+s,e+n-s,r,i,a,o)||bo(t-s,e+s,i,n,a,o)}function Hu(t,e,r,n,i,a,o,s){var c=(Math.atan2(s-e,o-t)+Math.PI*2)%(Math.PI*2),l={x:t+r*Math.cos(c),y:e+r*Math.sin(c)};return yb(l.x,l.y,o,s)<=a/2}function Ta(t,e,r,n,i,a,o){var s=Math.min(t,r),c=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n),f=i/2;return a>=s-f&&a<=c+f&&o>=l-f&&o<=u+f?Pa.pointToLine(t,e,r,n,a,o)<=i/2:!1}function bb(t,e,r,n,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],c=t[o][1],l=t[o+1][0],u=t[o+1][1];if(Ta(s,c,l,u,e,r,n))return!0}if(i){var f=t[0],h=t[a-1];if(Ta(f[0],f[1],h[0],h[1],e,r,n))return!0}return!1}var i4=1e-6;function tp(t){return Math.abs(t)<i4?0:t<0?-1:1}function a4(t,e,r){return(r[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}function xb(t,e,r){var n=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(a4(o,s,[e,r]))return!0;tp(o[1]-r)>0!=tp(s[1]-r)>0&&tp(e-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function _b(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];if(n=xb(a,e,r),n)break}return n}function o4(t,e,r){var n=t.parsedStyle,i=n.r,a=n.fill,o=n.stroke,s=n.lineWidth,c=n.increasedLineWidthForHitTesting,l=n.pointerEvents,u=((s||0)+(c||0))/2,f=yb(i,i,e.x,e.y),h=po(l,a,o),d=h[0],p=h[1];return d&&p||r?f<=i+u:d?f<=i:p?f>=i-u&&f<=i+u:!1}function Vu(t,e,r,n){return t/(r*r)+e/(n*n)}function s4(t,e,r){var n=t.parsedStyle,i=n.rx,a=n.ry,o=n.fill,s=n.stroke,c=n.lineWidth,l=n.increasedLineWidthForHitTesting,u=n.pointerEvents,f=e.x,h=e.y,d=po(u,o,s),p=d[0],v=d[1],g=((c||0)+(l||0))/2,m=(f-i)*(f-i),b=(h-a)*(h-a);return p&&v||r?Vu(m,b,i+g,a+g)<=1:p?Vu(m,b,i,a)<=1:v?Vu(m,b,i-g,a-g)>=1&&Vu(m,b,i+g,a+g)<=1:!1}function c4(t,e,r){var n=t.parsedStyle,i=n.x1,a=n.y1,o=n.x2,s=n.y2,c=n.lineWidth,l=n.increasedLineWidthForHitTesting,u=n.defX,f=u===void 0?0:u,h=n.defY,d=h===void 0?0:h,p=n.pointerEvents,v=n.fill,g=n.stroke,m=po(p,v,g),b=m[1];return!b&&!r||!c?!1:Ta(i,a,o,s,(c||0)+(l||0),e.x+f,e.y+d)}function l4(t,e,r,n,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var c=t[s],l=c.currentPoint,u=c.params,f=c.prePoint,h=c.box;if(!(h&&!bo(h.x-o,h.y-o,h.width+e,h.height+e,r,n)))switch(c.command){case"L":case"Z":if(a=Ta(f[0],f[1],l[0],l[1],e,r,n),a)return!0;break;case"Q":var d=n4.pointDistance(f[0],f[1],u[1],u[2],u[3],u[4],r,n);if(a=d<=e/2,a)return!0;break;case"C":var p=mb.pointDistance(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],r,n,i);if(a=p<=e/2,a)return!0;break;case"A":c.cubicParams||(c.cubicParams=Ft(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var v=c.cubicParams,g=f,m=0;m<v.length;m+=6){var b=mb.pointDistance(g[0],g[1],v[m],v[m+1],v[m+2],v[m+3],v[m+4],v[m+5],r,n,i);if(g=[v[m+4],v[m+5]],a=b<=e/2,a)return!0}break}}return a}function u4(t,e,r,n,i){var a=t.parsedStyle,o=a.lineWidth,s=a.increasedLineWidthForHitTesting,c=a.stroke,l=a.fill,u=a.defX,f=u===void 0?0:u,h=a.defY,d=h===void 0?0:h,p=a.path,v=a.pointerEvents,g=p.segments,m=p.hasArc,b=p.polylines,_=p.polygons,O=po(v,(_==null?void 0:_.length)&&l,c),E=O[0],P=O[1],A=vd(t),T=!1;return E||r?(m?T=n(i,t,e):T=_b(_,e.x+f,e.y+d)||_b(b,e.x+f,e.y+d),T):((P||r)&&(T=l4(g,(o||0)+(s||0),e.x+f,e.y+d,A)),T)}function f4(t,e,r){var n=t.parsedStyle,i=n.stroke,a=n.fill,o=n.lineWidth,s=n.increasedLineWidthForHitTesting,c=n.points,l=n.defX,u=l===void 0?0:l,f=n.defY,h=f===void 0?0:f,d=n.pointerEvents,p=po(d,a,i),v=p[0],g=p[1],m=!1;return(g||r)&&(m=bb(c.points,(o||0)+(s||0),e.x+u,e.y+h,!0)),!m&&(v||r)&&(m=xb(c.points,e.x+u,e.y+h)),m}function h4(t,e,r){var n=t.parsedStyle,i=n.lineWidth,a=n.increasedLineWidthForHitTesting,o=n.points,s=n.defX,c=s===void 0?0:s,l=n.defY,u=l===void 0?0:l,f=n.pointerEvents,h=n.fill,d=n.stroke,p=po(f,h,d),v=p[1];return!v&&!r||!i?!1:bb(o.points,(i||0)+(a||0),e.x+c,e.y+u,!1)}function d4(t,e,r,n,i){var a=t.parsedStyle,o=a.radius,s=a.fill,c=a.stroke,l=a.lineWidth,u=a.increasedLineWidthForHitTesting,f=a.width,h=a.height,d=a.pointerEvents,p=po(d,s,c),v=p[0],g=p[1],m=o&&o.some(function(E){return E!==0}),b=(l||0)+(u||0);if(m){var O=!1;return(g||r)&&(O=p4(0,0,f,h,o.map(function(E){return et(E,0,Math.min(Math.abs(f)/2,Math.abs(h)/2))}),b,e.x,e.y)),!O&&(v||r)&&(O=n(i,t,e)),O}else{var _=b/2;if(v&&g||r)return bo(0-_,0-_,f+_,h+_,e.x,e.y);if(v)return bo(0,0,f,h,e.x,e.y);if(g)return r4(0,0,f,h,b,e.x,e.y)}return!1}function p4(t,e,r,n,i,a,o,s){var c=i[0],l=i[1],u=i[2],f=i[3];return Ta(t+c,e,t+r-l,e,a,o,s)||Ta(t+r,e+l,t+r,e+n-u,a,o,s)||Ta(t+r-u,e+n,t+f,e+n,a,o,s)||Ta(t,e+n-f,t,e+c,a,o,s)||Hu(t+r-l,e+l,l,1.5*Math.PI,2*Math.PI,a,o,s)||Hu(t+r-u,e+n-u,u,0,.5*Math.PI,a,o,s)||Hu(t+f,e+n-f,f,.5*Math.PI,Math.PI,a,o,s)||Hu(t+c,e+c,c,Math.PI,1.5*Math.PI,a,o,s)}var v4=function(t){XN(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="canvas-picker",n}var r=e.prototype;return r.init=function(){var i,a=function(){return!0},o=(i={},i[rt.CIRCLE]=o4,i[rt.ELLIPSE]=s4,i[rt.RECT]=d4,i[rt.LINE]=c4,i[rt.POLYLINE]=h4,i[rt.POLYGON]=f4,i[rt.PATH]=u4,i[rt.TEXT]=a,i[rt.GROUP]=null,i[rt.IMAGE]=a,i[rt.HTML]=null,i[rt.MESH]=null,i);this.context.pointInPathPickerFactory=o,this.addRenderingPlugin(new lb)},r.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(Ma);function ep(){ep=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function wb(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function g4(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){wb(a,n,i,o,s,"next",c)}function s(c){wb(a,n,i,o,s,"throw",c)}o(void 0)})}}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function m4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,np(t,e)}function np(t,e){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},np(t,e)}var Ob=function(){function t(r){this.canvasRendererPluginOptions=void 0,this.context=void 0,this.pathGeneratorFactory=void 0,this.rBush=void 0,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=We(),this.dprMatrix=We(),this.tmpMat4=We(),this.vec3a=pe(),this.vec3b=pe(),this.vec3c=pe(),this.vec3d=pe(),this.canvasRendererPluginOptions=r}var e=t.prototype;return e.apply=function(n,i){var a=this;this.context=n;var o=n.config,s=n.camera,c=n.renderingService,l=n.renderingContext,u=n.rBushRoot,f=n.pathGeneratorFactory;this.rBush=u,this.pathGeneratorFactory=f;var h=n.contextService,d=l.root.ownerDocument.defaultView,p=function(b){var _=b.target,O=_.rBushNode;O.aabb&&a.removedRBushNodeAABBs.push(O.aabb)},v=function(b){var _=b.target,O=_.rBushNode;O.aabb&&a.removedRBushNodeAABBs.push(O.aabb)};c.hooks.init.tapPromise(t.tag,g4(ep().mark(function m(){var b,_,O,E;return ep().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:d.addEventListener(le.UNMOUNTED,p),d.addEventListener(le.CULLED,v),b=h.getDPR(),_=o.width,O=o.height,E=h.getContext(),a.clearRect(E,0,0,_*b,O*b,o.background);case 6:case"end":return A.stop()}},m)}))),c.hooks.destroy.tap(t.tag,function(){d.removeEventListener(le.UNMOUNTED,p),d.removeEventListener(le.CULLED,v)}),c.hooks.beginFrame.tap(t.tag,function(){var m=h.getContext(),b=h.getDPR(),_=o.width,O=o.height,E=a.canvasRendererPluginOptions,P=E.dirtyObjectNumThreshold,A=E.dirtyObjectRatioThreshold,T=c.getStats(),C=T.total,L=T.rendered,N=L/C;a.clearFullScreen=c.disableDirtyRectangleRendering()||L>P&&N>A,m&&(m.resetTransform(),a.clearFullScreen&&a.clearRect(m,0,0,_*b,O*b,o.background))});var g=function m(b,_){b.isVisible()&&!b.isCulled()&&(a.renderDisplayObject(b,_,a.context,a.restoreStack,i),a.saveDirtyAABB(b));var O=b.sortable.sorted||b.childNodes;O.forEach(function(E){m(E,_)})};c.hooks.endFrame.tap(t.tag,function(){var m=h.getContext(),b=h.getDPR();if(qm(a.dprMatrix,[b,b,1]),Un(a.vpMatrix,a.dprMatrix,s.getOrthoMatrix()),a.clearFullScreen)g(l.root,m);else{var _=a.safeMergeAABB.apply(a,[a.mergeDirtyAABBs(a.renderQueue)].concat(a.removedRBushNodeAABBs.map(function(dt){var Ct=dt.minX,Nt=dt.minY,ee=dt.maxX,Yt=dt.maxY,Rt=new En;return Rt.setMinMax([Ct,Nt,0],[ee,Yt,0]),Rt})));if(a.removedRBushNodeAABBs=[],En.isEmpty(_)){a.renderQueue=[];return}var O=a.convertAABB2Rect(_),E=O.x,P=O.y,A=O.width,T=O.height,C=Rn(a.vec3a,[E,P,0],a.vpMatrix),L=Rn(a.vec3b,[E+A,P,0],a.vpMatrix),N=Rn(a.vec3c,[E,P+T,0],a.vpMatrix),x=Rn(a.vec3d,[E+A,P+T,0],a.vpMatrix),y=Math.min(C[0],L[0],x[0],N[0]),w=Math.min(C[1],L[1],x[1],N[1]),M=Math.max(C[0],L[0],x[0],N[0]),S=Math.max(C[1],L[1],x[1],N[1]),k=Math.floor(y),I=Math.floor(w),j=Math.ceil(M-y),F=Math.ceil(S-w);m.save(),a.clearRect(m,k,I,j,F,o.background),m.beginPath(),m.rect(k,I,j,F),m.clip(),m.setTransform(a.vpMatrix[0],a.vpMatrix[1],a.vpMatrix[4],a.vpMatrix[5],a.vpMatrix[12],a.vpMatrix[13]);var X=o.renderer.getConfig(),K=X.enableDirtyRectangleRenderingDebug;K&&d.dispatchEvent(new en(Fr.DIRTY_RECTANGLE,{dirtyRect:{x:k,y:I,width:j,height:F}}));var Q=a.searchDirtyObjects(i,_);Q.sort(function(dt,Ct){return dt.sortable.renderOrder-Ct.sortable.renderOrder}).forEach(function(dt){dt&&dt.isVisible()&&!dt.isCulled()&&a.renderDisplayObject(dt,m,a.context,a.restoreStack,i)}),m.restore(),a.renderQueue.forEach(function(dt){a.saveDirtyAABB(dt)}),a.renderQueue=[]}a.restoreStack.forEach(function(){m.restore()}),a.restoreStack=[]}),c.hooks.render.tap(t.tag,function(m){a.clearFullScreen||a.renderQueue.push(m)})},e.clearRect=function(n,i,a,o,s,c){n.clearRect(i,a,o,s),c&&(n.fillStyle=c,n.fillRect(i,a,o,s))},e.renderDisplayObject=function(n,i,a,o,s){var c=n.nodeName,l=o[o.length-1];l&&!(n.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINS)&&(i.restore(),o.pop());var u=this.context.styleRendererFactory[c],f=this.pathGeneratorFactory[c],h=n.parsedStyle.clipPath;if(h){this.applyWorldTransform(i,h);var d=this.pathGeneratorFactory[h.nodeName];d&&(i.save(),o.push(n),i.beginPath(),d(i,h.parsedStyle),i.closePath(),i.clip())}u&&(this.applyWorldTransform(i,n),i.save(),this.applyAttributesToContext(i,n)),f&&(i.beginPath(),f(i,n.parsedStyle),n.nodeName!==rt.LINE&&n.nodeName!==rt.PATH&&n.nodeName!==rt.POLYLINE&&i.closePath()),u&&(u.render(i,n.parsedStyle,n,a,this,s),i.restore()),n.renderable.dirty=!1},e.convertAABB2Rect=function(n){var i=n.getMin(),a=n.getMax(),o=Math.floor(i[0]),s=Math.floor(i[1]),c=Math.ceil(a[0]),l=Math.ceil(a[1]),u=c-o,f=l-s;return{x:o,y:s,width:u,height:f}},e.mergeDirtyAABBs=function(n){var i=new En;return n.forEach(function(a){var o=a.getRenderBounds();i.add(o);var s=a.renderable.dirtyRenderBounds;s&&i.add(s)}),i},e.searchDirtyObjects=function(n,i){var a=i.getMin(),o=a[0],s=a[1],c=i.getMax(),l=c[0],u=c[1],f=this.rBush.search({minX:o,minY:s,maxX:l,maxY:u});return f.map(function(h){var d=h.id;return n.displayObjectPool.getByEntity(d)})},e.saveDirtyAABB=function(n){var i=n.renderable;i.dirtyRenderBounds||(i.dirtyRenderBounds=new En);var a=n.getRenderBounds();a&&i.dirtyRenderBounds.update(a.center,a.halfExtents)},e.applyAttributesToContext=function(n,i){var a=i.parsedStyle,o=a.stroke,s=a.fill,c=a.opacity,l=a.lineDash,u=a.lineDashOffset;l&&n.setLineDash(l),ot(u)||(n.lineDashOffset=u),ot(c)||(n.globalAlpha*=c),!ot(o)&&!Array.isArray(o)&&!o.isNone&&(n.strokeStyle=i.attributes.stroke),!ot(s)&&!Array.isArray(s)&&!s.isNone&&(n.fillStyle=i.attributes.fill)},e.applyWorldTransform=function(n,i,a){var o=0,s=0,c=i.parsedStyle||{},l=c.anchor,u=l&&l[0]||0,f=l&&l[1]||0;if(u!==0||f!==0){var h=i.getGeometryBounds(),d=h&&h.halfExtents[0]*2||0,p=h&&h.halfExtents[1]*2||0;o=-(u*d),s=-(f*p)}a?(so(this.tmpMat4,i.getLocalTransform()),this.vec3a[0]=o,this.vec3a[1]=s,this.vec3a[2]=0,ma(this.tmpMat4,this.tmpMat4,this.vec3a),Un(this.tmpMat4,a,this.tmpMat4),Un(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(so(this.tmpMat4,i.getWorldTransform()),this.vec3a[0]=o,this.vec3a[1]=s,this.vec3a[2]=0,ma(this.tmpMat4,this.tmpMat4,this.vec3a),Un(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},e.safeMergeAABB=function(){for(var n=new En,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.forEach(function(s){n.add(s)}),n},t}();Ob.tag="CanvasRenderer";var y4=function(){function t(r){this.imagePool=void 0,this.imagePool=r}var e=t.prototype;return e.render=function(n,i,a,o,s,c){var l=i.fill,u=i.fillRule,f=i.opacity,h=i.fillOpacity,d=i.stroke,p=i.strokeOpacity,v=i.lineWidth,g=i.lineCap,m=i.lineJoin,b=i.shadowType,_=i.shadowColor,O=i.shadowBlur,E=i.filter,P=i.miterLimit,A=!ot(l)&&!l.isNone,T=!ot(d)&&!d.isNone&&v>0,C=l.alpha===0,L=!!(E&&E.length),N=!ot(_)&&O>0,x=a.nodeName,y=b==="inner",w=T&&N&&(x===rt.PATH||x===rt.LINE||x===rt.POLYLINE||C||y);A&&(n.globalAlpha=f*h,w||qu(a,n,N),this.fill(n,a,l,u,o,s,c),w||this.clearShadowAndFilter(n,L,N)),T&&(n.globalAlpha=f*p,n.lineWidth=v,ot(P)||(n.miterLimit=P),ot(g)||(n.lineCap=g),ot(m)||(n.lineJoin=m),w&&(y&&(n.globalCompositeOperation="source-atop"),qu(a,n,!0),y&&(this.stroke(n,a,d,o,s,c),n.globalCompositeOperation="source-over",this.clearShadowAndFilter(n,L,!0))),this.stroke(n,a,d,o,s,c))},e.clearShadowAndFilter=function(n,i,a){if(a&&(n.shadowColor="transparent",n.shadowBlur=0),i){var o=n.filter;!ot(o)&&o.indexOf("drop-shadow")>-1&&(n.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},e.fill=function(n,i,a,o,s,c,l){var u=this;Array.isArray(a)?a.forEach(function(f){n.fillStyle=u.getColor(f,i,n),n.fill(o)}):(xc(a)&&(n.fillStyle=this.getPattern(a,i,n,s,c,l)),n.fill(o))},e.stroke=function(n,i,a,o,s,c){var l=this;Array.isArray(a)?a.forEach(function(u){n.strokeStyle=l.getColor(u,i,n),n.stroke()}):(xc(a)&&(n.strokeStyle=this.getPattern(a,i,n,o,s,c)),n.stroke())},e.getPattern=function(n,i,a,o,s,c){var l,u;if(n.image.nodeName==="rect"){var f=n.image.parsedStyle,h=f.width,d=f.height;u=o.contextService.getDPR();var p=o.config.offscreenCanvas;l=c.offscreenCanvas.getOrCreateCanvas(p),l.width=h*u,l.height=d*u;var v=c.offscreenCanvas.getOrCreateContext(p),g=[];n.image.forEach(function(b){s.renderDisplayObject(b,v,o,g,c)}),g.forEach(function(){v.restore()})}var m=this.imagePool.getOrCreatePatternSync(n,a,l,u,function(){i.renderable.dirty=!0,o.renderingService.dirtify()});return m},e.getColor=function(n,i,a){var o;if(n.type===yi.LinearGradient||n.type===yi.RadialGradient){var s=i.getGeometryBounds(),c=s&&s.halfExtents[0]*2||1,l=s&&s.halfExtents[1]*2||1;o=this.imagePool.getOrCreateGradient(Xu({type:n.type},n.value,{width:c,height:l}),a)}return o},t}();function qu(t,e,r){var n=t.parsedStyle,i=n.filter,a=n.shadowColor,o=n.shadowBlur,s=n.shadowOffsetX,c=n.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),r&&(e.shadowColor=a.toString(),e.shadowBlur=o||0,e.shadowOffsetX=s||0,e.shadowOffsetY=c||0)}var b4=function(){function t(r){this.imagePool=void 0,this.imagePool=r}var e=t.prototype;return e.render=function(n,i,a){var o=i.width,s=i.height,c=i.img,l=i.shadowColor,u=i.shadowBlur,f,h=o,d=s;if(at(c)?f=this.imagePool.getImageSync(c):(h||(h=c.width),d||(d=c.height),f=c),f){var p=!ot(l)&&u>0;qu(a,n,p);try{n.drawImage(f,0,0,h,d)}catch(v){}}},t}(),x4=function(){function t(){}var e=t.prototype;return e.render=function(n,i,a){var o=i.lineWidth,s=i.textAlign,c=i.textBaseline,l=i.lineJoin,u=i.miterLimit,f=i.letterSpacing,h=i.stroke,d=i.fill,p=i.fillOpacity,v=i.strokeOpacity,g=i.opacity,m=i.metrics,b=i.dx,_=i.dy,O=i.shadowColor,E=i.shadowBlur,P=m.font,A=m.lines,T=m.height,C=m.lineHeight,L=m.lineMetrics;n.font=P,n.lineWidth=o,n.textAlign=s==="middle"?"center":s,!nt.enableCSSParsing&&c==="alphabetic"?n.textBaseline="bottom":n.textBaseline=c,n.lineJoin=l,ot(u)||(n.miterLimit=u);var N=0;c==="middle"?N=-T/2-C/2:c==="bottom"||c==="alphabetic"||c==="ideographic"?N=-T:(c==="top"||c==="hanging")&&(N=-C);var x=b||0;N+=_||0;var y=!ot(O)&&E>0;qu(a,n,y);for(var w=0;w<A.length;w++){var M=o/2+x;N+=C,!ot(h)&&!h.isNone&&o&&this.drawLetterSpacing(n,A[w],L[w],s,M,N,f,p,v,g,!0),ot(d)||this.drawLetterSpacing(n,A[w],L[w],s,M,N,f,p,v,g)}},e.drawLetterSpacing=function(n,i,a,o,s,c,l,u,f,h,d){if(d===void 0&&(d=!1),l===0){d?this.strokeText(n,i,s,c,f):this.fillText(n,i,s,c,u,h);return}var p=n.textAlign;n.textAlign="left";var v=s;o==="center"||o==="middle"?v=s-a.width/2:(o==="right"||o==="end")&&(v=s-a.width);for(var g=Array.from(i),m=n.measureText(i).width,b=0,_=0;_<g.length;++_){var O=g[_];d?this.strokeText(n,O,v,c,f):this.fillText(n,O,v,c,u,h),b=n.measureText(i.substring(_+1)).width,v+=m-b+l,m=b}n.textAlign=p},e.fillText=function(n,i,a,o,s,c){var l,u=!ot(s)&&s!==1;u&&(l=n.globalAlpha,n.globalAlpha=s*c),n.fillText(i,a,o),u&&(n.globalAlpha=l)},e.strokeText=function(n,i,a,o,s){var c,l=!ot(s)&&s!==1;l&&(c=n.globalAlpha,n.globalAlpha=s),n.strokeText(i,a,o),l&&(n.globalAlpha=c)},t}(),MQ=null,PQ=null,AQ=null,kQ=null,TQ=null,LQ=null,CQ=null,_4=function(t){m4(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this)||this,i.options=void 0,i.name="canvas-renderer",i.options=n,i}var r=e.prototype;return r.init=function(){var i,a=Xu({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),o=this.context.imagePool,s=new y4(o),c=(i={},i[rt.CIRCLE]=s,i[rt.ELLIPSE]=s,i[rt.RECT]=s,i[rt.IMAGE]=new b4(o),i[rt.TEXT]=new x4,i[rt.LINE]=s,i[rt.POLYLINE]=s,i[rt.POLYGON]=s,i[rt.PATH]=s,i[rt.GROUP]=void 0,i[rt.HTML]=void 0,i[rt.MESH]=void 0,i);this.context.defaultStyleRendererFactory=c,this.context.styleRendererFactory=c,this.addRenderingPlugin(new Ob(a))},r.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(Ma);function rp(){rp=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Sb(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function w4(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Sb(a,n,i,o,s,"next",c)}function s(c){Sb(a,n,i,o,s,"throw",c)}o(void 0)})}}function O4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ip(t,e)}function ip(t,e){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ip(t,e)}var Eb=function(){function t(){this.context=void 0}var e=t.prototype;return e.apply=function(n,i){var a=this,o=n.renderingService,s=n.renderingContext;this.context=n;var c=s.root.ownerDocument.defaultView,l=function(A){o.hooks.pointerMove.call(A)},u=function(A){o.hooks.pointerUp.call(A)},f=function(A){o.hooks.pointerDown.call(A)},h=function(A){o.hooks.pointerOver.call(A)},d=function(A){o.hooks.pointerOut.call(A)},p=function(A){o.hooks.pointerCancel.call(A)},v=function(A){o.hooks.pointerWheel.call(A)},g=function(A){i.globalThis.document.addEventListener("pointermove",l,!0),A.addEventListener("pointerdown",f,!0),A.addEventListener("pointerleave",d,!0),A.addEventListener("pointerover",h,!0),i.globalThis.addEventListener("pointerup",u,!0)},m=function(A){A.addEventListener("touchstart",f,!0),A.addEventListener("touchend",u,!0),A.addEventListener("touchmove",l,!0),A.addEventListener("touchcancel",p,!0)},b=function(A){i.globalThis.document.addEventListener("mousemove",l,!0),A.addEventListener("mousedown",f,!0),A.addEventListener("mouseout",d,!0),A.addEventListener("mouseover",h,!0),i.globalThis.addEventListener("mouseup",u,!0)},_=function(A){i.globalThis.document.removeEventListener("pointermove",l,!0),A.removeEventListener("pointerdown",f,!0),A.removeEventListener("pointerleave",d,!0),A.removeEventListener("pointerover",h,!0),i.globalThis.removeEventListener("pointerup",u,!0)},O=function(A){A.removeEventListener("touchstart",f,!0),A.removeEventListener("touchend",u,!0),A.removeEventListener("touchmove",l,!0),A.removeEventListener("touchcancel",p,!0)},E=function(A){i.globalThis.document.removeEventListener("mousemove",l,!0),A.removeEventListener("mousedown",f,!0),A.removeEventListener("mouseout",d,!0),A.removeEventListener("mouseover",h,!0),i.globalThis.removeEventListener("mouseup",u,!0)};o.hooks.init.tapPromise(t.tag,w4(rp().mark(function P(){var A;return rp().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:A=a.context.contextService.getDomElement(),i.globalThis.navigator.msPointerEnabled?(A.style.msContentZooming="none",A.style.msTouchAction="none"):c.supportsPointerEvents&&(A.style.touchAction="none"),c.supportsPointerEvents?g(A):b(A),c.supportsTouchEvents&&m(A),A.addEventListener("wheel",v,{passive:!0,capture:!0});case 5:case"end":return C.stop()}},P)}))),o.hooks.destroy.tap(t.tag,function(){var P=a.context.contextService.getDomElement();i.globalThis.navigator.msPointerEnabled?(P.style.msContentZooming="",P.style.msTouchAction=""):c.supportsPointerEvents&&(P.style.touchAction=""),c.supportsPointerEvents?_(P):E(P),c.supportsTouchEvents&&O(P),P.removeEventListener("wheel",v,!0)})},t}();Eb.tag="DOMInteraction";var S4=function(t){O4(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="dom-interaction",n}var r=e.prototype;return r.init=function(){this.addRenderingPlugin(new Eb)},r.destroy=function(){this.removeAllRenderingPlugins()},e}(Ma);function ap(){ap=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Mb(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function E4(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Mb(a,n,i,o,s,"next",c)}function s(c){Mb(a,n,i,o,s,"throw",c)}o(void 0)})}}function M4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,op(t,e)}function op(t,e){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},op(t,e)}var P4="g-html-",A4="g-canvas-camera",Pb=function(){function t(){this.context=void 0,this.$camera=void 0}var e=t.prototype;return e.joinTransformMatrix=function(n){return"matrix("+[n[0],n[1],n[4],n[5],n[12],n[13]].join(",")+")"},e.apply=function(n){var i=this,a=n.camera,o=n.renderingContext,s=n.renderingService,c=n.displayObjectPool;this.context=n;var l=o.root.ownerDocument.defaultView,u=function(m,b){b.style.transform=i.joinTransformMatrix(m.getWorldTransform())},f=function(m){var b=m.target;if(b.nodeName===rt.HTML){i.$camera||(i.$camera=i.createCamera(a));var _=i.getOrCreateEl(b);i.$camera.appendChild(_);var O=b.ownerDocument.documentElement.attributes;Object.keys(O).forEach(function(E){_.style[E]=O[E]}),Object.keys(b.attributes).forEach(function(E){i.updateAttribute(E,b)}),u(b,_)}},h=function(m){var b=m.target;if(b.nodeName===rt.HTML&&i.$camera){var _=i.getOrCreateEl(b);_&&_.remove()}},d=function(m){var b=m.target;if(b.nodeName===rt.HTML){var _=m.attrName;i.updateAttribute(_,b)}},p=function(m){var b=m.target;if(b.nodeName===rt.HTML){var _=i.getOrCreateEl(b);u(b,_)}},v=function(){if(i.$camera){var m=i.context.config,b=m.width,_=m.height;i.$camera.style.width=(b||0)+"px",i.$camera.style.height=(_||0)+"px"}};s.hooks.init.tapPromise(t.tag,E4(ap().mark(function g(){return ap().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c.getHTMLs().length&&(i.$camera=i.createCamera(a)),l.addEventListener(Fr.RESIZE,v),l.addEventListener(le.MOUNTED,f),l.addEventListener(le.UNMOUNTED,h),l.addEventListener(le.ATTR_MODIFIED,d),l.addEventListener(le.BOUNDS_CHANGED,p);case 6:case"end":return b.stop()}},g)}))),s.hooks.endFrame.tap(t.tag,function(){i.$camera&&o.renderReasons.has(mo.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(t.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(Fr.RESIZE,v),l.removeEventListener(le.MOUNTED,f),l.removeEventListener(le.UNMOUNTED,h),l.removeEventListener(le.ATTR_MODIFIED,d),l.removeEventListener(le.BOUNDS_CHANGED,p)})},e.getId=function(n){return n.id||P4+n.entity},e.createCamera=function(n){var i=this.context.config,a=i.document,o=i.width,s=i.height,c=this.context.contextService.getDomElement(),l=c.parentNode;if(l){var u=A4,f=l.querySelector("#"+u);if(!f){var h=(a||document).createElement("div");f=h,h.id=u,h.style.position="absolute",h.style.left=(c.offsetLeft||0)+"px",h.style.top=(c.offsetTop||0)+"px",h.style.transformOrigin="left top",h.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),h.style.overflow="hidden",h.style.pointerEvents="none",h.style.width=(o||0)+"px",h.style.height=(s||0)+"px",l.appendChild(h)}return f}return null},e.getOrCreateEl=function(n){var i=this.context.config.document,a=this.getId(n),o=this.$camera.querySelector("#"+a);return o||(o=(i||document).createElement("div"),n.parsedStyle.$el=o,o.id=a,n.name&&o.setAttribute("name",n.name),n.className&&(o.className=n.className),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style["will-change"]="transform",o.style.transform=this.joinTransformMatrix(n.getWorldTransform())),o},e.updateAttribute=function(n,i){var a=this.getOrCreateEl(i);switch(n){case"innerHTML":var o=i.parsedStyle.innerHTML;at(o)?a.innerHTML=o:(a.innerHTML="",a.appendChild(o));break;case"transformOrigin":var s=i.parsedStyle.transformOrigin;a.style["transform-origin"]=s[0].value+" "+s[1].value;break;case"width":if(nt.enableCSSParsing){var c=i.computedStyleMap().get("width");a.style.width=c.toString()}else{var l=i.parsedStyle.width;a.style.width=ct(l)?l+"px":l.toString()}break;case"height":if(nt.enableCSSParsing){var u=i.computedStyleMap().get("height");a.style.height=u.toString()}else{var f=i.parsedStyle.height;a.style.height=ct(f)?f+"px":f.toString()}break;case"zIndex":var h=i.parsedStyle.zIndex;a.style["z-index"]=""+h;break;case"visibility":var d=i.parsedStyle.visibility;a.style.visibility=d;break;case"pointerEvents":var p=i.parsedStyle.pointerEvents;a.style.pointerEvents=p;break;case"opacity":var v=i.parsedStyle.opacity;a.style.opacity=""+v;break;case"fill":var g=i.parsedStyle.fill,m="";bu(g)?g.isNone?m="transparent":m=i.getAttribute("fill"):Array.isArray(g)?m=i.getAttribute("fill"):xc(g),a.style.background=m;break;case"stroke":var b=i.parsedStyle.stroke,_="";bu(b)?b.isNone?_="transparent":_=i.getAttribute("stroke"):Array.isArray(b)?_=i.getAttribute("stroke"):xc(b),a.style["border-color"]=_,a.style["border-style"]="solid";break;case"lineWidth":var O=i.parsedStyle.lineWidth;a.style["border-width"]=(O||0)+"px";break;case"lineDash":a.style["border-style"]="dashed";break;case"filter":var E=i.style.filter;a.style.filter=E;break}},t}();Pb.tag="HTMLRendering";var k4=function(t){M4(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="html-renderer",n}var r=e.prototype;return r.init=function(){this.addRenderingPlugin(new Pb)},r.destroy=function(){this.removeAllRenderingPlugins()},e}(Ma);function sp(){sp=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Ab(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function T4(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Ab(a,n,i,o,s,"next",c)}function s(c){Ab(a,n,i,o,s,"throw",c)}o(void 0)})}}function L4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cp(t,e)}function cp(t,e){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cp(t,e)}var kb=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function C4(){var t=new kb(16);return kb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function N4(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R4(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var I4=function(){function t(r){this.canvasConfig=void 0,this.imageCache={},this.gradientCache={},this.patternCache={},this.canvasConfig=r}var e=t.prototype;return e.getImageSync=function(n,i){return this.imageCache[n]?i&&i():this.getOrCreateImage(n).then(function(){i&&i()}),this.imageCache[n]},e.getOrCreateImage=function(n){var i=this;if(this.imageCache[n])return Promise.resolve(this.imageCache[n]);var a=this.canvasConfig.createImage;return new Promise(function(o,s){var c;a?c=a(n):gc&&(c=new window.Image),c&&(c.onload=function(){o(c)},c.onerror=function(l){s(l)},c.crossOrigin="Anonymous",c.src=n,i.imageCache[n]=c)})},e.getOrCreatePatternSync=function(n,i,a,o,s){var c=this.generatePatternKey(n);if(c&&this.patternCache[c])return this.patternCache[c];var l=n.image,u=n.repetition,f=n.transform,h,d=!1;at(l)?h=this.getImageSync(l,s):a?(h=a,d=!0):h=l;var p=h&&i.createPattern(h,u);if(p){var v;f?v=pd(xu(f)):v=N4(C4()),d&&R4(v,v,[1/o,1/o,1]),p.setTransform({a:v[0],b:v[1],c:v[4],d:v[5],e:v[12],f:v[13]})}return c&&p&&(this.patternCache[c]=p),p},e.getOrCreateGradient=function(n,i){var a=this.generateGradientKey(n),o=n.type,s=n.steps,c=n.width,l=n.height,u=n.angle,f=n.cx,h=n.cy,d=n.size;if(this.gradientCache[a])return this.gradientCache[a];var p=null;if(o===yi.LinearGradient){var v=r5(c,l,u),g=v.x1,m=v.y1,b=v.x2,_=v.y2;p=i.createLinearGradient(g,m,b,_)}else if(o===yi.RadialGradient){var O=i5(c,l,f,h,d),E=O.x,P=O.y,A=O.r;p=i.createRadialGradient(E,P,0,E,P,A)}return p&&(s.forEach(function(T){var C=T.offset,L=T.color;if(C.unit===yt.kPercentage){var N;(N=p)===null||N===void 0||N.addColorStop(C.value/100,L.toString())}}),this.gradientCache[a]=p),this.gradientCache[a]},e.generateGradientKey=function(n){var i=n.type,a=n.width,o=n.height,s=n.steps,c=n.angle,l=n.cx,u=n.cy,f=n.size;return"gradient-"+i+"-"+((c==null?void 0:c.toString())||0)+"-"+((l==null?void 0:l.toString())||0)+"-"+((u==null?void 0:u.toString())||0)+"-"+((f==null?void 0:f.toString())||0)+"-"+a+"-"+o+"-"+s.map(function(h){var d=h.offset,p=h.color;return""+d+p}).join("-")},e.generatePatternKey=function(n){var i=n.image,a=n.repetition;if(at(i))return"pattern-"+i+"-"+a;if(i.nodeName==="rect")return"pattern-"+i.entity+"-"+a},t}(),Tb=function(){function t(){}var e=t.prototype;return e.apply=function(n){var i=n.renderingService,a=n.renderingContext,o=n.imagePool,s=a.root.ownerDocument.defaultView,c=function(f){var h=f.target,d=h.nodeName,p=h.attributes;if(d===rt.IMAGE){var v=p.img;at(v)&&o.getImageSync(v,function(){h.renderable.dirty=!0,i.dirtify()})}},l=function(f){var h=f.target,d=f.attrName,p=f.newValue;h.nodeName===rt.IMAGE&&d==="img"&&at(p)&&o.getOrCreateImage(p).then(function(){h.renderable.dirty=!0,i.dirtify()})};i.hooks.init.tapPromise(t.tag,T4(sp().mark(function u(){return sp().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s.addEventListener(le.MOUNTED,c),s.addEventListener(le.ATTR_MODIFIED,l);case 2:case"end":return h.stop()}},u)}))),i.hooks.destroy.tap(t.tag,function(){s.removeEventListener(le.MOUNTED,c),s.removeEventListener(le.ATTR_MODIFIED,l)})},t}();Tb.tag="LoadImage";var D4=function(t){L4(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="image-loader",n}var r=e.prototype;return r.init=function(){this.context.imagePool=new I4(this.context.config),this.addRenderingPlugin(new Tb)},r.destroy=function(){this.removeAllRenderingPlugins()},e}(Ma);function Pc(){Pc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Lb(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function Cb(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Lb(a,n,i,o,s,"next",c)}function s(c){Lb(a,n,i,o,s,"throw",c)}o(void 0)})}}function Nb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lp(t,e)}function lp(t,e){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lp(t,e)}var j4=function(){function t(r){this.$container=void 0,this.$canvas=void 0,this.dpr=void 0,this.context=void 0,this.canvasConfig=void 0,this.renderingContext=void 0,this.renderingContext=r.renderingContext,this.canvasConfig=r.config}var e=t.prototype;return e.init=function(){var r=Cb(Pc().mark(function i(){var a,o,s,c;return Pc().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:a=this.canvasConfig,o=a.container,s=a.canvas,s?(this.$canvas=s,o&&s.parentElement!==o&&o.appendChild(s),this.$container=s.parentElement,this.canvasConfig.container=this.$container):o&&(this.$container=at(o)?document.getElementById(o):o,this.$container&&(c=document.createElement("canvas"),this.$container.appendChild(c),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=c)),this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height);case 4:case"end":return u.stop()}},i,this)}));function n(){return r.apply(this,arguments)}return n}(),e.getContext=function(){return this.context},e.getDomElement=function(){return this.$canvas},e.getDPR=function(){return this.dpr},e.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},e.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},e.resize=function(n,i){var a=this.canvasConfig.devicePixelRatio,o=a||gc&&window.devicePixelRatio||1;o=o>=1?Math.ceil(o):1,this.dpr=o,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*i,FL(this.$canvas,n,i)),this.renderingContext.renderReasons.add(mo.CAMERA_CHANGED)},e.applyCursorStyle=function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)},e.toDataURL=function(){var r=Cb(Pc().mark(function i(a){var o,s,c;return Pc().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a===void 0&&(a={}),o=a,s=o.type,c=o.encoderOptions,u.abrupt("return",this.context.canvas.toDataURL(s,c));case 3:case"end":return u.stop()}},i,this)}));function n(i){return r.apply(this,arguments)}return n}(),t}(),B4=function(t){Nb(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.name="canvas-context-register",n}var r=e.prototype;return r.init=function(){this.context.ContextService=j4},r.destroy=function(){delete this.context.ContextService},e}(Ma),Rb=function(t){Nb(e,t);function e(r){var n;return n=t.call(this,r)||this,n.registerPlugin(new B4),n.registerPlugin(new D4),n.registerPlugin(new HN),n.registerPlugin(new _4),n.registerPlugin(new S4),n.registerPlugin(new v4),n.registerPlugin(new k4),n}return e}(LC);function Ac(){Ac=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(x,y,w){x[y]=w.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(x,y,w){return Object.defineProperty(x,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),x[y]}try{c({},"")}catch(x){c=function(y,w,M){return y[w]=M}}function l(x,y,w,M){var S=y&&y.prototype instanceof h?y:h,k=Object.create(S.prototype),I=new C(M||[]);return n(k,"_invoke",{value:E(x,w,I)}),k}function u(x,y,w){try{return{type:"normal",arg:x.call(y,w)}}catch(M){return{type:"throw",arg:M}}}t.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==e&&r.call(m,a)&&(v=m);var b=p.prototype=h.prototype=Object.create(v);function _(x){["next","throw","return"].forEach(function(y){c(x,y,function(w){return this._invoke(y,w)})})}function O(x,y){function w(S,k,I,j){var F=u(x[S],x,k);if(F.type!=="throw"){var X=F.arg,K=X.value;return K&&typeof K=="object"&&r.call(K,"__await")?y.resolve(K.__await).then(function(Q){w("next",Q,I,j)},function(Q){w("throw",Q,I,j)}):y.resolve(K).then(function(Q){X.value=Q,I(X)},function(Q){return w("throw",Q,I,j)})}j(F.arg)}var M;n(this,"_invoke",{value:function(S,k){function I(){return new y(function(j,F){w(S,k,j,F)})}return M=M?M.then(I,I):I()}})}function E(x,y,w){var M="suspendedStart";return function(S,k){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(S==="throw")throw k;return N()}for(w.method=S,w.arg=k;;){var I=w.delegate;if(I){var j=P(I,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var F=u(x,y,w);if(F.type==="normal"){if(M=w.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(M="completed",w.method="throw",w.arg=F.arg)}}}function P(x,y){var w=y.method,M=x.iterator[w];if(M===void 0)return y.delegate=null,w==="throw"&&x.iterator.return&&(y.method="return",y.arg=void 0,P(x,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var S=u(M,x.iterator,y.arg);if(S.type==="throw")return y.method="throw",y.arg=S.arg,y.delegate=null,f;var k=S.arg;return k?k.done?(y[x.resultName]=k.value,y.next=x.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):k:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function A(x){var y={tryLoc:x[0]};1 in x&&(y.catchLoc=x[1]),2 in x&&(y.finallyLoc=x[2],y.afterLoc=x[3]),this.tryEntries.push(y)}function T(x){var y=x.completion||{};y.type="normal",delete y.arg,x.completion=y}function C(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function L(x){if(x){var y=x[a];if(y)return y.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var w=-1,M=function S(){for(;++w<x.length;)if(r.call(x,w))return S.value=x[w],S.done=!1,S;return S.value=void 0,S.done=!0,S};return M.next=M}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(x){var y=typeof x=="function"&&x.constructor;return!!y&&(y===d||(y.displayName||y.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,c(x,s,"GeneratorFunction")),x.prototype=Object.create(b),x},t.awrap=function(x){return{__await:x}},_(O.prototype),c(O.prototype,o,function(){return this}),t.AsyncIterator=O,t.async=function(x,y,w,M,S){S===void 0&&(S=Promise);var k=new O(l(x,y,w,M),S);return t.isGeneratorFunction(y)?k:k.next().then(function(I){return I.done?I.value:k.next()})},_(b),c(b,s,"Generator"),c(b,a,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),t.keys=function(x){var y=Object(x),w=[];for(var M in y)w.push(M);return w.reverse(),function S(){for(;w.length;){var k=w.pop();if(k in y)return S.value=k,S.done=!1,S}return S.done=!0,S}},t.values=L,C.prototype={constructor:C,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!x)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var y=this;function w(F,X){return k.type="throw",k.arg=x,y.next=F,X&&(y.method="next",y.arg=void 0),!!X}for(var M=this.tryEntries.length-1;M>=0;--M){var S=this.tryEntries[M],k=S.completion;if(S.tryLoc==="root")return w("end");if(S.tryLoc<=this.prev){var I=r.call(S,"catchLoc"),j=r.call(S,"finallyLoc");if(I&&j){if(this.prev<S.catchLoc)return w(S.catchLoc,!0);if(this.prev<S.finallyLoc)return w(S.finallyLoc)}else if(I){if(this.prev<S.catchLoc)return w(S.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return w(S.finallyLoc)}}}},abrupt:function(x,y){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var S=M;break}}S&&(x==="break"||x==="continue")&&S.tryLoc<=y&&y<=S.finallyLoc&&(S=null);var k=S?S.completion:{};return k.type=x,k.arg=y,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(k)},complete:function(x,y){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&y&&(this.next=y),f},finish:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===x)return this.complete(w.completion,w.afterLoc),T(w),f}},catch:function(x){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===x){var M=w.completion;if(M.type==="throw"){var S=M.arg;T(w)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(x,y,w){return this.delegate={iterator:L(x),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},t}function Ib(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(n,i)}function Db(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(c){Ib(a,n,i,o,s,"next",c)}function s(c){Ib(a,n,i,o,s,"throw",c)}o(void 0)})}}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},up.apply(this,arguments)}function F4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fp(t,e)}function fp(t,e){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fp(t,e)}var jb=function(){function t(r){this.dragndropPluginOptions=void 0,this.dragndropPluginOptions=r}var e=t.prototype;return e.apply=function(n){var i=this,a=n.renderingService,o=n.renderingContext,s=o.root.ownerDocument,c=s.defaultView,l=function(f){var h=f.target,d=h===s,p=d&&i.dragndropPluginOptions.isDocumentDraggable?s:h.closest&&h.closest("[draggable=true]");if(p){var v=!1,g=f.timeStamp,m=[f.clientX,f.clientY],b=null,_=[f.clientX,f.clientY],O=function(){var P=Db(Ac().mark(function A(T){var C,L,N,x,y,w;return Ac().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(v){S.next=8;break}if(C=T.timeStamp-g,L=Ot([T.clientX,T.clientY],m),!(C<=i.dragndropPluginOptions.dragstartTimeThreshold||L<=i.dragndropPluginOptions.dragstartDistanceThreshold)){S.next=5;break}return S.abrupt("return");case 5:T.type="dragstart",p.dispatchEvent(T),v=!0;case 8:if(T.type="drag",T.dx=T.clientX-_[0],T.dy=T.clientY-_[1],p.dispatchEvent(T),_=[T.clientX,T.clientY],d){S.next=21;break}return N=i.dragndropPluginOptions.overlap==="pointer"?[T.canvasX,T.canvasY]:h.getBounds().center,S.next=17,s.elementsFromPoint(N[0],N[1]);case 17:x=S.sent,y=x[x.indexOf(h)+1],w=(y==null?void 0:y.closest("[droppable=true]"))||(i.dragndropPluginOptions.isDocumentDroppable?s:null),b!==w&&(b&&(T.type="dragleave",T.target=b,b.dispatchEvent(T)),w&&(T.type="dragenter",T.target=w,w.dispatchEvent(T)),b=w,b&&(T.type="dragover",T.target=b,b.dispatchEvent(T)));case 21:case"end":return S.stop()}},A)}));return function(T){return P.apply(this,arguments)}}();c.addEventListener("pointermove",O);var E=function(A){if(v){A.detail={preventClick:!0};var T=A.clone();b&&(T.type="drop",T.target=b,b.dispatchEvent(T)),T.type="dragend",p.dispatchEvent(T),v=!1}c.removeEventListener("pointermove",O)};h.addEventListener("pointerup",E,{once:!0}),h.addEventListener("pointerupoutside",E,{once:!0})}};a.hooks.init.tapPromise(t.tag,Db(Ac().mark(function u(){return Ac().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:c.addEventListener("pointerdown",l);case 1:case"end":return h.stop()}},u)}))),a.hooks.destroy.tap(t.tag,function(){c.removeEventListener("pointerdown",l)})},t}();jb.tag="Dragndrop";var Bb=function(t){F4(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this)||this,i.options=void 0,i.name="dragndrop",i.options=n,i}var r=e.prototype;return r.init=function(){this.addRenderingPlugin(new jb(up({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},r.destroy=function(){this.removeAllRenderingPlugins()},r.setOptions=function(i){Object.assign(this.plugins[0].dragndropPluginOptions,i)},e}(Ma),z4={}.toString,G4=function(t,e){return z4.call(t)==="[object "+e+"]"},kc=G4,hp=function(t){return kc(t,"Function")},Uu=function(t){return Array.isArray?Array.isArray(t):kc(t,"Array")},$4=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function W4(t,e){if(!!t){var r;if(Uu(t))for(var n=0,i=t.length;n<i&&(r=e(t[n],n),r!==!1);n++);else if($4(t)){for(var a in t)if(t.hasOwnProperty(a)&&(r=e(t[a],a),r===!1))break}}}var dp=W4,NQ=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return dp(t,function(r,n){hp(t)&&n==="prototype"||e.push(n)}),e},RQ=null;function IQ(t,e){var r=keys(e),n=r.length;if(isNil(t))return!n;for(var i=0;i<n;i+=1){var a=r[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var DQ=null,Y4=function(t){return typeof t=="object"&&t!==null},pp=Y4,H4=function(t){if(!pp(t)||!kc(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},vp=H4;function jQ(t,e){if(!isArray(t))return null;var r;if(isFunction(e)&&(r=e),isPlainObject(e)&&(r=function(i){return isMatch(i,e)}),r){for(var n=0;n<t.length;n+=1)if(r(t[n]))return t[n]}return null}var BQ=null,FQ=function(t,e){for(var r=null,n=0;n<t.length;n++){var i=t[n],a=i[e];if(!isNil(a)){isArray(a)?r=a[0]:r=a;break}}return r},zQ=null,GQ=function(t){if(!isArray(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e},$Q=null,V4=function(t,e){if(e===void 0&&(e=[]),!isArray(t))e.push(t);else for(var r=0;r<t.length;r+=1)V4(t[r],e);return e},WQ=null,YQ=function(t){if(!!isArray(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},HQ=function(t){if(!!isArray(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},VQ=function(t){var e=t.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if(isArray(t[0])){for(var r=[],n=0;n<t.length;n++)r=r.concat(t[n]);e=r}var i=getMax(e),a=getMin(e);return{min:a,max:i}},XQ=null,Fb=Array.prototype,X4=Fb.splice,q4=Fb.indexOf,qQ=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n++)for(var i=e[n],a=-1;(a=q4.call(t,i))>-1;)X4.call(t,a,1);return t},UQ=null,U4=Array.prototype.splice,KQ=function(e,r){if(!isArrayLike(e))return[];for(var n=e?r.length:0,i=n-1;n--;){var a=void 0,o=r[n];(n===i||o!==a)&&(a=o,U4.call(e,o,1))}return e},ZQ=null,K4=function(t,e,r){if(!Uu(t)&&!vp(t))return t;var n=r;return dp(t,function(i,a){n=e(n,i,a)}),n},Z4=K4,QQ=function(t,e){var r=[];if(!isArrayLike(t))return r;for(var n=-1,i=[],a=t.length;++n<a;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return pullAt(t,i),r},JQ=null,gp=function(t){return kc(t,"String")};function tJ(t,e){var r;if(isFunction(e))r=function(i,a){return e(i)-e(a)};else{var n=[];isString(e)?n.push(e):isArray(e)&&(n=e),r=function(i,a){for(var o=0;o<n.length;o+=1){var s=n[o];if(i[s]>a[s])return 1;if(i[s]<a[s])return-1}return 0}}return t.sort(r),t}var eJ=null,nJ=function(t,e){for(var r=[],n={},i=0;i<t.length;i++){var a=t[i],o=a[e];if(!isNil(o)){isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var c=o[s];n[c]||(r.push(c),n[c]=!0)}}}return r};function rJ(t,e){return isArray(t)||isString(t)?t[0]===e:!1}var iJ=null;function aJ(t,e){return isArray(t)||isString(t)?t[t.length-1]===e:!1}var oJ=null,Q4=Object.prototype.hasOwnProperty;function sJ(t,e){if(!e||!isArray(t))return{};for(var r={},n=isFunction(e)?e:function(s){return s[e]},i,a=0;a<t.length;a++){var o=t[a];i=n(o),Q4.call(r,i)?r[i].push(o):r[i]=[o]}return r}var cJ=null;function lJ(t,e){if(!e)return{0:t};if(!isFunction(e)){var r=isArray(e)?e:e.replace(/\s+/g,"").split("*");e=function(n){for(var i="_",a=0,o=r.length;a<o;a++)i+=n[r[a]]&&n[r[a]].toString();return i}}return groupBy(t,e)}var uJ=function(t,e){if(!e)return[t];var r=groupToMap(t,e),n=[];for(var i in r)n.push(r[i]);return n},zb={};function fJ(t){var e=zb[t];if(!e){for(var r=t.toString(16),n=r.length;n<6;n++)r="0"+r;e="#"+r,zb[t]=e}return e}var hJ=null;function dJ(t){var e=0,r=0,n=0,i=0;return isArray(t)?t.length===1?e=r=n=i=t[0]:t.length===2?(e=n=t[0],r=i=t[1]):t.length===3?(e=t[0],r=i=t[1],n=t[2]):(e=t[0],r=t[1],n=t[2],i=t[3]):e=r=n=i=t,{r1:e,r2:r,r3:n,r4:i}}var pJ=null,J4=function(t){return kc(t,"Number")},rs=J4,vJ=function(t){return isNumber(t)&&t%1!==0},gJ=null,mJ=function(t){return isNumber(t)&&t%2===0},yJ=null,bJ=Number.isInteger?Number.isInteger:function(t){return rs(t)&&t%1===0},xJ=null,_J=function(t){return isNumber(t)&&t<0},wJ=null,OJ=function(t){return isNumber(t)&&t%2!==0},SJ=null,EJ=function(t){return isNumber(t)&&t>0},MJ=null,PJ=function(t,e){if(!!isArray(t)){for(var r,n=-1/0,i=0;i<t.length;i++){var a=t[i],o=isFunction(e)?e(a):a[e];o>n&&(r=a,n=o)}return r}},AJ=function(t,e){if(!!isArray(t)){for(var r,n=1/0,i=0;i<t.length;i++){var a=t[i],o=isFunction(e)?e(a):a[e];o<n&&(r=a,n=o)}return r}},tR=180/Math.PI,kJ=function(t){return tR*t},TJ=null,LJ=parseInt,eR=Math.PI/180,CJ=function(t){return eR*t},NJ=null,RJ=null,nR=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return dp(t,function(r,n){hp(t)&&n==="prototype"||e.push(r)}),e},rR=nR,IJ=function(t,e){return contains(values(t),e)},iR=function(t){return t==null},Gb=iR,$b=function(t){return Gb(t)?"":t.toString()},aR=function(t){var e=$b(t);return e.charAt(0).toLowerCase()+e.substring(1)},Wb=aR,oR=function(t){var e=$b(t);return e.charAt(0).toUpperCase()+e.substring(1)},Tc=oR,sR={}.toString,DJ=function(t){return sR.call(t).replace(/^\[object /,"").replace(/]$/,"")},jJ=null,BJ=function(t){return isType(t,"Arguments")},FJ=null,zJ=function(t){return isType(t,"Boolean")},GJ=null,$J=function(t){return isType(t,"Date")},WJ=null,YJ=function(t){return isType(t,"Error")},HJ=null;function VJ(t){return isNumber(t)&&isFinite(t)}var cR=function(t){return t===null},lR=cR,uR=Object.prototype,XJ=function(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uR;return t===r},qJ=null,UJ=function(t){return isType(t,"RegExp")},KJ=null,fR=function(t){return t===void 0},hR=fR,ZJ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],n=1;n<t.length;n++){var i=t[n];isFunction(i)&&(i=i.prototype),mix(r.prototype,i)}},QJ=null,Yb=function(t){if(typeof t!="object"||t===null)return t;var e;if(isArray(t)){e=[];for(var r=0,n=t.length;r<n;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=Yb(t[r]):e[r]=t[r]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=Yb(t[i]):e[i]=t[i]}return e},JJ=null;function dR(t,e,r){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||t.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,e),s&&t.apply(i,a)}}var pR=dR,vR=function(t,e){if(!hp(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return o.set(a,s),s};return r.cache=new Map,r},gR=5;function Hb(t,e,r,n){r=r||0,n=n||gR;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];a!==null&&vp(a)?(vp(t[i])||(t[i]={}),r<n?Hb(t[i],a,r+1,n):t[i]=e[i]):Uu(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var mR=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)Hb(t,e[n]);return t},bt=mR,ttt=function(t,e,r,n){isFunction(e)||(r=e,e=t,t=function(){});var i=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function c(){}c.prototype=o;var l=new c;return l.constructor=s,l},a=i(e.prototype,t);return t.prototype=mix(a,t.prototype),t.superclass=i(e.prototype,e),mix(a,r),mix(t,n),t},ett=null,yR=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},Ku=yR,bR=function(t,e){if(!Ku(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var n=-1,i=0;i<t.length;i++)if(t[i]===e){n=i;break}return n},Vb=bR,xR=Object.prototype.hasOwnProperty;function ntt(t){if(isNil(t))return!0;if(isArrayLike(t))return!t.length;var e=getType(t);if(e==="Map"||e==="Set")return!t.size;if(isPrototype(t))return!Object.keys(t).length;for(var r in t)if(xR.call(t,r))return!1;return!0}var rtt=null,mp=function(t,e){if(t===e)return!0;if(!t||!e||gp(t)||gp(e))return!1;if(Ku(t)||Ku(e)){if(t.length!==e.length)return!1;for(var r=!0,n=0;n<t.length&&(r=mp(t[n],e[n]),!!r);n++);return r}if(pp(t)||pp(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var r=!0,n=0;n<i.length&&(r=mp(t[i[n]],e[i[n]]),!!r);n++);return r}return!1},_R=mp,itt=function(t,e,r){return isFunction(r)?!!r(t,e):isEqual(t,e)},att=function(t,e,r){for(var n=0,i=isString(e)?e.split("."):e;t&&n<i.length;)t=t[i[n++]];return t===void 0||n<i.length?r:t},ott=function(t,e,r){var n=t,i=isString(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(isObject(n[a])||(n[a]=isNumber(i[o+1])?[]:{}),n=n[a]):n[a]=r}),t},wR=Object.prototype.hasOwnProperty,stt=function(t,e){if(t===null||!isPlainObject(t))return{};var r={};return each(e,function(n){wR.call(t,n)&&(r[n]=t[n])}),r},OR=function(t,e){return Z4(t,function(r,n,i){return e.includes(i)||(r[i]=n),r},{})},Lc=function(t,e,r){var n,i,a,o,s=0;r||(r={});var c=function(){s=r.leading===!1?0:Date.now(),n=null,o=t.apply(i,a),n||(i=a=null)},l=function(){var u=Date.now();!s&&r.leading===!1&&(s=u);var f=e-(u-s);return i=this,a=arguments,f<=0||f>e?(n&&(clearTimeout(n),n=null),s=u,o=t.apply(i,a),n||(i=a=null)):!n&&r.trailing!==!1&&(n=setTimeout(c,f)),o};return l.cancel=function(){clearTimeout(n),s=0,n=i=a=null},l},Zu={},ctt=function(t){return t=t||"g",Zu[t]?Zu[t]+=1:Zu[t]=1,t+Zu[t]},La=function(t){return t};function Xb(t){return Gb(t)?0:Ku(t)?t.length:Object.keys(t).length}var Qu,ltt=vR(function(t,e){e===void 0&&(e={});var r=e.fontSize,n=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return Qu||(Qu=document.createElement("canvas").getContext("2d")),Qu.font=[a,o,i,r+"px",n].join(" "),Qu.measureText(gp(t)?t:"").width},function(t,e){return e===void 0&&(e={}),Fi([t],rR(e)).join("")}),utt=function(t,e,r,n){n===void 0&&(n="...");var i=16,a=measureTextWidth(n,r),o=isString(t)?t:toString(t),s=e,c=[],l,u;if(measureTextWidth(t,r)<=e)return t;for(;l=o.substr(0,i),u=measureTextWidth(l,r),!(u+a>s&&u>s);)if(c.push(l),s-=u,o=o.substr(i),!o)return c.join("");for(;l=o.substr(0,1),u=measureTextWidth(l,r),!(u+a>s);)if(c.push(l),s-=u,o=o.substr(1),!o)return c.join("");return""+c.join("")+n},ftt=function(){function t(){this.map={}}return t.prototype.has=function(e){return this.map[e]!==void 0},t.prototype.get=function(e,r){var n=this.map[e];return n===void 0?r:n},t.prototype.set=function(e,r){this.map[e]=r},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(e){delete this.map[e]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),htt=null,SR="*",ER=function(){function t(){this._events={}}return t.prototype.on=function(e,r,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:r,once:!!n}),this},t.prototype.once=function(e,r){return this.on(e,r,!0)},t.prototype.emit=function(e){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[e]||[],o=this._events[SR]||[],s=function(c){for(var l=c.length,u=0;u<l;u++)if(!!c[u]){var f=c[u],h=f.callback,d=f.once;d&&(c.splice(u,1),c.length===0&&delete r._events[e],l--,u--),h.apply(r,n)}};s(a),s(o)},t.prototype.off=function(e,r){if(!e)this._events={};else if(!r)delete this._events[e];else{for(var n=this._events[e]||[],i=n.length,a=0;a<i;a++)n[a].callback===r&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[e]}return this},t.prototype.getEvents=function(){return this._events},t}(),qb=ER;const Ub=()=>[["cartesian"]];Ub.props={};const Kb=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Cc=t=>{const{startAngle:e,endAngle:r,innerRadius:n,outerRadius:i}=Kb(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,r,n,i]]};Cc.props={};const Zb=({startAngle:t=0,endAngle:e=Math.PI*6,innerRadius:r=0,outerRadius:n=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,e,r,n]];Zb.props={};const yp=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];yp.props={transform:!0};const MR=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Qb=t=>{const{startAngle:e,endAngle:r,innerRadius:n,outerRadius:i}=MR(t);return[...yp(),...Cc({startAngle:e,endAngle:r,innerRadius:n,outerRadius:i})]};Qb.props={};const Jb=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},t2=t=>{const{startAngle:e,endAngle:r,innerRadius:n,outerRadius:i}=Jb(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Cc({startAngle:e,endAngle:r,innerRadius:n,outerRadius:i})]};t2.props={};const bp=()=>[["parallel",0,1,0,1]];bp.props={};const e2=({focusX:t=0,focusY:e=0,distortionX:r=2,distortionY:n=2,isVisual:i=!1})=>[["fisheye",t,e,r,n,i]];e2.props={transform:!0};const n2=t=>{const{startAngle:e=-Math.PI/2,endAngle:r=Math.PI*3/2,innerRadius:n=0,outerRadius:i=1}=t;return[...bp(),...Cc({startAngle:e,endAngle:r,innerRadius:n,outerRadius:i})]};n2.props={};const r2=({value:t})=>e=>e.map(()=>t);r2.props={};const i2=({value:t})=>e=>e.map(t);i2.props={};const a2=({value:t})=>e=>e.map(r=>r[t]);a2.props={};const o2=({value:t})=>()=>t;o2.props={};var xp=xt(9522);function Ju(t){return t==null?null:s2(t)}function s2(t){if(typeof t!="function")throw new Error;return t}var PR=xt(93275);function AR(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function kR(){return this.eachAfter(AR)}function TR(t,e){var r=-1,n=xp(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;t.call(e,a,++r,this)}}catch(o){n.e(o)}finally{n.f()}return this}function LR(t,e){for(var r=this,n=[r],i,a,o=-1;r=n.pop();)if(t.call(e,r,++o,this),i=r.children)for(a=i.length-1;a>=0;--a)n.push(i[a]);return this}function CR(t,e){for(var r=this,n=[r],i=[],a,o,s,c=-1;r=n.pop();)if(i.push(r),a=r.children)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;r=i.pop();)t.call(e,r,++c,this);return this}function NR(t,e){var r=-1,n=xp(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(t.call(e,a,++r,this))return a}}catch(o){n.e(o)}finally{n.f()}}function RR(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function IR(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function DR(t){for(var e=this,r=jR(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n}function jR(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;for(t=r.pop(),e=n.pop();t===e;)i=t,t=r.pop(),e=n.pop();return i}function BR(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function FR(){return Array.from(this)}function zR(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function GR(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}var c2=xt(35290),$R=c2().mark(l2);function l2(){var t,e,r,n,i,a;return c2().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=this,r=[t];case 1:e=r.reverse(),r=[];case 2:if(!(t=e.pop())){s.next=8;break}return s.next=5,t;case 5:if(n=t.children)for(i=0,a=n.length;i<a;++i)r.push(n[i]);s.next=2;break;case 8:if(r.length){s.next=1;break}case 9:case"end":return s.stop()}},$R,this)}function Nc(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=HR)):e===void 0&&(e=YR);for(var r=new is(t),n,i=[r],a,o,s,c;n=i.pop();)if((o=e(n.data))&&(c=(o=Array.from(o)).length))for(n.children=o,s=c-1;s>=0;--s)i.push(a=o[s]=new is(o[s])),a.parent=n,a.depth=n.depth+1;return r.eachBefore(u2)}function WR(){return Nc(this).eachBefore(VR)}function YR(t){return t.children}function HR(t){return Array.isArray(t)?t[1]:null}function VR(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function u2(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function is(t){this.data=t,this.depth=this.height=0,this.parent=null}is.prototype=Nc.prototype=PR({constructor:is,count:kR,each:TR,eachAfter:CR,eachBefore:LR,find:NR,sum:RR,sort:IR,path:DR,ancestors:BR,descendants:FR,leaves:zR,links:GR,copy:WR},Symbol.iterator,l2);var XR={depth:-1},f2={},_p={};function qR(t){return t.id}function UR(t){return t.parentId}function wp(){var t=qR,e=UR,r;function n(i){var a=Array.from(i),o=t,s=e,c,l,u,f,h,d,p,v,g=new Map;if(r!=null){var m=a.map(function(T,C){return KR(r(T,C,i))}),b=m.map(h2),_=new Set(m).add(""),O=xp(b),E;try{for(O.s();!(E=O.n()).done;){var P=E.value;_.has(P)||(_.add(P),m.push(P),b.push(h2(P)),a.push(_p))}}catch(T){O.e(T)}finally{O.f()}o=function(C,L){return m[L]},s=function(C,L){return b[L]}}for(u=0,c=a.length;u<c;++u)l=a[u],d=a[u]=new is(l),(p=o(l,u,i))!=null&&(p+="")&&(v=d.id=p,g.set(v,g.has(v)?f2:d)),(p=s(l,u,i))!=null&&(p+="")&&(d.parent=p);for(u=0;u<c;++u)if(d=a[u],p=d.parent){if(h=g.get(p),!h)throw new Error("missing: "+p);if(h===f2)throw new Error("ambiguous: "+p);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(r!=null){for(;f.data===_p&&f.children.length===1;)f=f.children[0],--c;for(var A=a.length-1;A>=0&&(d=a[A],d.data===_p);--A)d.data=null}if(f.parent=XR,f.eachBefore(function(T){T.depth=T.parent.depth+1,--c}).eachBefore(u2),f.parent=null,c>0)throw new Error("cycle");return f}return n.id=function(i){return arguments.length?(t=Ju(i),n):t},n.parentId=function(i){return arguments.length?(e=Ju(i),n):e},n.path=function(i){return arguments.length?(r=Ju(i),n):r},n}function KR(t){t="".concat(t);var e=t.length;return Op(t,e-1)&&!Op(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:"/".concat(t)}function h2(t){var e=t.length;if(e<2)return"";for(;--e>1&&!Op(t,e););return t.slice(0,e)}function Op(t,e){if(t[e]==="/"){for(var r=0;e>0&&t[--e]==="\\";)++r;if((r&1)===0)return!0}return!1}function d2(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Tr(t={}){return[...d2(t),{name:"title",scale:"identity"}]}function xo(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["x","y"]}]}function Rc(){return[{type:"maybeTitle",channel:"x"},{type:"maybeTooltip",channel:["y"]}]}function ZR(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["position"]}]}function as(t={}){return d2(t)}function kn(){return[]}function Dn(){return[{type:"maybeKey"}]}function Sp(t,e){return t.getBandWidth(t.invert(e))}function Ic(t,e,r={}){const{x:n,y:i,series:a}=e,{x:o,y:s,series:c}=t,{style:{bandOffset:l=c?0:.5,bandOffsetX:u=l,bandOffsetY:f=l}={}}=r,h=!!(o!=null&&o.getBandWidth),d=!!(s!=null&&s.getBandWidth),p=!!(c!=null&&c.getBandWidth);return!h&&!d?v=>v:(v,g)=>{const m=h?Sp(o,n[g]):0,b=d?Sp(s,i[g]):0,O=p&&a?(()=>(Sp(c,a[g])/2+ +a[g])*m)():0,[E,P]=v;return[E+u*m+O,P+f*b]}}function p2(t){return parseFloat(t)/100}function tf(t,e,r,n){const{x:i,y:a}=r,{width:o,height:s}=n.getOptions(),c=Array.from(t,l=>{const u=i[l],f=a[l],h=typeof u=="string"?p2(u)*o:+u,d=typeof f=="string"?p2(f)*s:+f;return[[h,d]]});return[t,c]}function Ep(t){return typeof t=="function"?t:e=>e[t]}function Mp(t,e){return Array.from(t,Ep(e))}function v2(t,e){const{source:r=u=>u.source,target:n=u=>u.target,value:i=u=>u.value}=e,{links:a,nodes:o}=t,s=Mp(a,r),c=Mp(a,n),l=Mp(a,i);return{links:a.map((u,f)=>({target:c[f],source:s[f],value:l[f]})),nodes:o||Array.from(new Set([...s,...c]),u=>({key:u}))}}function QR(t,e){return Array.isArray(t)?typeof e=="function"?wp().path(e)(t):wp()(t):Nc(t)}function g2(t,e){return t.getBandWidth(t.invert(e))}const m2=()=>(t,e,r,n)=>{const{x:i,y:a,y1:o,series:s,size:c}=r,l=e.x,u=e.series,[f]=n.getSize(),h=c?c.map(v=>+v/f):null,d=c?(v,g,m)=>{const b=v+g/2,_=h[m];return[b-_/2,b+_/2]}:(v,g,m)=>[v,v+g],p=Array.from(t,v=>{const g=g2(l,i[v]),m=u?g2(u,s==null?void 0:s[v]):1,b=g*m,_=(+(s==null?void 0:s[v])||0)*g,O=+i[v]+_,[E,P]=d(O,b,v),A=+a[v],T=+o[v];return[[E,A],[P,A],[P,T],[E,T]].map(y=>n.map(y))});return[t,p]},JR=["rect","hollow","funnel","pyramid"];m2.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:JR}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...kn(),{type:"maybeZeroY1"},{type:"maybeZeroX"}],postInference:[...Dn(),...Rc()],interaction:{shareTooltip:!0}};const y2=()=>(t,e,r,n)=>{const{x:i,x1:a,y:o,y1:s}=r,c=Array.from(t,l=>{const u=[+i[l],+o[l]],f=[+a[l],+o[l]],h=[+a[l],+s[l]],d=[+i[l],+s[l]];return[u,f,h,d].map(p=>n.map(p))});return[t,c]},tI=["rect","hollow"];y2.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:tI}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn(),{type:"maybeZeroY1"}],postInference:[...Dn(),...Rc()],interaction:{shareTooltip:!0}};class eI extends Map{constructor(e,r=_2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Pp(this,e))}has(e){return super.has(Pp(this,e))}set(e,r){return super.set(b2(this,e),r)}delete(e){return super.delete(x2(this,e))}}class dtt extends Set{constructor(e,r=_2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const n of e)this.add(n)}has(e){return super.has(Pp(this,e))}add(e){return super.add(b2(this,e))}delete(e){return super.delete(x2(this,e))}}function Pp({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function b2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function x2({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _2(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ef(t){return t}function nn(t,...e){return os(t,ef,ef,e)}function nI(t,...e){return os(t,Array.from,identity,e)}function w2(t,e){for(let r=1,n=e.length;r<n;++r)t=t.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return t}function ptt(t,...e){return w2(nI(t,...e),e)}function vtt(t,e,...r){return w2(kp(t,e,...r),r)}function Ap(t,e,...r){return os(t,ef,e,r)}function kp(t,e,...r){return os(t,Array.from,e,r)}function gtt(t,...e){return os(t,identity,O2,e)}function mtt(t,...e){return os(t,Array.from,O2,e)}function O2(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function os(t,e,r,n){return function i(a,o){if(o>=n.length)return r(a);const s=new eI,c=n[o++];let l=-1;for(const u of a){const f=c(u,++l,a),h=s.get(f);h?h.push(u):s.set(f,[u])}for(const[u,f]of s)s.set(u,i(f,o));return e(s)}(t,0)}function Vn(t){const{transformations:e}=t.getOptions();return e.map(([n])=>n).filter(n=>n==="transpose").length%2!==0}function vn(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="polar")}function Dc(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="reflect")&&e.some(([r])=>r.startsWith("transpose"))}function S2(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="helix")}function jc(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="parallel")}function E2(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="fisheye")}function rI(t){return jc(t)&&vn(t)}function ss(t){return S2(t)||vn(t)}function M2(t){return vn(t)&&Vn(t)}function ytt(t){return vn(t)||jc(t)||Dc(t)||M2(t)}function iI(t){if(ss(t)){const[e,r]=t.getSize(),n=t.getOptions().transformations.find(i=>i[0]==="polar");if(n)return Math.max(e,r)/2*n[4]}return 0}function nf(t){const{transformations:e}=t.getOptions(),[,,,r,n]=e.find(i=>i[0]==="polar");return[+r,+n]}function Tp(t){const{transformations:e}=t.getOptions(),[,r,n]=e.find(i=>i[0]==="polar");return[+r*180/Math.PI,+n*180/Math.PI]}const aI=(t,e,r,n)=>{var i,a;const{series:o,x:s,y:c}=r,{x:l,y:u}=e;if(s===void 0||c===void 0)throw new Error("Missing encode for x or y channel.");const f=o?Array.from(nn(t,g=>o[g]).values()):[t],h=f.map(g=>g[0]),d=(((i=l==null?void 0:l.getBandWidth)===null||i===void 0?void 0:i.call(l))||0)/2,p=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=Array.from(f,g=>g.map(m=>n.map([+s[m]+d,+c[m]+p])));return[h,v,f]},oI=(t,e,r,n)=>{const i=Object.entries(r).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");const a=Array.from(t,o=>{const s=i.map(u=>+u[o]),c=n.map(s),l=[];for(let u=0;u<c.length;u+=2)l.push([c[u],c[u+1]]);return l});return[t,a]},P2=()=>(t,e,r,n)=>(jc(n)?oI:aI)(t,e,r,n),sI=["line","smooth"];P2.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:sI}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...kn(),{type:"maybeSeries"},{type:"maybeGradient"}],postInference:[...Dn(),...Rc(),...ZR()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const A2=t=>(e,r,n,i)=>{const{x:a,y:o,x1:s,y1:c,size:l,dx:u,dy:f}=n,[h,d]=i.getSize(),p=Ic(r,n,t),v=m=>{const b=+((u==null?void 0:u[m])||0),_=+((f==null?void 0:f[m])||0),O=s?(+a[m]+ +s[m])/2:+a[m],E=c?(+o[m]+ +c[m])/2:+o[m],P=O+b,A=E+_;return[P,A]},g=l?Array.from(e,m=>{const[b,_]=v(m),O=+l[m],E=O/h,P=O/d,A=[b-E,_-P],T=[b+E,_+P];return[i.map(p(A,m)),i.map(p(T,m))]}):Array.from(e,m=>[i.map(p(v(m),m))]);return[e,g]},cI=["hollow","hollowDiamond","hollowHexagon","hollowSquare","hollowTriangleDown","hollowTriangle","hollowBowtie","point","plus","diamond","square","triangle","hexagon","cross","bowtie","hyphen","line","tick","triangleDown"];A2.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:cI}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",scale:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...kn(),{type:"maybeZeroY"},{type:"maybeZeroX"}],postInference:[...Dn(),{type:"maybeSize"},...xo()]};const k2=t=>{const{cartesian:e=!1}=t;return e?tf:(r,n,i,a)=>{if(e)return tf(r,n,i,a);const{x:o,y:s}=i,c=Ic(n,i,t),l=Array.from(r,u=>{const f=[+o[u],+s[u]];return[a.map(c(f,u))]});return[r,l]}},lI=["text","badge"];k2.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:lI}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize"},{name:"rotate"}],preInference:[...kn(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...Dn(),...xo()]};const T2=()=>(t,e,r,n)=>{const{x:i,y:a}=r,o=e.x,s=e.y,c=Array.from(t,l=>{const u=o.getBandWidth(o.invert(+i[l])),f=s.getBandWidth(s.invert(+a[l])),h=+i[l],d=+a[l],p=[h,d],v=[h+u,d],g=[h+u,d+f],m=[h,d+f];return[p,v,g,m].map(b=>n.map(b))});return[t,c]},uI=["cell","hollow"];T2.props={defaultShape:"cell",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:uI}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...kn(),{type:"maybeZeroX"},{type:"maybeZeroY"},{type:"maybeZeroPadding"}],postInference:[...Dn(),...xo()]};const L2=()=>(t,e,r,n)=>{const{x:i,y:a,y1:o,series:s}=r,c=s?Array.from(nn(t,f=>s[f]).values()):[t],l=c.map(f=>f[0]),u=Array.from(c,f=>{const h=f.length,d=new Array(h*2);for(let p=0;p<f.length;p++){const v=f[p];d[p]=n.map([+i[v],+a[v]]),d[h+p]=n.map([+i[v],+o[v]])}return d});return[l,u,c]},fI=["area","smooth","hvh","hv","vh"];L2.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:fI}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...kn(),{type:"maybeSeries"},{type:"maybeZeroY1"},{type:"maybeZeroPadding"}],postInference:[...Dn(),...Rc()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Lp=t=>(e,r,n,i)=>{const{x:a,y:o,x1:s=a,y1:c=o}=n,l=Ic(r,n,t),u=e.map(f=>[i.map(l([+a[f],+o[f]],f)),i.map(l([+s[f],+c[f]],f))]);return[e,u]},hI=["link","arc","vhv","smooth"];Lp.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:hI}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn(),{type:"maybeIdentityY"},{type:"maybeIdentityX"}],postInference:[...Dn(),...xo()]};const C2=t=>{const{cartesian:e}=t;return e?tf:(r,n,i,a)=>{const{x:o,y:s}=i,c=Ic(n,i,t),l=Array.from(r,u=>{const f=[+o[u],+s[u]];return[a.map(c(f,u))]});return[r,l]}},dI=["image"];C2.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:dI}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...kn(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...Dn(),...xo()]};const N2=()=>(t,e,r,n)=>{const i=Object.entries(r).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(r).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=t.map(s=>{const c=[];for(let l=0;l<i.length;l++){const u=i[l][s];if(u===void 0)break;const f=a[l][s];c.push(n.map([+u,+f]))}return c});return[t,o]},pI=["polygon","ribbon"];N2.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:pI}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn()],postInference:[...Dn(),...xo()]};const R2=()=>(t,e,r,n)=>{const{x:i,y:a,y1:o,y2:s,y3:c,y4:l,series:u}=r,f=e.x,h=e.series,d=Array.from(t,p=>{const v=f.getBandWidth(f.invert(+i[p])),g=h?h.getBandWidth(h.invert(+(u==null?void 0:u[p]))):1,m=v*g,b=(+(u==null?void 0:u[p])||0)*v,_=+i[p]+b+m/2,[O,E,P,A,T]=[+a[p],+o[p],+s[p],+c[p],+l[p]];return[[_-m/2,T],[_+m/2,T],[_,T],[_,A],[_-m/2,A],[_+m/2,A],[_+m/2,E],[_-m/2,E],[_-m/2,P],[_+m/2,P],[_,E],[_,O],[_-m/2,O],[_+m/2,O]].map(L=>n.map(L))});return[t,d]};R2.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:["box"]}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...kn(),{type:"maybeZeroX"}],postInference:[...Dn(),...Rc()],interaction:{shareTooltip:!0}};const I2=()=>(t,e,r,n)=>{const{x:i,y:a,size:o,rotate:s}=r,[c,l]=n.getSize(),u=t.map(f=>{const h=+s[f]/180*Math.PI,d=+o[f],p=d/c,v=d/l,g=p*Math.cos(h),m=-v*Math.sin(h);return[n.map([+i[f]-g/2,+a[f]-m/2]),n.map([+i[f]+g/2,+a[f]+m/2])]});return[t,u]},vI=["vector"];I2.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:vI}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...kn()],postInference:[...Dn(),...xo()]};const D2=()=>(t,e,r,n)=>{const{y:i}=r,a=Array.from(t,o=>{const s=[0,i[o]],c=[1,i[o]];return[s,c].map(l=>n.map(l))});return[t,a]},gI=["line"];D2.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:gI}),{name:"y",required:!0}],preInference:[...kn(),{type:"maybeTupleY"}],postInference:[...Dn()]};const j2=()=>(t,e,r,n)=>{const{x:i}=r,a=Array.from(t,o=>{const s=[i[o],1],c=[i[o],0];return[s,c].map(l=>n.map(l))});return[t,a]},mI=["line"];j2.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:mI}),{name:"x",required:!0}],preInference:[...kn(),{type:"maybeTupleX"}],postInference:[...Dn()]};const B2=(...t)=>Lp(...t),yI=["connector"];B2.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:yI}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn()],postInference:[...Dn()]};function F2(t,e,r,n){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:a}=r;return o=>{var s;const c=((s=n.getBandWidth)===null||s===void 0?void 0:s.call(n,n.invert(+a[o])))||0;return[i[o],a[o]+c]}}function Cp(t={}){const{extendX:e=!1,extendY:r=!1}=t;return(n,i,a,o)=>{const s=F2("x",e,a,i.x),c=F2("y",r,a,i.y),l=Array.from(n,u=>{const[f,h]=s(u),[d,p]=c(u);return[[f,d],[h,d],[h,p],[f,p]].map(_=>o.map(_))});return[n,l]}}const z2=()=>Cp(),bI=["range"];z2.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:bI}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn()],postInference:[...Dn()]};const G2=()=>Cp({extendY:!0}),xI=["range"];G2.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:xI}),{name:"x",required:!0}],preInference:[...kn()],postInference:[...Dn()]};const $2=()=>Cp({extendX:!0}),_I=["range"];$2.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...as({shapes:_I}),{name:"y",required:!0}],preInference:[...kn()],postInference:[...Dn()]};function ni(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function wI(t){return t.target.depth}function OI(t){return t.depth}function SI(t,e){return e-1-t.height}function rf(t,e){return t.sourceLinks.length?t.depth:e-1}function EI(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ni(t.sourceLinks,wI)-1:0}function Qi(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function Zn(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function af(t){return function(){return t}}function W2(t,e){return of(t.source,e.source)||t.index-e.index}function Y2(t,e){return of(t.target,e.target)||t.index-e.index}function of(t,e){return t.y0-e.y0}function Np(t){return t.value}function MI(t){return t.index}function PI(t){return t.nodes}function AI(t){return t.links}function H2(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function V2({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function kI(){let t=0,e=0,r=1,n=1,i=24,a=8,o,s=MI,c=rf,l,u,f,h=PI,d=AI,p=6;function v(S){const k={nodes:h(S),links:d(S)};return g(k),m(k),b(k),_(k),P(k),V2(k),k}v.update=function(S){return V2(S),S},v.nodeId=function(S){return arguments.length?(s=typeof S=="function"?S:af(S),v):s},v.nodeAlign=function(S){return arguments.length?(c=typeof S=="function"?S:af(S),v):c},v.nodeDepth=function(S){return arguments.length?(l=S,v):l},v.nodeSort=function(S){return arguments.length?(u=S,v):u},v.nodeWidth=function(S){return arguments.length?(i=+S,v):i},v.nodePadding=function(S){return arguments.length?(a=o=+S,v):a},v.nodes=function(S){return arguments.length?(h=typeof S=="function"?S:af(S),v):h},v.links=function(S){return arguments.length?(d=typeof S=="function"?S:af(S),v):d},v.linkSort=function(S){return arguments.length?(f=S,v):f},v.size=function(S){return arguments.length?(t=e=0,r=+S[0],n=+S[1],v):[r-t,n-e]},v.extent=function(S){return arguments.length?(t=+S[0][0],r=+S[1][0],e=+S[0][1],n=+S[1][1],v):[[t,e],[r,n]]},v.iterations=function(S){return arguments.length?(p=+S,v):p};function g({nodes:S,links:k}){S.forEach((j,F)=>{j.index=F,j.sourceLinks=[],j.targetLinks=[]});const I=new Map(S.map(j=>[s(j),j]));if(k.forEach((j,F)=>{j.index=F;let{source:X,target:K}=j;typeof X!="object"&&(X=j.source=H2(I,X)),typeof K!="object"&&(K=j.target=H2(I,K)),X.sourceLinks.push(j),K.targetLinks.push(j)}),f!=null)for(const{sourceLinks:j,targetLinks:F}of S)j.sort(f),F.sort(f)}function m({nodes:S}){for(const k of S)k.value=k.fixedValue===void 0?Math.max(Qi(k.sourceLinks,Np),Qi(k.targetLinks,Np)):k.fixedValue}function b({nodes:S}){const k=S.length;let I=new Set(S),j=new Set,F=0;for(;I.size;){if(I.forEach(X=>{X.depth=F;for(const{target:K}of X.sourceLinks)j.add(K)}),++F>k)throw new Error("circular link");I=j,j=new Set}if(l){const X=Math.max(Zn(S,Q=>Q.depth)+1,0);let K;for(let Q=0;Q<S.length;Q++)K=S[Q],K.depth=l.call(null,K,X)}}function _({nodes:S}){const k=S.length;let I=new Set(S),j=new Set,F=0;for(;I.size;){if(I.forEach(X=>{X.height=F;for(const{source:K}of X.targetLinks)j.add(K)}),++F>k)throw new Error("circular link");I=j,j=new Set}}function O({nodes:S}){const k=Math.max(Zn(S,F=>F.depth)+1,0),I=(r-t-i)/(k-1),j=new Array(k).fill(0).map(()=>[]);for(const F of S){const X=Math.max(0,Math.min(k-1,Math.floor(c.call(null,F,k))));F.layer=X,F.x0=t+X*I,F.x1=F.x0+i,j[X]?j[X].push(F):j[X]=[F]}if(u)for(const F of j)F.sort(u);return j}function E(S){const k=ni(S,I=>(n-e-(I.length-1)*o)/Qi(I,Np));for(const I of S){let j=e;for(const F of I){F.y0=j,F.y1=j+F.value*k,j=F.y1+o;for(const X of F.sourceLinks)X.width=X.value*k}j=(n-j+o)/(I.length+1);for(let F=0;F<I.length;++F){const X=I[F];X.y0+=j*(F+1),X.y1+=j*(F+1)}y(I)}}function P(S){const k=O(S);o=Math.min(a,(n-e)/(Zn(k,I=>I.length)-1)),E(k);for(let I=0;I<p;++I){const j=Math.pow(.99,I),F=Math.max(1-j,(I+1)/p);T(k,j,F),A(k,j,F)}}function A(S,k,I){for(let j=1,F=S.length;j<F;++j){const X=S[j];for(const K of X){let Q=0,dt=0;for(const{source:Nt,value:ee}of K.targetLinks){const Yt=ee*(K.layer-Nt.layer);Q+=w(Nt,K)*Yt,dt+=Yt}if(!(dt>0))continue;const Ct=(Q/dt-K.y0)*k;K.y0+=Ct,K.y1+=Ct,x(K)}u===void 0&&X.sort(of),X.length&&C(X,I)}}function T(S,k,I){for(let j=S.length,F=j-2;F>=0;--F){const X=S[F];for(const K of X){let Q=0,dt=0;for(const{target:Nt,value:ee}of K.sourceLinks){const Yt=ee*(Nt.layer-K.layer);Q+=M(K,Nt)*Yt,dt+=Yt}if(!(dt>0))continue;const Ct=(Q/dt-K.y0)*k;K.y0+=Ct,K.y1+=Ct,x(K)}u===void 0&&X.sort(of),X.length&&C(X,I)}}function C(S,k){const I=S.length>>1,j=S[I];N(S,j.y0-o,I-1,k),L(S,j.y1+o,I+1,k),N(S,n,S.length-1,k),L(S,e,0,k)}function L(S,k,I,j){for(;I<S.length;++I){const F=S[I],X=(k-F.y0)*j;X>1e-6&&(F.y0+=X,F.y1+=X),k=F.y1+o}}function N(S,k,I,j){for(;I>=0;--I){const F=S[I],X=(F.y1-k)*j;X>1e-6&&(F.y0-=X,F.y1-=X),k=F.y0-o}}function x({sourceLinks:S,targetLinks:k}){if(f===void 0){for(const{source:{sourceLinks:I}}of k)I.sort(Y2);for(const{target:{targetLinks:I}}of S)I.sort(W2)}}function y(S){if(f===void 0)for(const{sourceLinks:k,targetLinks:I}of S)k.sort(Y2),I.sort(W2)}function w(S,k){let I=S.y0-(S.sourceLinks.length-1)*o/2;for(const{target:j,width:F}of S.sourceLinks){if(j===k)break;I+=F+o}for(const{source:j,width:F}of k.targetLinks){if(j===S)break;I-=F}return I}function M(S,k){let I=k.y0-(k.targetLinks.length-1)*o/2;for(const{source:j,width:F}of k.targetLinks){if(j===S)break;I+=F+o}for(const{target:j,width:F}of S.sourceLinks){if(j===k)break;I-=F}return I}return v}const TI={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},LI={left:OI,right:SI,center:EI,justify:rf};function CI(t){const e=typeof t;return e==="string"?LI[t]||rf:e==="function"?t:rf}const Rp=t=>e=>{const{nodeId:r,nodeSort:n,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:c,links:l,linkSort:u,iterations:f}=Object.assign({},TI,t),h=kI().nodeSort(n).linkSort(u).links(l).nodes(c).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(CI(i)).iterations(f).extent([[0,0],[1,1]]);typeof r=="function"&&h.nodeId(r);const d=h(e),{nodes:p,links:v}=d,g=p.map(b=>{const{x0:_,x1:O,y0:E,y1:P}=b;return Object.assign(Object.assign({},b),{x:[_,O,O,_],y:[E,E,P,P]})}),m=v.map(b=>{const{source:_,target:O}=b,E=_.x1,P=O.x0,A=b.width/2;return Object.assign(Object.assign({},b),{x:[E,E,P,P],y:[b.y0+A,b.y0-A,b.y1+A,b.y1-A]})});return{nodes:g,links:m}};Rp.props={};var NI=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})};function _o(t){return t}function btt(t){return t.reduce((e,r)=>(n,...i)=>r(e(n,...i),...i),_o)}function RI(t){return t.reduce((e,r)=>n=>NI(this,void 0,void 0,function*(){const i=yield e(n);return r(i)}),_o)}function X2(t){return t.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function sf(t=""){throw new Error(t)}function q2(t,e){const{attributes:r}=e,n=new Set(["id","className"]);for(const[i,a]of Object.entries(r))n.has(i)||t.attr(i,a)}function zn(t){return t!=null&&!Number.isNaN(t)}function xtt(t,e){return t+(e-t)*Math.random()}function II(t){const e=new Map;return r=>{if(e.has(r))return e.get(r);const n=t(r);return e.set(r,n),n}}function DI(t,e){const{transform:r}=t.style,n=r==="none"?"":r;t.style.transform=`${n} ${e}`.trimStart()}function Wt(t,e){return U2(t,e)||{}}function U2(t,e){const r=Object.entries(t||{}).filter(([n])=>n.startsWith(e)).map(([n,i])=>[Wb(n.replace(e,"").trim()),i]).filter(([n])=>!!n);return r.length===0?null:Object.fromEntries(r)}function _tt(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[`${e}${upperFirst(r)}`,n]))}function K2(t,e){if(t===void 0)return null;if(typeof t=="number")return t;const r=+t.replace("%","");return Number.isNaN(r)?null:r/100*e}function Bc(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}var jI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Z2=t=>{const e={nodeId:a=>a.key,nodeWidth:.02,nodePadding:.02},r={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},n={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:null}},i={textAlign:a=>a.x[0]<.5?"start":"end",position:a=>a.x[0]<.5?"right":"left",fontSize:10};return()=>{const{data:a,encode:o={},scale:s,style:c={},layout:l={},nodeLabels:u=[],linkLabels:f=[],animate:h={}}=t,{links:d,nodes:p}=v2(a,o),v=Wt(o,"node"),g=Wt(o,"link"),{key:m=C=>C.key,color:b=m}=v,{links:_,nodes:O}=Rp(Object.assign(Object.assign(Object.assign({},e),{nodeId:Ep(m)}),l))({links:d,nodes:p}),E=Wt(c,"label"),{text:P=m,spacing:A=5}=E,T=jI(E,["text","spacing"]);return[bt({},r,{data:O,encode:Object.assign(Object.assign({},v),{color:b}),scale:s,style:Wt(c,"node"),labels:[Object.assign(Object.assign(Object.assign({},i),{text:P,dx:C=>C.x[0]<.5?A:-A}),T),...u],animate:typeof h=="object"?Wt(h,"node"):h,axis:!1}),bt({},n,{data:_,encode:g,labels:f,style:Object.assign({fill:g.color?void 0:"#aaa"},Wt(c,"link")),animate:typeof h=="object"?Wt(h,"link"):h})]}};Z2.props={};const Q2=t=>(e,r,n,i)=>[e,e.map(()=>[[0,0]])],BI=["path","hollow"];Q2.props={defaultShape:"path",defaultLabelShape:"label",composite:!1,channels:[...Tr({shapes:BI}),{name:"d",scale:"identity"}],preInference:[...kn()],postInference:[...Dn()]};function FI(t,e,r,n,i){var a=t.children,o,s=a.length,c,l=new Array(s+1);for(l[0]=c=o=0;o<s;++o)l[o+1]=c+=a[o].value;u(0,s,t.value,e,r,n,i);function u(f,h,d,p,v,g,m){if(f>=h-1){var b=a[f];b.x0=p,b.y0=v,b.x1=g,b.y1=m;return}for(var _=l[f],O=d/2+_,E=f+1,P=h-1;E<P;){var A=E+P>>>1;l[A]<O?E=A+1:P=A}O-l[E-1]<l[E]-O&&f+1<E&&--E;var T=l[E]-_,C=d-T;if(g-p>m-v){var L=d?(p*C+g*T)/d:g;u(f,E,T,p,v,L,m),u(E,h,C,L,v,g,m)}else{var N=d?(v*C+m*T)/d:m;u(f,E,T,p,v,g,N),u(E,h,C,p,N,g,m)}}}function cf(t,e,r,n,i){for(var a=t.children,o,s=-1,c=a.length,l=t.value&&(n-e)/t.value;++s<c;)o=a[s],o.y0=r,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function lf(t,e,r,n,i){for(var a=t.children,o,s=-1,c=a.length,l=t.value&&(i-r)/t.value;++s<c;)o=a[s],o.x0=e,o.x1=n,o.y0=r,o.y1=r+=o.value*l}function zI(t,e,r,n,i){(t.depth&1?lf:cf)(t,e,r,n,i)}var J2=(1+Math.sqrt(5))/2;function tx(t,e,r,n,i,a){for(var o=[],s=e.children,c,l,u=0,f=0,h=s.length,d,p,v=e.value,g,m,b,_,O,E,P;u<h;){d=i-r,p=a-n;do g=s[f++].value;while(!g&&f<h);for(m=b=g,E=Math.max(p/d,d/p)/(v*t),P=g*g*E,O=Math.max(b/P,P/m);f<h;++f){if(g+=l=s[f].value,l<m&&(m=l),l>b&&(b=l),P=g*g*E,_=Math.max(b/P,P/m),_>O){g-=l;break}O=_}o.push(c={value:g,dice:d<p,children:s.slice(u,f)}),c.dice?cf(c,r,n,i,v?n+=p*g/v:a):lf(c,r,n,v?r+=d*g/v:i,a),v-=g,u=f}return o}var ex=function t(e){function r(n,i,a,o,s){tx(e,n,i,a,o,s)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(J2),GI=function t(e){function r(n,i,a,o,s){if((c=n._squarify)&&c.ratio===e)for(var c,l,u,f,h=-1,d,p=c.length,v=n.value;++h<p;){for(l=c[h],u=l.children,f=l.value=0,d=u.length;f<d;++f)l.value+=u[f].value;l.dice?cf(l,i,a,o,v?a+=(s-a)*l.value/v:s):lf(l,i,a,v?i+=(o-i)*l.value/v:o,s),v-=l.value}else n._squarify=c=tx(e,n,i,a,o,s),c.ratio=e}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(J2);function $I(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function wo(){return 0}function cs(t){return function(){return t}}function WI(){var t=ex,e=!1,r=1,n=1,i=[0],a=wo,o=wo,s=wo,c=wo,l=wo;function u(h){return h.x0=h.y0=0,h.x1=r,h.y1=n,h.eachBefore(f),i=[0],e&&h.eachBefore($I),h}function f(h){var d=i[h.depth],p=h.x0+d,v=h.y0+d,g=h.x1-d,m=h.y1-d;g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),h.x0=p,h.y0=v,h.x1=g,h.y1=m,h.children&&(d=i[h.depth+1]=a(h)/2,p+=l(h)-d,v+=o(h)-d,g-=s(h)-d,m-=c(h)-d,g<p&&(p=g=(p+g)/2),m<v&&(v=m=(v+m)/2),t(h,p,v,g,m))}return u.round=function(h){return arguments.length?(e=!!h,u):e},u.size=function(h){return arguments.length?(r=+h[0],n=+h[1],u):[r,n]},u.tile=function(h){return arguments.length?(t=s2(h),u):t},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:cs(+h),u):a},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:cs(+h),u):o},u.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:cs(+h),u):s},u.paddingBottom=function(h){return arguments.length?(c=typeof h=="function"?h:cs(+h),u):c},u.paddingLeft=function(h){return arguments.length?(l=typeof h=="function"?h:cs(+h),u):l},u}const ls=t=>t?parseInt(t):0;function YI(t){const e=getComputedStyle(t),r=t.clientWidth||ls(e.width),n=t.clientHeight||ls(e.height),i=ls(e.paddingLeft)+ls(e.paddingRight),a=ls(e.paddingTop)+ls(e.paddingBottom);return{width:r-i,height:n-a}}function nx(t,e,r,n){if(!e)return{width:r,height:n};const i=YI(t);return{width:i.width,height:i.height}}function Ip(t){const{height:e,width:r,padding:n=0,paddingLeft:i=n,paddingRight:a=n,paddingTop:o=n,paddingBottom:s=n,margin:c=0,marginLeft:l=c,marginRight:u=c,marginTop:f=c,marginBottom:h=c,inset:d=0,insetLeft:p=d,insetRight:v=d,insetTop:g=d,insetBottom:m=d}=t,b=r-i-a-l-u-p-v,_=e-o-s-f-h-g-m;return{width:b,height:_}}var HI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function VI(t,e){const r={treemapBinary:FI,treemapDice:cf,treemapSlice:lf,treemapSliceDice:zI,treemapSquarify:ex,treemapResquarify:GI},n=t==="treemapSquarify"?r[t].ratio(e):r[t];if(!n)throw new TypeError("Invalid tile method!");return n}function XI(t,e,r){const{value:n}=r,i=VI(e.tile,e.ratio),a=QR(t,e.path);return n?a.sum(o=>e.ignoreParentValue&&o.children?0:o[n]).sort(e.sort):a.count(),WI().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(a),a.descendants().map(o=>Object.assign(o,{x:[o.x0,o.x1],y:[o.y0,o.y1]})).filter(typeof e.layer=="function"?e.layer:o=>o.height===e.layer)}const rx=t=>e=>{const{width:r,height:n}=Ip(e),{data:i,encode:a={},scale:o,style:s={},layout:c={},labels:l=[]}=t,u=HI(t,["data","encode","scale","style","layout","labels"]),f={tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[r,n],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(g,m)=>m.value-g.value,layer:0},h={type:"rect",axis:!1,encode:{x:"x",y:"y",color:g=>g.data.parent.name},scale:{x:{domain:[0,r],range:[0,1]},y:{domain:[0,n],range:[0,1]}},style:{stroke:"#fff"}},d={fontSize:10,text:g=>g.data.name,position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:g=>g.x1-g.x0},p=XI(i,bt({},f,c),a),v=Wt(s,"label");return[bt({},h,Object.assign(Object.assign({data:p,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},d),v),...l]},u),{axis:!1}))]};rx.props={};var qI=1664525,UI=1013904223,ix=4294967296;function KI(){var t=1;return function(){return(t=(qI*t+UI)%ix)/ix}}var ZI=xt(69946);function QI(t){return ZI(t)==="object"&&"length"in t?t:Array.from(t)}function JI(t,e){for(var r=t.length,n,i;r;)i=e()*r--|0,n=t[r],t[r]=t[i],t[i]=n;return t}function wtt(t){return ax(t,lcg())}function ax(t,e){for(var r=0,n=(t=JI(Array.from(t),e)).length,i=[],a,o;r<n;)a=t[r],o&&ox(o,a)?++r:(o=e6(i=t6(i,a)),r=0);return o}function t6(t,e){var r,n;if(Dp(e,t))return[e];for(r=0;r<t.length;++r)if(uf(e,t[r])&&Dp(Fc(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(n=r+1;n<t.length;++n)if(uf(Fc(t[r],t[n]),e)&&uf(Fc(t[r],e),t[n])&&uf(Fc(t[n],e),t[r])&&Dp(sx(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error}function uf(t,e){var r=t.r-e.r,n=e.x-t.x,i=e.y-t.y;return r<0||r*r<n*n+i*i}function ox(t,e){var r=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function Dp(t,e){for(var r=0;r<e.length;++r)if(!ox(t,e[r]))return!1;return!0}function e6(t){switch(t.length){case 1:return n6(t[0]);case 2:return Fc(t[0],t[1]);case 3:return sx(t[0],t[1],t[2])}}function n6(t){return{x:t.x,y:t.y,r:t.r}}function Fc(t,e){var r=t.x,n=t.y,i=t.r,a=e.x,o=e.y,s=e.r,c=a-r,l=o-n,u=s-i,f=Math.sqrt(c*c+l*l);return{x:(r+a+c/f*u)/2,y:(n+o+l/f*u)/2,r:(f+i+s)/2}}function sx(t,e,r){var n=t.x,i=t.y,a=t.r,o=e.x,s=e.y,c=e.r,l=r.x,u=r.y,f=r.r,h=n-o,d=n-l,p=i-s,v=i-u,g=c-a,m=f-a,b=n*n+i*i-a*a,_=b-o*o-s*s+c*c,O=b-l*l-u*u+f*f,E=d*p-h*v,P=(p*O-v*_)/(E*2)-n,A=(v*g-p*m)/E,T=(d*_-h*O)/(E*2)-i,C=(h*m-d*g)/E,L=A*A+C*C-1,N=2*(a+P*A+T*C),x=P*P+T*T-a*a,y=-(Math.abs(L)>1e-6?(N+Math.sqrt(N*N-4*L*x))/(2*L):x/N);return{x:n+P+A*y,y:i+T+C*y,r:y}}function cx(t,e,r){var n=t.x-e.x,i,a,o=t.y-e.y,s,c,l=n*n+o*o;l?(a=e.r+r.r,a*=a,c=t.r+r.r,c*=c,a>c?(i=(l+c-a)/(2*l),s=Math.sqrt(Math.max(0,c/l-i*i)),r.x=t.x-i*n-s*o,r.y=t.y-i*o+s*n):(i=(l+a-c)/(2*l),s=Math.sqrt(Math.max(0,a/l-i*i)),r.x=e.x+i*n-s*o,r.y=e.y+i*o+s*n)):(r.x=e.x+r.r,r.y=e.y)}function lx(t,e){var r=t.r+e.r-1e-6,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function ux(t){var e=t._,r=t.next._,n=e.r+r.r,i=(e.x*r.r+r.x*e.r)/n,a=(e.y*r.r+r.y*e.r)/n;return i*i+a*a}function ff(t){this._=t,this.next=null,this.previous=null}function fx(t,e){if(!(a=(t=QI(t)).length))return 0;var r,n,i,a,o,s,c,l,u,f,h;if(r=t[0],r.x=0,r.y=0,!(a>1))return r.r;if(n=t[1],r.x=-n.r,n.x=r.r,n.y=0,!(a>2))return r.r+n.r;cx(n,r,i=t[2]),r=new ff(r),n=new ff(n),i=new ff(i),r.next=i.previous=n,n.next=r.previous=i,i.next=n.previous=r;t:for(c=3;c<a;++c){cx(r._,n._,i=t[c]),i=new ff(i),l=n.next,u=r.previous,f=n._.r,h=r._.r;do if(f<=h){if(lx(l._,i._)){n=l,r.next=n,n.previous=r,--c;continue t}f+=l._.r,l=l.next}else{if(lx(u._,i._)){r=u,r.next=n,n.previous=r,--c;continue t}h+=u._.r,u=u.previous}while(l!==u.next);for(i.previous=r,i.next=n,r.next=n.previous=n=i,o=ux(r);(i=i.next)!==n;)(s=ux(i))<o&&(r=i,o=s);n=r.next}for(r=[n._],i=n;(i=i.next)!==n;)r.push(i._);for(i=ax(r,e),c=0;c<a;++c)r=t[c],r.x-=i.x,r.y-=i.y;return i.r}function Ott(t){return fx(t,lcg()),t}function r6(t){return Math.sqrt(t.value)}function i6(){var t=null,e=1,r=1,n=wo;function i(a){var o=KI();return a.x=e/2,a.y=r/2,t?a.eachBefore(hx(t)).eachAfter(jp(n,.5,o)).eachBefore(dx(1)):a.eachBefore(hx(r6)).eachAfter(jp(wo,1,o)).eachAfter(jp(n,a.r/Math.min(e,r),o)).eachBefore(dx(Math.min(e,r)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=Ju(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],r=+a[1],i):[e,r]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:cs(+a),i):n},i}function hx(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function jp(t,e,r){return function(n){if(i=n.children){var i,a,o=i.length,s=t(n)*e||0,c;if(s)for(a=0;a<o;++a)i[a].r+=s;if(c=fx(i,r),s)for(a=0;a<o;++a)i[a].r-=s;n.r=c+s}}}function dx(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}var a6=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const o6=(t,e,r)=>{const{value:n}=r,i=Uu(t)?wp().path(e.path)(t):Nc(t);return n?i.sum(a=>a[n]).sort(e.sort):i.count(),i6().size(e.size).padding(e.padding)(i),i.descendants()},px=t=>e=>{const{width:r,height:n}=Ip(e),{data:i,encode:a={},scale:o={},style:s={},layout:c={},labels:l=[]}=t,u=a6(t,["data","encode","scale","style","layout","labels"]),f={size:[r,n],padding:0,sort:(g,m)=>m.value-g.value},h={type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,r]},y:{domain:[0,n]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:a.color?void 0:g=>g.height===0?"#ddd":"#fff",stroke:a.color?void 0:g=>g.height===0?"":"#000"}},d={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:g=>g.r*2},p=o6(i,bt({},f,c),bt({},h.encode,a)),v=Wt(s,"label");return[bt({},h,Object.assign(Object.assign({data:p,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},d),v),...l]},u),{axis:!1}))]};px.props={};function us(t,e){let r,n=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(r<a||r===void 0&&a>=a)&&(r=a,n=i);else for(let a of t)(a=e(a,++i,t))!=null&&(r<a||r===void 0&&a>=a)&&(r=a,n=i);return n}function Bp(t,e){let r,n=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(r>a||r===void 0&&a>=a)&&(r=a,n=i);else for(let a of t)(a=e(a,++i,t))!=null&&(r>a||r===void 0&&a>=a)&&(r=a,n=i);return n}function gn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s6(t,e){return Array.from(e,r=>t[r])}function Si(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[r]=e;if(r&&r.length!==2||e.length>1){const n=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),n.sort((i,a)=>{for(const o of e){const s=zc(o[i],o[a]);if(s)return s}})):(r=t.map(r),n.sort((i,a)=>zc(r[i],r[a]))),s6(t,n)}return t.sort(vx(r))}function vx(t=gn){if(t===gn)return zc;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function zc(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Fp(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?zc:vx(i);n>r;){if(n-r>600){const c=n-r+1,l=e-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(l-c/2<0?-1:1),d=Math.max(r,Math.floor(e-l*f/c+h)),p=Math.min(n,Math.floor(e+(c-l)*f/c+h));Fp(t,e,d,p,i)}const a=t[e];let o=r,s=n;for(Gc(t,r,e),i(t[n],a)>0&&Gc(t,r,n);o<s;){for(Gc(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Gc(t,r,s):(++s,Gc(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Gc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function c6(t){return t===null?NaN:+t}function*gx(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}function l6(t,e=gn){let r,n=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(n?gn(o,i)>0:gn(o,o)===0)&&(r=a,i=o,n=!0)}}else for(const i of t)(n?e(i,r)>0:e(i,i)===0)&&(r=i,n=!0);return r}function hf(t,e,r){if(t=Float64Array.from(gx(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ni(t);if(e>=1)return Zn(t);var n,i=(n-1)*e,a=Math.floor(i),o=Zn(Fp(t,a).subarray(0,a+1)),s=ni(t.subarray(a+1));return o+(s-o)*(i-a)}}function Stt(t,e,r=number){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function u6(t,e,r){if(t=Float64Array.from(gx(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Bp(t);if(e>=1)return us(t);var n,i=Math.floor((n-1)*e),a=(s,c)=>zc(t[s],t[c]),o=Fp(Uint32Array.from(t,(s,c)=>c),i,0,n-1,a);return l6(o.subarray(0,i+1),s=>t[s])}}var mx=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function f6(t,e){return ni(t,r=>e[r])}function h6(t,e){return Zn(t,r=>e[r])}function yx(t,e){const r=zp(t,e)*2.5-Gp(t,e)*1.5;return ni(t,n=>e[n]>=r?e[n]:NaN)}function zp(t,e){return hf(t,.25,r=>e[r])}function d6(t,e){return hf(t,.5,r=>e[r])}function Gp(t,e){return hf(t,.75,r=>e[r])}function bx(t,e){const r=Gp(t,e)*2.5-zp(t,e)*1.5;return Zn(t,n=>e[n]<=r?e[n]:NaN)}function p6(){return(t,e)=>{const{encode:r}=e,{y:n,x:i}=r,{value:a}=n,{value:o}=i;return[Array.from(nn(t,l=>o[+l]).values()).flatMap(l=>{const u=yx(l,a),f=bx(l,a);return l.filter(h=>a[h]<u||a[h]>f)}),e]}}const xx=t=>()=>{const{data:e,encode:r,style:n={},transform:i}=t,a=mx(t,["data","encode","style","transform"]),{extend:o=!1}=n,s=mx(n,["extend"]),{y:c}=r,l={y:c,y1:c,y2:c,y3:c,y4:c},u={y1:zp,y2:d6,y3:Gp};if(o)return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:f6},u),{y4:h6})],encode:Object.assign(Object.assign({},r),l),style:s},a)];const f=Wt(s,"box"),h=Wt(s,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:yx},u),{y4:bx})],encode:Object.assign(Object.assign({},r),l),style:f},a),{type:"point",data:e,transform:[{type:p6}],encode:r,style:Object.assign({},h)}]};xx.props={};const _x=t=>{const{cartesian:e}=t;return e?tf:(r,n,i,a)=>{const{x:o,y:s}=i,c=Ic(n,i,t),l=Array.from(r,u=>{const f=[+o[u],+s[u]];return[a.map(c(f,u))]});return[r,l]}};_x.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...kn(),{type:"maybeTuple"},{type:"maybeVisualPosition"},{type:"maybeFunctionAttribute"}]};function v6(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return wx(this.cover(e,r),e,r,t)}function wx(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,a=t._root,o={data:n},s=t._x0,c=t._y0,l=t._x1,u=t._y1,f,h,d,p,v,g,m,b;if(!a)return t._root=o,t;for(;a.length;)if((v=e>=(f=(s+l)/2))?s=f:l=f,(g=r>=(h=(c+u)/2))?c=h:u=h,i=a,!(a=a[m=g<<1|v]))return i[m]=o,t;if(d=+t._x.call(null,a.data),p=+t._y.call(null,a.data),e===d&&r===p)return o.next=a,i?i[m]=o:t._root=o,t;do i=i?i[m]=new Array(4):t._root=new Array(4),(v=e>=(f=(s+l)/2))?s=f:l=f,(g=r>=(h=(c+u)/2))?c=h:u=h;while((m=g<<1|v)===(b=(p>=h)<<1|d>=f));return i[b]=a,i[m]=o,t}function g6(t){var e,r,n=t.length,i,a,o=new Array(n),s=new Array(n),c=1/0,l=1/0,u=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e=t[r]))||isNaN(a=+this._y.call(null,e))||(o[r]=i,s[r]=a,i<c&&(c=i),i>u&&(u=i),a<l&&(l=a),a>f&&(f=a));if(c>u||l>f)return this;for(this.cover(c,l).cover(u,f),r=0;r<n;++r)wx(this,o[r],s[r],t[r]);return this}function m6(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,a=(n=Math.floor(e))+1;else{for(var o=i-r||1,s=this._root,c,l;r>t||t>=i||n>e||e>=a;)switch(l=(e<n)<<1|t<r,c=new Array(4),c[l]=s,s=c,o*=2,l){case 0:i=r+o,a=n+o;break;case 1:r=i-o,a=n+o;break;case 2:i=r+o,n=a-o;break;case 3:r=i-o,n=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this}function y6(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function b6(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function sr(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function x6(t,e,r){var n,i=this._x0,a=this._y0,o,s,c,l,u=this._x1,f=this._y1,h=[],d=this._root,p,v;for(d&&h.push(new sr(d,i,a,u,f)),r==null?r=1/0:(i=t-r,a=e-r,u=t+r,f=e+r,r*=r);p=h.pop();)if(!(!(d=p.node)||(o=p.x0)>u||(s=p.y0)>f||(c=p.x1)<i||(l=p.y1)<a))if(d.length){var g=(o+c)/2,m=(s+l)/2;h.push(new sr(d[3],g,m,c,l),new sr(d[2],o,m,g,l),new sr(d[1],g,s,c,m),new sr(d[0],o,s,g,m)),(v=(e>=m)<<1|t>=g)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=p)}else{var b=t-+this._x.call(null,d.data),_=e-+this._y.call(null,d.data),O=b*b+_*_;if(O<r){var E=Math.sqrt(r=O);i=t-E,a=e-E,u=t+E,f=e+E,n=d.data}}return n}function _6(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,r=this._root,n,i,a,o=this._x0,s=this._y0,c=this._x1,l=this._y1,u,f,h,d,p,v,g,m;if(!r)return this;if(r.length)for(;;){if((p=u>=(h=(o+c)/2))?o=h:c=h,(v=f>=(d=(s+l)/2))?s=d:l=d,e=r,!(r=r[g=v<<1|p]))return this;if(!r.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(n=e,m=g)}for(;r.data!==t;)if(i=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,i?(a?i.next=a:delete i.next,this):e?(a?e[g]=a:delete e[g],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[m]=r:this._root=r),this):(this._root=a,this)}function w6(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function O6(){return this._root}function S6(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function E6(t){var e=[],r,n=this._root,i,a,o,s,c;for(n&&e.push(new sr(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,a=r.x0,o=r.y0,s=r.x1,c=r.y1)&&n.length){var l=(a+s)/2,u=(o+c)/2;(i=n[3])&&e.push(new sr(i,l,u,s,c)),(i=n[2])&&e.push(new sr(i,a,u,l,c)),(i=n[1])&&e.push(new sr(i,l,o,s,u)),(i=n[0])&&e.push(new sr(i,a,o,l,u))}return this}function M6(t){var e=[],r=[],n;for(this._root&&e.push(new sr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var a,o=n.x0,s=n.y0,c=n.x1,l=n.y1,u=(o+c)/2,f=(s+l)/2;(a=i[0])&&e.push(new sr(a,o,s,u,f)),(a=i[1])&&e.push(new sr(a,u,s,c,f)),(a=i[2])&&e.push(new sr(a,o,f,u,l)),(a=i[3])&&e.push(new sr(a,u,f,c,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function P6(t){return t[0]}function A6(t){return arguments.length?(this._x=t,this):this._x}function k6(t){return t[1]}function T6(t){return arguments.length?(this._y=t,this):this._y}function Ox(t,e,r){var n=new $p(e==null?P6:e,r==null?k6:r,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function $p(t,e,r,n,i,a){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function Sx(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var cr=Ox.prototype=$p.prototype;cr.copy=function(){var t=new $p(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=Sx(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var i=0;i<4;++i)(n=e.source[i])&&(n.length?r.push({source:n,target:e.target[i]=new Array(4)}):e.target[i]=Sx(n));return t},cr.add=v6,cr.addAll=g6,cr.cover=m6,cr.data=y6,cr.extent=b6,cr.find=x6,cr.remove=_6,cr.removeAll=w6,cr.root=O6,cr.size=S6,cr.visit=E6,cr.visitAfter=M6,cr.x=A6,cr.y=T6;function Lr(t){return function(){return t}}function fs(t){return(t()-.5)*1e-6}var L6={value:function(){}};function Ex(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new df(r)}function df(t){this._=t}function C6(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}df.prototype=Ex.prototype={constructor:df,on:function(e,r){var n=this._,i=C6(e+"",n),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(e=i[o]).type)&&(a=N6(n[a],e.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++o<s;)if(a=(e=i[o]).type)n[a]=Mx(n[a],e.name,r);else if(r==null)for(a in n)n[a]=Mx(n[a],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new df(e)},call:function(e,r){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,o;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(r,n)}};function N6(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function Mx(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=L6,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var R6=Ex,hs=0,$c=0,Wc=0,Px=1e3,pf,Yc,vf=0,Oo=0,gf=0,Hc=typeof performance=="object"&&performance.now?performance:Date,Ax=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kx(){return Oo||(Ax(I6),Oo=Hc.now()+gf)}function I6(){Oo=0}function Wp(){this._call=this._time=this._next=null}Wp.prototype=Tx.prototype={constructor:Wp,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?kx():+r)+(e==null?0:+e),!this._next&&Yc!==this&&(Yc?Yc._next=this:pf=this,Yc=this),this._call=t,this._time=r,Yp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yp())}};function Tx(t,e,r){var n=new Wp;return n.restart(t,e,r),n}function D6(){kx(),++hs;for(var t=pf,e;t;)(e=Oo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--hs}function Lx(){Oo=(vf=Hc.now())+gf,hs=$c=0;try{D6()}finally{hs=0,B6(),Oo=0}}function j6(){var t=Hc.now(),e=t-vf;e>Px&&(gf-=e,vf=t)}function B6(){for(var t,e=pf,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:pf=r);Yc=t,Yp(n)}function Yp(t){if(!hs){$c&&($c=clearTimeout($c));var e=t-Oo;e>24?(t<1/0&&($c=setTimeout(Lx,t-Hc.now()-gf)),Wc&&(Wc=clearInterval(Wc))):(Wc||(vf=Hc.now(),Wc=setInterval(j6,Px)),hs=1,Ax(Lx))}}const F6=1664525,z6=1013904223,Cx=4294967296;function G6(){let t=1;return()=>(t=(F6*t+z6)%Cx)/Cx}function $6(t){return t.x}function W6(t){return t.y}var Y6=10,H6=Math.PI*(3-Math.sqrt(5));function V6(t){var e,r=1,n=.001,i=1-Math.pow(n,1/300),a=0,o=.6,s=new Map,c=Tx(f),l=R6("tick","end"),u=G6();t==null&&(t=[]);function f(){h(),l.call("tick",e),r<n&&(c.stop(),l.call("end",e))}function h(v){var g,m=t.length,b;v===void 0&&(v=1);for(var _=0;_<v;++_)for(r+=(a-r)*i,s.forEach(function(O){O(r)}),g=0;g<m;++g)b=t[g],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function d(){for(var v=0,g=t.length,m;v<g;++v){if(m=t[v],m.index=v,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var b=Y6*Math.sqrt(.5+v),_=v*H6;m.x=b*Math.cos(_),m.y=b*Math.sin(_)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function p(v){return v.initialize&&v.initialize(t,u),v}return d(),e={tick:h,restart:function(){return c.restart(f),e},stop:function(){return c.stop(),e},nodes:function(v){return arguments.length?(t=v,d(),s.forEach(p),e):t},alpha:function(v){return arguments.length?(r=+v,e):r},alphaMin:function(v){return arguments.length?(n=+v,e):n},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(a=+v,e):a},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(u=v,s.forEach(p),e):u},force:function(v,g){return arguments.length>1?(g==null?s.delete(v):s.set(v,p(g)),e):s.get(v)},find:function(v,g,m){var b=0,_=t.length,O,E,P,A,T;for(m==null?m=1/0:m*=m,b=0;b<_;++b)A=t[b],O=v-A.x,E=g-A.y,P=O*O+E*E,P<m&&(T=A,m=P);return T},on:function(v,g){return arguments.length>1?(l.on(v,g),e):l.on(v)}}}function X6(){var t,e,r,n,i=Lr(-30),a,o=1,s=1/0,c=.81;function l(d){var p,v=t.length,g=Ox(t,$6,W6).visitAfter(f);for(n=d,p=0;p<v;++p)e=t[p],g.visit(h)}function u(){if(!!t){var d,p=t.length,v;for(a=new Array(p),d=0;d<p;++d)v=t[d],a[v.index]=+i(v,d,t)}}function f(d){var p=0,v,g,m=0,b,_,O;if(d.length){for(b=_=O=0;O<4;++O)(v=d[O])&&(g=Math.abs(v.value))&&(p+=v.value,m+=g,b+=g*v.x,_+=g*v.y);d.x=b/m,d.y=_/m}else{v=d,v.x=v.data.x,v.y=v.data.y;do p+=a[v.data.index];while(v=v.next)}d.value=p}function h(d,p,v,g){if(!d.value)return!0;var m=d.x-e.x,b=d.y-e.y,_=g-p,O=m*m+b*b;if(_*_/c<O)return O<s&&(m===0&&(m=fs(r),O+=m*m),b===0&&(b=fs(r),O+=b*b),O<o&&(O=Math.sqrt(o*O)),e.vx+=m*d.value*n/O,e.vy+=b*d.value*n/O),!0;if(d.length||O>=s)return;(d.data!==e||d.next)&&(m===0&&(m=fs(r),O+=m*m),b===0&&(b=fs(r),O+=b*b),O<o&&(O=Math.sqrt(o*O)));do d.data!==e&&(_=a[d.data.index]*n/O,e.vx+=m*_,e.vy+=b*_);while(d=d.next)}return l.initialize=function(d,p){t=d,r=p,u()},l.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Lr(+d),u(),l):i},l.distanceMin=function(d){return arguments.length?(o=d*d,l):Math.sqrt(o)},l.distanceMax=function(d){return arguments.length?(s=d*d,l):Math.sqrt(s)},l.theta=function(d){return arguments.length?(c=d*d,l):Math.sqrt(c)},l}function q6(t){return t.index}function Nx(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function U6(t){var e=q6,r=f,n,i=Lr(30),a,o,s,c,l,u=1;t==null&&(t=[]);function f(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function h(g){for(var m=0,b=t.length;m<u;++m)for(var _=0,O,E,P,A,T,C,L;_<b;++_)O=t[_],E=O.source,P=O.target,A=P.x+P.vx-E.x-E.vx||fs(l),T=P.y+P.vy-E.y-E.vy||fs(l),C=Math.sqrt(A*A+T*T),C=(C-a[_])/C*g*n[_],A*=C,T*=C,P.vx-=A*(L=c[_]),P.vy-=T*L,E.vx+=A*(L=1-L),E.vy+=T*L}function d(){if(!!o){var g,m=o.length,b=t.length,_=new Map(o.map((E,P)=>[e(E,P,o),E])),O;for(g=0,s=new Array(m);g<b;++g)O=t[g],O.index=g,typeof O.source!="object"&&(O.source=Nx(_,O.source)),typeof O.target!="object"&&(O.target=Nx(_,O.target)),s[O.source.index]=(s[O.source.index]||0)+1,s[O.target.index]=(s[O.target.index]||0)+1;for(g=0,c=new Array(b);g<b;++g)O=t[g],c[g]=s[O.source.index]/(s[O.source.index]+s[O.target.index]);n=new Array(b),p(),a=new Array(b),v()}}function p(){if(!!o)for(var g=0,m=t.length;g<m;++g)n[g]=+r(t[g],g,t)}function v(){if(!!o)for(var g=0,m=t.length;g<m;++g)a[g]=+i(t[g],g,t)}return h.initialize=function(g,m){o=g,l=m,d()},h.links=function(g){return arguments.length?(t=g,d(),h):t},h.id=function(g){return arguments.length?(e=g,h):e},h.iterations=function(g){return arguments.length?(u=+g,h):u},h.strength=function(g){return arguments.length?(r=typeof g=="function"?g:Lr(+g),p(),h):r},h.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Lr(+g),v(),h):i},h}function K6(t,e){var r,n=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=r.length,s,c=0,l=0;for(a=0;a<o;++a)s=r[a],c+=s.x,l+=s.y;for(c=(c/o-t)*n,l=(l/o-e)*n,a=0;a<o;++a)s=r[a],s.x-=c,s.y-=l}return i.initialize=function(a){r=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(n=+a,i):n},i}function Z6(t){var e=Lr(.1),r,n,i;typeof t!="function"&&(t=Lr(t==null?0:+t));function a(s){for(var c=0,l=r.length,u;c<l;++c)u=r[c],u.vx+=(i[c]-u.x)*n[c]*s}function o(){if(!!r){var s,c=r.length;for(n=new Array(c),i=new Array(c),s=0;s<c;++s)n[s]=isNaN(i[s]=+t(r[s],s,r))?0:+e(r[s],s,r)}}return a.initialize=function(s){r=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Lr(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Lr(+s),o(),a):t},a}function Q6(t){var e=Lr(.1),r,n,i;typeof t!="function"&&(t=Lr(t==null?0:+t));function a(s){for(var c=0,l=r.length,u;c<l;++c)u=r[c],u.vy+=(i[c]-u.y)*n[c]*s}function o(){if(!!r){var s,c=r.length;for(n=new Array(c),i=new Array(c),s=0;s<c;++s)n[s]=isNaN(i[s]=+t(r[s],s,r))?0:+e(r[s],s,r)}}return a.initialize=function(s){r=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Lr(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Lr(+s),o(),a):t},a}function J6(t,e,r){const{nodes:n,links:i}=t,{joint:a,nodeStrength:o,linkStrength:s}=e,{nodeKey:c=p=>p.id,linkKey:l=p=>p.id}=r,u=X6(),f=U6(i).id(Ep(l));typeof o=="function"&&u.strength(o),typeof s=="function"&&f.strength(s);const h=V6(n).force("link",f).force("charge",u);a?h.force("center",K6()):h.force("x",Z6()).force("y",Q6()),h.stop();const d=Math.ceil(Math.log(h.alphaMin())/Math.log(1-h.alphaDecay()));for(let p=0;p<d;p++)h.tick();return{nodesData:n,linksData:i}}const Rx=t=>()=>{const e={joint:!0},r={type:"link",axis:!1,legend:!1,encode:{x:[_=>_.source.x,_=>_.target.x],y:[_=>_.source.y,_=>_.target.y]},style:{stroke:"#999",strokeOpacity:.6}},n={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},scale:{color:{type:"ordinal"}},style:{stroke:"#fff"}},i={text:""},{data:a,encode:o={},scale:s,style:c={},layout:l={},nodeLabels:u=[],linkLabels:f=[],animate:h={}}=t,d=Wt(o,"node"),p=Wt(o,"link"),{links:v,nodes:g}=v2(a,o),{nodesData:m,linksData:b}=J6({links:v,nodes:g},bt({},e,l),o);return[bt({},r,{data:b,encode:p,labels:f,style:Wt(c,"link"),animate:typeof h=="object"?Wt(h,"link"):h}),bt({},n,{data:m,encode:Object.assign({},d),scale:s,style:Wt(c,"node"),labels:[Object.assign(Object.assign({},i),Wt(c,"label")),...u],animate:typeof h=="object"?Wt(h,"node"):h})]};Rx.props={};function t8(t,e){return t.parent===e.parent?1:2}function Hp(t){var e=t.children;return e?e[0]:t.t}function Vp(t){var e=t.children;return e?e[e.length-1]:t.t}function e8(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function n8(t){for(var e=0,r=0,n=t.children,i=n.length,a;--i>=0;)a=n[i],a.z+=e,a.m+=e,e+=a.s+(r+=a.c)}function r8(t,e,r){return t.a.parent===e.parent?t.a:r}function mf(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}mf.prototype=Object.create(is.prototype);function i8(t){for(var e=new mf(t,0),r,n=[e],i,a,o,s;r=n.pop();)if(a=r._.children)for(r.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=r.children[o]=new mf(a[o],o)),i.parent=r;return(e.parent=new mf(null,0)).children=[e],e}function a8(){var t=t8,e=1,r=1,n=null;function i(l){var u=i8(l);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),n)l.eachBefore(c);else{var f=l,h=l,d=l;l.eachBefore(function(b){b.x<f.x&&(f=b),b.x>h.x&&(h=b),b.depth>d.depth&&(d=b)});var p=f===h?1:t(f,h)/2,v=p-f.x,g=e/(h.x+p+v),m=r/(d.depth||1);l.eachBefore(function(b){b.x=(b.x+v)*g,b.y=b.depth*m})}return l}function a(l){var u=l.children,f=l.parent.children,h=l.i?f[l.i-1]:null;if(u){n8(l);var d=(u[0].z+u[u.length-1].z)/2;h?(l.z=h.z+t(l._,h._),l.m=l.z-d):l.z=d}else h&&(l.z=h.z+t(l._,h._));l.parent.A=s(l,h,l.parent.A||f[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,u,f){if(u){for(var h=l,d=l,p=u,v=h.parent.children[0],g=h.m,m=d.m,b=p.m,_=v.m,O;p=Vp(p),h=Hp(h),p&&h;)v=Hp(v),d=Vp(d),d.a=l,O=p.z+b-h.z-g+t(p._,h._),O>0&&(e8(r8(p,l,f),l,O),g+=O,m+=O),b+=p.m,g+=h.m,_+=v.m,m+=d.m;p&&!Vp(d)&&(d.t=p,d.m+=b-m),h&&!Hp(v)&&(v.t=h,v.m+=g-_,f=l)}return f}function c(l){l.x*=e,l.y=l.depth*r}return i.separation=function(l){return arguments.length?(t=l,i):t},i.size=function(l){return arguments.length?(n=!1,e=+l[0],r=+l[1],i):n?null:[e,r]},i.nodeSize=function(l){return arguments.length?(n=!0,e=+l[0],r=+l[1],i):n?[e,r]:null},i}function o8(t,e){return t.parent===e.parent?1:2}function s8(t){return t.reduce(c8,0)/t.length}function c8(t,e){return t+e.x}function l8(t){return 1+t.reduce(u8,0)}function u8(t,e){return Math.max(t,e.y)}function f8(t){for(var e;e=t.children;)t=e[0];return t}function h8(t){for(var e;e=t.children;)t=e[e.length-1];return t}function d8(){var t=o8,e=1,r=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(h){var d=h.children;d?(h.x=s8(d),h.y=l8(d)):(h.x=o?s+=t(h,o):0,h.y=0,o=h)});var c=f8(a),l=h8(a),u=c.x-t(c,l)/2,f=l.x+t(l,c)/2;return a.eachAfter(n?function(h){h.x=(h.x-a.x)*e,h.y=(a.y-h.y)*r}:function(h){h.x=(h.x-u)/(f-u)*e,h.y=(1-(a.y?h.y/a.y:1))*r})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(n=!1,e=+a[0],r=+a[1],i):n?null:[e,r]},i.nodeSize=function(a){return arguments.length?(n=!0,e=+a[0],r=+a[1],i):n?[e,r]:null},i}const Ix=t=>e=>r=>{const{field:n="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=e,[c,l]=s,u=Nc(r,p=>p.children).sum(p=>p[n]).sort(o),f=t();f.size([1,1]),i&&f.nodeSize(i),a&&f.separation(a),f(u);const h=[];u.each(p=>{p[c]=p.x,p[l]=p.y,p.name=p.data.name,h.push(p)});const d=u.links();return d.forEach(p=>{p[c]=[p.source[c],p.target[c]],p[l]=[p.source[l],p.target[l]]}),{nodes:h,edges:d}},Dx=t=>Ix(d8)(t);Dx.props={};const Xp=t=>Ix(a8)(t);Xp.props={};const jx=t=>{const e={sortBy:(a,o)=>o.value-a.value},r={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},n={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},i={text:"",fontSize:10};return()=>{const{data:a,encode:o={},scale:s={},style:c={},layout:l={},nodeLabels:u=[],linkLabels:f=[],animate:h={}}=t,d=o==null?void 0:o.value,{nodes:p,edges:v}=Xp(Object.assign(Object.assign(Object.assign({},e),l),{field:d}))(a);return[bt({},n,{data:v,encode:Wt(o,"link"),scale:Wt(s,"link"),labels:f,style:Object.assign({stroke:"#999"},Wt(c,"link")),animate:typeof h=="object"?Wt(h,"link"):h}),bt({},r,{data:p,scale:Wt(s,"node"),encode:Wt(o,"node"),labels:[Object.assign(Object.assign({},i),Wt(c,"label")),...u],style:Object.assign({},Wt(c,"node")),animate:typeof h=="object"?Wt(h,"node"):h})]}};jx.props={};var Bx={},qp={},Up=34,Vc=10,Kp=13;function Fx(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function p8(t,e){var r=Fx(t);return function(n,i){return e(r(n),i,t)}}function zx(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var i in n)i in e||r.push(e[i]=i)}),r}function mr(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function v8(t){return t<0?"-"+mr(-t,6):t>9999?"+"+mr(t,6):mr(t,4)}function g8(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":v8(t.getUTCFullYear(),4)+"-"+mr(t.getUTCMonth()+1,2)+"-"+mr(t.getUTCDate(),2)+(i?"T"+mr(e,2)+":"+mr(r,2)+":"+mr(n,2)+"."+mr(i,3)+"Z":n?"T"+mr(e,2)+":"+mr(r,2)+":"+mr(n,2)+"Z":r||e?"T"+mr(e,2)+":"+mr(r,2)+"Z":"")}function m8(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(f,h){var d,p,v=i(f,function(g,m){if(d)return d(g,m-1);p=g,d=h?p8(g,h):Fx(g)});return v.columns=p||[],v}function i(f,h){var d=[],p=f.length,v=0,g=0,m,b=p<=0,_=!1;f.charCodeAt(p-1)===Vc&&--p,f.charCodeAt(p-1)===Kp&&--p;function O(){if(b)return qp;if(_)return _=!1,Bx;var P,A=v,T;if(f.charCodeAt(A)===Up){for(;v++<p&&f.charCodeAt(v)!==Up||f.charCodeAt(++v)===Up;);return(P=v)>=p?b=!0:(T=f.charCodeAt(v++))===Vc?_=!0:T===Kp&&(_=!0,f.charCodeAt(v)===Vc&&++v),f.slice(A+1,P-1).replace(/""/g,'"')}for(;v<p;){if((T=f.charCodeAt(P=v++))===Vc)_=!0;else if(T===Kp)_=!0,f.charCodeAt(v)===Vc&&++v;else if(T!==r)continue;return f.slice(A,P)}return b=!0,f.slice(A,p)}for(;(m=O())!==qp;){for(var E=[];m!==Bx&&m!==qp;)E.push(m),m=O();h&&(E=h(E,g++))==null||d.push(E)}return d}function a(f,h){return f.map(function(d){return h.map(function(p){return u(d[p])}).join(t)})}function o(f,h){return h==null&&(h=zx(f)),[h.map(u).join(t)].concat(a(f,h)).join(`
`)}function s(f,h){return h==null&&(h=zx(f)),a(f,h).join(`
`)}function c(f){return f.map(l).join(`
`)}function l(f){return f.map(u).join(t)}function u(f){return f==null?"":f instanceof Date?g8(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:i,format:o,formatBody:s,formatRows:c,formatRow:l,formatValue:u}}function y8(t){for(var e in t){var r=t[e].trim(),n,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))b8&&!!i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}const b8=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var x8=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})};const Gx=t=>{const{value:e,format:r=e.split(".").pop(),delimiter:n=",",autoType:i=!0}=t;return()=>x8(void 0,void 0,void 0,function*(){const a=yield fetch(e);if(r==="csv"){const o=yield a.text();return m8(n).parse(o,i?y8:_o)}else if(r==="json")return yield a.json();throw new Error(`Unknown format: ${r}.`)})};Gx.props={};function _8(t){return!t||Object.keys(t).length===0}const $x=t=>{const{fields:e,key:r="key",value:n="value"}=t;return i=>_8(e)?i:i.flatMap(a=>e.map(o=>Object.assign(Object.assign({},a),{[r]:o,[n]:a[o]})))};$x.props={};function w8(t){return t!=null&&!Number.isNaN(t)}const Wx=t=>{const{callback:e=w8}=t;return r=>r.filter(e)};Wx.props={};function Ett(t){return t!=null&&!Number.isNaN(t)}const Yx=t=>{const{callback:e}=t;return r=>Array.isArray(r)?[...r].sort(e):r};Yx.props={};function O8(t,e=[]){return e.reduce((r,n)=>(n in t&&(r[n]=t[n]),r),{})}const Hx=t=>{const{fields:e}=t;return r=>r.map(n=>O8(n,e))};Hx.props={};function S8(t){return Object.keys(t).length===0}const Vx=t=>e=>{if(!t||S8(t))return e;const r=n=>Object.entries(n).reduce((i,[a,o])=>(i[t[a]||a]=o,i),{});return e.map(r)};Vx.props={};function E8(t,e){return t.map(r=>{if(Array.isArray(r)){const[n,i=e]=r;return[n,i]}return[r,e]})}const Xx=t=>{const{fields:e=[]}=t,r=E8(e,!0);return n=>{const i=(a,o)=>r.reduce((s,[c,l=!0])=>s!==0?s:l?a[c]<o[c]?-1:+(a[c]!==o[c]):a[c]>o[c]?-1:+(a[c]!==o[c]),0);return[...n].sort(i)}};Xx.props={};const qx=t=>{const{value:e}=t;return()=>e};qx.props={};const Ux=t=>{const{callback:e=_o}=t;return r=>e(r)};Ux.props={};const Kx=t=>{const{callback:e=_o}=t;return r=>Array.isArray(r)?r.map(e):r};Kx.props={};function M8(t,e){return e.value-t.value}function P8(t,e){return e.frequency-t.frequency}function A8(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function k8(t,e){return`${t.name}`.localeCompare(`${e.name}`)}const T8={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function L8(t){const{y:e,thickness:r,weight:n,marginRatio:i,id:a,source:o,target:s,sourceWeight:c,targetWeight:l,sortBy:u}=Object.assign(Object.assign({},T8),t);function f(g){const m=g.nodes.map(_=>Object.assign({},_)),b=g.edges.map(_=>Object.assign({},_));return h(m,b),d(m,b),p(m,b),v(m,b),{nodes:m,edges:b}}function h(g,m){m.forEach(O=>{O.source=o(O),O.target=s(O),O.sourceWeight=c(O),O.targetWeight=l(O)});const b=nn(m,O=>O.source),_=nn(m,O=>O.target);return g.forEach(O=>{O.id=a(O);const E=b.has(O.id)?b.get(O.id):[],P=_.has(O.id)?_.get(O.id):[];O.frequency=E.length+P.length,O.value=Qi(E,A=>A.sourceWeight)+Qi(P,A=>A.targetWeight)}),{nodes:g,edges:m}}function d(g,m){const b=typeof u=="function"?u:Pt[u];b&&g.sort(b)}function p(g,m){const b=g.length;if(!b)throw sf("Invalid nodes: it's empty!");if(!n){const E=1/b;return g.forEach((P,A)=>{P.x=(A+.5)*E,P.y=e}),{nodes:g,edges:m}}const _=i/(2*b),O=g.reduce((E,P)=>E+=P.value,0);return g.reduce((E,P)=>{P.weight=P.value/O,P.width=P.weight*(1-i),P.height=r;const A=_+E,T=A+P.width,C=e-r/2,L=C+r;return P.x=[A,T,T,A],P.y=[C,C,L,L],E+P.width+2*_},0),{nodes:g,edges:m}}function v(g,m){const b=new Map(g.map(E=>[E.id,E]));if(!n)return m.forEach(E=>{const P=o(E),A=s(E),T=b.get(P),C=b.get(A);T&&C&&(E.x=[T.x,C.x],E.y=[T.y,C.y])}),{nodes:g,edges:m};m.forEach(E=>{E.x=[0,0,0,0],E.y=[e,e,e,e]});const _=nn(m,E=>E.source),O=nn(m,E=>E.target);g.forEach(E=>{const{edges:P,width:A,x:T,y:C,value:L,id:N}=E,x=_.get(N)||[],y=O.get(N)||[];let w=0;x.map(M=>{const S=M.sourceWeight/L*A;M.x[0]=E.x[0]+w,M.x[1]=E.x[0]+w+S,w+=S}),y.forEach(M=>{const S=M.targetWeight/L*A;M.x[3]=E.x[0]+w,M.x[2]=E.x[0]+w+S,w+=S})})}return f}const Zx=t=>e=>L8(t)(e);Zx.props={};const Zp=Math.PI/180,Xc=1<<11>>5,yf=1<<11;function C8(t){return t.text}function N8(){return"serif"}function Qx(){return"normal"}function R8(t){return t.value}function I8(){return~~(Math.random()*2)*90}function D8(){return 1}function j8(){}function B8(t,e,r,n){if(e.sprite)return;const i=t.context,a=t.ratio;i.clearRect(0,0,(Xc<<5)/a,yf/a);let o=0,s=0,c=0;const l=r.length;for(--n;++n<l;){e=r[n],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;let h=i.measureText(e.text+"m").width*a,d=e.size<<1;if(e.rotate){const p=Math.sin(e.rotate*Zp),v=Math.cos(e.rotate*Zp),g=h*v,m=h*p,b=d*v,_=d*p;h=Math.max(Math.abs(g+_),Math.abs(g-_))+31>>5<<5,d=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else h=h+31>>5<<5;if(d>c&&(c=d),o+h>=Xc<<5&&(o=0,s+=c,c=0),s+d>=yf)break;i.translate((o+(h>>1))/a,(s+(d>>1))/a),e.rotate&&i.rotate(e.rotate*Zp),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=d,e.xoff=o,e.yoff=s,e.x1=h>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=h}const u=i.getImageData(0,0,(Xc<<5)/a,yf/a).data,f=[];for(;--n>=0;){if(e=r[n],!e.hasText)continue;const h=e.width,d=h>>5;let p=e.y1-e.y0;for(let m=0;m<p*d;m++)f[m]=0;if(o=e.xoff,o==null)return;s=e.yoff;let v=0,g=-1;for(let m=0;m<p;m++){for(let b=0;b<h;b++){const _=d*m+(b>>5),O=u[(s+m)*(Xc<<5)+(o+b)<<2]?1<<31-b%32:0;f[_]|=O,v|=O}v?g=m:(e.y0++,p--,m--,s++)}e.y1=e.y0+g,e.sprite=f.slice(0,(e.y1-e.y0)*d)}}function F8(t,e,r){r>>=5;const n=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,c=t.y1-t.y0;let l=(t.y+t.y0)*r+(a>>5),u;for(let f=0;f<c;f++){u=0;for(let h=0;h<=i;h++)if((u<<s|(h<i?(u=n[f*i+h])>>>o:0))&e[l+h])return!0;l+=r}return!1}function z8(t,e){const r=t[0],n=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function G8(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function Jx(t){const e=t[0]/t[1];return function(r){return[e*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function $8(t){const r=4*t[0]/t[1];let n=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=r;break;case 1:i+=4;break;case 2:n-=r;break;default:i-=4;break}return[n,i]}}function t_(t){const e=[];let r=-1;for(;++r<t;)e[r]=0;return e}function W8(){return document.createElement("canvas")}function Ca(t){return typeof t=="function"?t:function(){return t}}const Y8={archimedean:Jx,rectangular:$8};function H8(){let t=[256,256],e=C8,r=N8,n=R8,i=Qx,a=I8,o=D8,s=Jx,c=Math.random,l=j8,u=[],f=null,h=1/0;const d=Qx,p=W8,v={};v.start=function(){const[b,_]=t,O=g(p()),E=v.board?v.board:t_((t[0]>>5)*t[1]),P=u.length,A=[],T=u.map(function(x,y,w){return x.text=e.call(this,x,y,w),x.font=r.call(this,x,y,w),x.style=d.call(this,x,y,w),x.weight=i.call(this,x,y,w),x.rotate=a.call(this,x,y,w),x.size=~~n.call(this,x,y,w),x.padding=o.call(this,x,y,w),x}).sort(function(x,y){return y.size-x.size});let C=-1,L=v.board?[{x:0,y:0},{x:b,y:_}]:void 0;f&&clearInterval(f),f=setInterval(N,0),N();function N(){const x=Date.now();for(;Date.now()-x<h&&++C<P;){const y=T[C];y.x=b*(c()+.5)>>1,y.y=_*(c()+.5)>>1,B8(O,y,T,C),y.hasText&&m(E,y,L)&&(l.call(null,"word",{cloud:v,word:y}),A.push(y),L?v.hasImage||z8(L,y):L=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=t[0]>>1,y.y-=t[1]>>1)}v._tags=A,v._bounds=L,C>=P&&(v.stop(),l.call(null,"end",{cloud:v,words:A,bounds:L}))}return v},v.stop=function(){return f&&(clearInterval(f),f=null),v};function g(b){b.width=b.height=1;const _=Math.sqrt(b.getContext("2d").getImageData(0,0,1,1).data.length>>2);b.width=(Xc<<5)/_,b.height=yf/_;const O=b.getContext("2d");return O.fillStyle=O.strokeStyle="red",O.textAlign="center",{context:O,ratio:_}}function m(b,_,O){const E=_.x,P=_.y,A=Math.sqrt(t[0]*t[0]+t[1]*t[1]),T=s(t),C=c()<.5?1:-1;let L,N=-C,x,y;for(;(L=T(N+=C))&&(x=~~L[0],y=~~L[1],!(Math.min(Math.abs(x),Math.abs(y))>=A));)if(_.x=E+x,_.y=P+y,!(_.x+_.x0<0||_.y+_.y0<0||_.x+_.x1>t[0]||_.y+_.y1>t[1])&&(!O||!F8(_,b,t[0]))&&(!O||G8(_,O))){const w=_.sprite,M=_.width>>5,S=t[0]>>5,k=_.x-(M<<4),I=k&127,j=32-I,F=_.y1-_.y0;let X,K=(_.y+_.y0)*S+(k>>5);for(let Q=0;Q<F;Q++){X=0;for(let dt=0;dt<=M;dt++)b[K+dt]|=X<<j|(dt<M?(X=w[Q*M+dt])>>>I:0);K+=S}return delete _.sprite,!0}return!1}return v.createMask=b=>{const _=document.createElement("canvas"),[O,E]=t;if(!O||!E)return;const P=O>>5,A=t_((O>>5)*E);_.width=O,_.height=E;const T=_.getContext("2d");T.drawImage(b,0,0,b.width,b.height,0,0,O,E);const C=T.getImageData(0,0,O,E).data;for(let L=0;L<E;L++)for(let N=0;N<O;N++){const x=P*L+(N>>5),y=L*O+N<<2,M=C[y]>=250&&C[y+1]>=250&&C[y+2]>=250?1<<31-N%32:0;A[x]|=M}v.board=A,v.hasImage=!0},v.timeInterval=function(b){h=b==null?1/0:b},v.words=function(b){u=b},v.size=function(b=[]){t=[+b[0],+b[1]]},v.text=function(b){e=Ca(b)},v.font=function(b){r=Ca(b)},v.fontWeight=function(b){i=Ca(b)},v.rotate=function(b){a=Ca(b)},v.spiral=function(b){s=Y8[b]||b},v.fontSize=function(b){n=Ca(b)},v.padding=function(b){o=Ca(b)},v.random=function(b){c=Ca(b)},v.on=function(b){l=Ca(b)},v}var V8=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})};function X8(t,e){return{set(r,n,i){if(e[r]===void 0)return this;const a=n?n.call(null,e[r]):e[r];return i?i.call(null,a):typeof t[r]=="function"?t[r](a):t[r]=a,this},setAsync(r,n,i){return V8(this,void 0,void 0,function*(){if(e[r]===void 0)return this;const a=n?yield n.call(null,e[r]):e[r];return i?i.call(null,a):typeof t[r]=="function"?t[r](a):t[r]=a,this})}}}var q8=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},U8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const K8={size:[500,500],fontSize:[14,28]};function Z8(t){return new Promise((e,r)=>{if(t instanceof HTMLImageElement){e(t);return}if(typeof t=="string"){const n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=()=>e(n),n.onerror=()=>{console.error(`'image ${t} load failed !!!'`),r()};return}r()})}function Q8(t,e){if(typeof t=="function")return t;if(Array.isArray(t)){const[r,n]=t;if(!e)return()=>(n+r)/2;const[i,a]=e;return a===i?()=>(n+r)/2:({value:o})=>(n-r)/(a-i)*(o-i)+r}return()=>t}const Qp=t=>e=>q8(void 0,void 0,void 0,function*(){const r=Object.assign({},K8,t),n=H8();yield X8(n,r).set("fontSize",m=>{const b=e.map(_=>_.value);return Q8(m,[ni(b),Zn(b)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").setAsync("imageMask",Z8,n.createMask),n.words([...e]);const i=n.start(),[a,o]=r.size,s=[{x:0,y:0},{x:a,y:o}],{_bounds:c=s,_tags:l,hasImage:u}=i,f=l.map(m=>{var{x:b,y:_}=m,O=U8(m,["x","y"]);return Object.assign(Object.assign({},O),{x:b+a/2,y:_+o/2})}),[{x:h,y:d},{x:p,y:v}]=c,g={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},g),{x:u?0:h,y:u?0:d}),Object.assign(Object.assign({},g),{x:u?a:p,y:u?o:v})),f});Qp.props={};function e_(t){return typeof t=="string"?e=>e[t]:t}const n_=t=>{const{join:e,on:r,select:n=[],as:i=n,unknown:a=NaN}=t,[o,s]=r,c=e_(s),l=e_(o),u=Ap(e,([f])=>f,f=>c(f));return f=>f.map(h=>{const d=u.get(l(h));return Object.assign(Object.assign({},h),n.reduce((p,v,g)=>(p[i[g]]=d?d[v]:a,p),{}))})};n_.props={};const r_=t=>{const{start:e,end:r}=t;return n=>n.slice(e,r)};r_.props={};var J8=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},t9=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function e9(t,e){const{text:r="text",value:n="value"}=e;return t.map(i=>Object.assign(Object.assign({},i),{text:i[r],value:i[n]}))}const i_=t=>e=>J8(void 0,void 0,void 0,function*(){const{width:r,height:n}=Ip(e),{data:i,encode:a={},scale:o,style:s={},layout:c={}}=t,l=t9(t,["data","encode","scale","style","layout"]),u={size:[r,n]},f={axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size"},scale:{x:{domain:[0,r],range:[0,1]},y:{domain:[0,n],range:[0,1]},fontSize:{type:"identity"},rotate:{type:"identity"}},style:{textAlign:"center"}},h=e9(i,a),d=yield Qp(Object.assign(Object.assign({},u),c))(h);return[bt({},f,Object.assign(Object.assign({data:d,encode:a,scale:o,style:s},l),{axis:!1}))]});i_.props={};const a_=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];a_.props={};const o_=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];o_.props={};function Na(t,...e){return e.reduce((r,n)=>i=>r(n(i)),t)}function ds(t,e){return e-t?r=>(r-t)/(e-t):r=>.5}function n9(t,e){const r=e<t?e:t,n=t>e?t:e;return i=>Math.min(Math.max(r,i),n)}function Jp(t,e,r,n,i){let a=r||0,o=n||t.length;const s=i||(c=>c);for(;a<o;){const c=Math.floor((a+o)/2);s(t[c])>e?o=c:a=c+1}return a}const t0=Math.sqrt(50),e0=Math.sqrt(10),n0=Math.sqrt(2);function bf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Pn(10,i);return i>=0?(a>=t0?10:a>=e0?5:a>=n0?2:1)*Pn(10,i):-Pn(10,-i)/(a>=t0?10:a>=e0?5:a>=n0?2:1)}function s_(t,e,r){const n=Math.abs(e-t)/Math.max(0,r);let i=Pn(10,Math.floor(Math.log(n)/Math.LN10));const a=n/i;return a>=t0?i*=10:a>=e0?i*=5:a>=n0&&(i*=2),e<t?-i:i}const c_=(t,e,r=5)=>{const n=[t,e];let i=0,a=n.length-1,o=n[i],s=n[a],c;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),c=bf(o,s,r),c>0?(o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c,c=bf(o,s,r)):c<0&&(o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c,c=bf(o,s,r)),c>0?(n[i]=Math.floor(o/c)*c,n[a]=Math.ceil(s/c)*c):c<0&&(n[i]=Math.ceil(o*c)/c,n[a]=Math.floor(s*c)/c),n},qc=1e3,Uc=qc*60,Kc=Uc*60,So=Kc*24,ps=So*7,l_=So*30,u_=So*365;function Qn(t,e,r,n){const i=(l,u)=>{const f=d=>n(d)%u===0;let h=u;for(;h&&!f(l);)r(l,-1),h-=1;return l},a=(l,u)=>{u&&i(l,u),e(l)},o=(l,u)=>{const f=new Date(+l);return a(f,u),f},s=(l,u)=>{const f=new Date(+l-1);return a(f,u),r(f,u),a(f),f};return{ceil:s,floor:o,range:(l,u,f,h)=>{const d=[],p=Math.floor(f),v=h?s(l,f):s(l);for(let g=v;+g<+u;r(g,p),a(g))d.push(new Date(+g));return d},duration:t}}const r9=Qn(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),i9=Qn(qc,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+qc*e)},t=>t.getSeconds()),a9=Qn(Uc,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+Uc*e)},t=>t.getMinutes()),o9=Qn(Kc,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+Kc*e)},t=>t.getHours()),s9=Qn(So,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+So*e)},t=>t.getDate()-1),f_=Qn(l_,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getMonth();t.setMonth(r+e)},t=>t.getMonth()),c9=Qn(ps,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+ps*e)},t=>{const e=f_.floor(t),r=new Date(+t);return Math.floor((+r-+e)/ps)}),l9=Qn(u_,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getFullYear();t.setFullYear(r+e)},t=>t.getFullYear()),h_={millisecond:r9,second:i9,minute:a9,hour:o9,day:s9,week:c9,month:f_,year:l9},u9=Qn(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),f9=Qn(qc,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+qc*e)},t=>t.getUTCSeconds()),h9=Qn(Uc,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+Uc*e)},t=>t.getUTCMinutes()),d9=Qn(Kc,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+Kc*e)},t=>t.getUTCHours()),p9=Qn(So,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+So*e)},t=>t.getUTCDate()-1),d_=Qn(l_,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCMonth();t.setUTCMonth(r+e)},t=>t.getUTCMonth()),v9=Qn(ps,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+ps*e)},t=>{const e=d_.floor(t),r=new Date(+t);return Math.floor((+r-+e)/ps)}),g9=Qn(u_,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCFullYear();t.setUTCFullYear(r+e)},t=>t.getUTCFullYear()),p_={millisecond:u9,second:f9,minute:h9,hour:d9,day:p9,week:v9,month:d_,year:g9};function m9(t){const e=t?p_:h_,{year:r,month:n,week:i,day:a,hour:o,minute:s,second:c,millisecond:l}=e;return{tickIntervals:[[c,1],[c,5],[c,15],[c,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[n,1],[n,3],[r,1]],year:r,millisecond:l}}function v_(t,e,r,n,i){const a=+t,o=+e,{tickIntervals:s,year:c,millisecond:l}=m9(i),u=([g,m])=>g.duration*m,f=n?(o-a)/n:r||5,h=n||(o-a)/f,d=s.length,p=Jp(s,h,0,d,u);let v;if(p===d){const g=s_(a/c.duration,o/c.duration,f);v=[c,g]}else if(p){const g=h/u(s[p-1])<u(s[p])/h,[m,b]=g?s[p-1]:s[p],_=n?Math.ceil(n/m.duration):b;v=[m,_]}else{const g=Math.max(s_(a,o,f),1);v=[l,g]}return v}const y9=(t,e,r,n,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[c,l]=v_(o,s,r,n,i),u=[c.floor(o,l),c.ceil(s,l)];return a?u.reverse():u};function xf(t){return!hR(t)&&!lR(t)&&!Number.isNaN(t)}const g_=t=>e=>-t(-e),r0=(t,e)=>{const r=Math.log(t),n=t===Math.E?Math.log:i=>Math.log(i)/r;return e?g_(n):n},i0=(t,e)=>{const r=t===Math.E?Math.exp:n=>Pn(t,n);return e?g_(r):r},b9=t=>e=>{const r=t(e);return rs(r)?Math.round(r):r};function m_(t,e){return r=>{r.prototype.rescale=function(){this.initRange(),this.nice();const[n]=this.chooseTransforms();this.composeOutput(n,this.chooseClamp(n))},r.prototype.initRange=function(){const{interpolator:n}=this.options;this.options.range=t(n)},r.prototype.composeOutput=function(n,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),c=e(a.map(n)),l=s?b9(o):o;this.output=Na(l,c,i,n)},r.prototype.invert=void 0}}var x9=xt(2489),_9=xt.n(x9);function a0(t,e,r){let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function w9(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100,i=t[3];if(r===0)return[n*255,n*255,n*255,i];const a=n<.5?n*(1+r):n+r-n*r,o=2*n-a,s=a0(o,a,e+1/3),c=a0(o,a,e),l=a0(o,a,e-1/3);return[s*255,c*255,l*255,i]}function y_(t){const e=_9().get(t);if(!e)return null;const{model:r,value:n}=e;return r==="rgb"?n:r==="hsl"?w9(n):null}const Ra=(t,e)=>r=>t*(1-r)+e*r,O9=(t,e)=>{const r=y_(t),n=y_(e);return r===null||n===null?r?()=>t:()=>e:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const f=r[u],h=n[u];a[u]=f*(1-i)+h*i}const[o,s,c,l]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(c)}, ${l})`}},Zc=(t,e)=>typeof t=="number"&&typeof e=="number"?Ra(t,e):typeof t=="string"&&typeof e=="string"?O9(t,e):()=>t,S9=(t,e)=>{const r=Ra(t,e);return n=>Math.round(r(n))};function E9(t,e){const{second:r,minute:n,hour:i,day:a,week:o,month:s,year:c}=e;return r.floor(t)<t?".SSS":n.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":a.floor(t)<t?"hh A":s.floor(t)<t?o.floor(t)<t?"MMM DD":"ddd DD":c.floor(t)<t?"MMMM":"YYYY"}function b_({map:t,initKey:e},r){const n=e(r);return t.has(n)?t.get(n):r}function M9({map:t,initKey:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function P9({map:t,initKey:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function A9(t){return typeof t=="object"?t.valueOf():t}class x_ extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=A9,e!==null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(b_({map:this.map,initKey:this.initKey},e))}has(e){return super.has(b_({map:this.map,initKey:this.initKey},e))}set(e,r){return super.set(M9({map:this.map,initKey:this.initKey},e),r)}delete(e){return super.delete(P9({map:this.map,initKey:this.initKey},e))}}class Qc{constructor(e){this.options=bt({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=bt({},this.options,e),this.rescale(e)}rescale(e){}}const _f=Symbol("defaultUnknown");function __(t,e,r){for(let n=0;n<e.length;n+=1)t.has(e[n])||t.set(r(e[n]),n)}function w_(t){const{value:e,from:r,to:n,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==_f)return a;o=r.push(e)-1,i.set(e,o)}return n[o%n.length]}function O_(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class wf extends Qc{constructor(e){super(e)}getDefaultOptions(){return{domain:[],range:[],unknown:_f}}map(e){return this.domainIndexMap.size===0&&__(this.domainIndexMap,this.getDomain(),this.domainKey),w_({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&__(this.rangeIndexMap,this.getRange(),this.rangeKey),w_({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[r]=this.options.domain,[n]=this.options.range;if(this.domainKey=O_(r),this.rangeKey=O_(n),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new wf(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:r}=this.options;return this.sortedDomain=r?[...e].sort(r):e,this.sortedDomain}}function k9(t){const e=Math.min(...t);return t.map(r=>r/e)}function T9(t,e){const r=t.length,n=e-r;return n>0?[...t,...new Array(n).fill(1)]:n<0?t.slice(0,e):t}function L9(t){return Math.round(t*1e12)/1e12}function C9(t){const{domain:e,range:r,paddingOuter:n,paddingInner:i,flex:a,round:o,align:s}=t,c=e.length,l=T9(a,c),[u,f]=r,h=f-u,d=2/c*n+1-1/c*i,p=h/d,v=p*i/c,g=p-c*v,m=k9(l),b=m.reduce((x,y)=>x+y),_=g/b,O=new x_(e.map((x,y)=>{const w=m[y]*_;return[x,o?Math.floor(w):w]})),E=new x_(e.map((x,y)=>{const M=m[y]*_+v;return[x,o?Math.floor(M):M]})),P=Array.from(E.values()).reduce((x,y)=>x+y),T=(h-(P-P/c*i))*s,C=u+T;let L=o?Math.round(C):C;const N=new Array(c);for(let x=0;x<c;x+=1){N[x]=L9(L);const y=e[x];L+=E.get(y)}return{valueBandWidth:O,valueStep:E,adjustedRange:N}}function N9(t){var e;const{domain:r}=t,n=r.length;if(n===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return C9(t);const{range:a,paddingOuter:o,paddingInner:s,round:c,align:l}=t;let u,f,h=a[0];const p=a[1]-h,v=o*2,g=n-s;u=p/Math.max(1,v+g),c&&(u=Math.floor(u)),h+=(p-u*(n-s))*l,f=u*(1-s),c&&(h=Math.round(h),f=Math.round(f));const m=new Array(n).fill(0).map((b,_)=>h+_*u);return{valueStep:u,valueBandWidth:f,adjustedRange:m}}class vs extends wf{constructor(e){super(e)}getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:_f,flex:[]}}clone(){return new vs(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:r}=this.options;return e>0?e:r}getPaddingOuter(){const{padding:e,paddingOuter:r}=this.options;return e>0?e:r}rescale(){super.rescale();const{align:e,domain:r,range:n,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:c}=N9({align:e,range:n,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=c,this.valueBandWidth=s,this.adjustedRange=o}}const Ia=(t,e,r)=>{let n,i,a=t,o=e;if(a===o&&r>0)return[a];let s=bf(a,o,r);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(n=Math.ceil(o-a+1));for(let c=0;c<n;c+=1)i[c]=(a+c)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(n=Math.ceil(o-a+1));for(let c=0;c<n;c+=1)i[c]=(a+c)/s}return i};class Of extends Qc{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Ia}}map(e){const[r]=this.options.range;return r!==void 0?r:this.options.unknown}invert(e){const[r]=this.options.range;return e===r&&r!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:r,tickCount:n}=this.options,[i,a]=r;return!rs(i)||!rs(a)?[]:e(i,a,n)}clone(){return new Of(this.options)}}function Jc(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}const R9=[1,5,2,2.5,4,3],Mtt=null,S_=Number.EPSILON*100;function I9(t,e){return(t%e+e)%e}function D9(t){return Math.round(t*1e12)/1e12}function j9(t,e,r,n,i,a){const o=Xb(e),s=Vb(e,t);let c=0;const l=I9(n,a);return(l<S_||a-l<S_)&&n<=0&&i>=0&&(c=1),1-s/(o-1)-r+c}function B9(t,e,r){const n=Xb(e),i=Vb(e,t),a=1;return 1-i/(n-1)-r+a}function F9(t,e,r,n,i,a){const o=(t-1)/(a-i),s=(e-1)/(Math.max(a,n)-Math.min(r,i));return 2-Math.max(o/s,s/o)}function z9(t,e){return t>=e?2-(t-1)/(e-1):1}function G9(t,e,r,n){const i=e-t;return 1-.5*(Pn(e-n,2)+Pn(t-r,2))/Pn(.1*i,2)}function $9(t,e,r){const n=e-t;if(r>n){const i=(r-n)/2;return 1-Pn(i,2)/Pn(.1*n,2)}return 1}function W9(){return 1}const o0=(t,e,r=5,n=!0,i=R9,a=[.25,.2,.5,.05])=>{const o=r<0?0:Math.round(r);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!o)return[];if(e-t<1e-15||o===1)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let c=1;for(;c<1/0;){for(let p=0;p<i.length;p+=1){const v=i[p],g=B9(v,i,c);if(a[0]*g+a[1]+a[2]+a[3]<s.score){c=1/0;break}let m=2;for(;m<1/0;){const b=z9(m,o);if(a[0]*g+a[1]+a[2]*b+a[3]<s.score)break;const _=(e-t)/(m+1)/c/v;let O=Math.ceil(Math.log10(_));for(;O<1/0;){const E=c*v*Pn(10,O),P=$9(t,e,E*(m-1));if(a[0]*g+a[1]*P+a[2]*b+a[3]<s.score)break;const A=Math.floor(e/E)*c-(m-1)*c,T=Math.ceil(t/E)*c;if(A<=T){const C=T-A;for(let L=0;L<=C;L+=1){const x=(A+L)*(E/c),y=x+E*(m-1),w=E,M=j9(v,i,c,x,y,w),S=G9(t,e,x,y),k=F9(m,o,t,e,x,y),I=W9(),j=a[0]*M+a[1]*S+a[2]*k+a[3]*I;j>s.score&&(!n||x<=t&&y>=e)&&(s.lmin=x,s.lmax=y,s.lstep=w,s.score=j)}}O+=1}m+=1}}c+=1}const l=Jc(s.lmax),u=Jc(s.lmin),f=Jc(s.lstep),h=Math.floor(D9((l-u)/f))+1,d=new Array(h);d[0]=Jc(u);for(let p=1;p<h;p+=1)d[p]=Jc(d[p-1]+f);return d};class Sf extends Qc{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:o0}}map(e){return xf(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new Sf(this.options)}getTicks(){const{domain:e,tickCount:r,tickMethod:n}=this.options,[i,a]=e;return!rs(i)||!rs(a)?[]:n(i,a,r)}}const Y9=(t,e,r)=>{const[n,i]=t,[a,o]=e;let s,c;return n<i?(s=ds(n,i),c=r(a,o)):(s=ds(i,n),c=r(o,a)),Na(c,s)},H9=(t,e,r)=>{const n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=t[0]>t[n],s=o?[...t].reverse():t,c=o?[...e].reverse():e;for(let l=0;l<n;l+=1)i[l]=ds(s[l],s[l+1]),a[l]=r(c[l],c[l+1]);return l=>{const u=Jp(t,l,1,n)-1,f=i[u],h=a[u];return Na(h,f)(l)}},E_=(t,e,r,n)=>(Math.min(t.length,e.length)>2?H9:Y9)(t,e,n?S9:r);class Ef extends Qc{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ra,tickCount:5}}map(e){return xf(e)?this.output(e):this.options.unknown}invert(e){return xf(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,r,n,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,r,n,...i)}getTicks(){const{tickMethod:e}=this.options,[r,n,i,...a]=this.getTickMethodOptions();return e(r,n,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,n=e[0],i=e[e.length-1];return[n,i,r]}chooseNice(){return c_}rescale(){this.nice();const[e,r]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,r,this.chooseClamp(r))}chooseClamp(e){const{clamp:r,range:n}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,n.length);return r?n9(i[0],i[a-1]):La}composeOutput(e,r){const{domain:n,range:i,round:a,interpolate:o}=this.options,s=E_(n.map(e),i,o,a);this.output=Na(s,r,e)}composeInput(e,r,n){const{domain:i,range:a}=this.options,o=E_(a,i.map(e),Ra);this.input=Na(r,n,o)}}class Jn extends Ef{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Zc,tickMethod:Ia,tickCount:5}}chooseTransforms(){return[La,La]}clone(){return new Jn(this.options)}}class s0 extends vs{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:_f,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new s0(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}const V9=t=>e=>e<0?-Pn(-e,t):Pn(e,t),X9=t=>e=>e<0?-Pn(-e,1/t):Pn(e,1/t),q9=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class Mf extends Ef{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Zc,tickMethod:Ia,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[La,La];const r=e===.5?q9:V9(e),n=X9(e);return[r,n]}clone(){return new Mf(this.options)}}class c0 extends Mf{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Zc,tickMethod:Ia,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new c0(this.options)}}class gs extends Qc{constructor(e){super(e)}getDefaultOptions(){return{domain:[.5],range:[0,1]}}map(e){if(!xf(e))return this.options.unknown;const r=Jp(this.thresholds,e,0,this.n);return this.options.range[r]}invert(e){const{range:r}=this.options,n=r.indexOf(e),i=this.thresholds;return[i[n-1],i[n]]}clone(){return new gs(this.options)}rescale(){const{domain:e,range:r}=this.options;this.n=Math.min(e.length,r.length-1),this.thresholds=e}}const U9=(t,e,r,n=10)=>{const i=t<0,a=i0(n,i),o=r0(n,i),s=e<t,c=s?e:t,l=s?t:e;let u=o(c),f=o(l),h=[];if(!(n%1)&&f-u<r){if(u=Math.floor(u),f=Math.ceil(f),i)for(;u<=f;u+=1){const d=a(u);for(let p=n-1;p>=1;p-=1){const v=d*p;if(v>l)break;v>=c&&h.push(v)}}else for(;u<=f;u+=1){const d=a(u);for(let p=1;p<n;p+=1){const v=d*p;if(v>l)break;v>=c&&h.push(v)}}h.length*2<r&&(h=Ia(c,l,r))}else h=Ia(u,f,Math.min(f-u,r)).map(a);return s?h.reverse():h},K9=(t,e,r,n)=>{const i=t<0,a=r0(n,i),o=i0(n,i),s=t>e,c=s?e:t,l=s?t:e,u=[o(Math.floor(a(c))),o(Math.ceil(a(l)))];return s?u.reverse():u};class l0 extends Ef{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Zc,tickMethod:U9,tickCount:5}}chooseNice(){return K9}getTickMethodOptions(){const{domain:e,tickCount:r,base:n}=this.options,i=e[0],a=e[e.length-1];return[i,a,r,n]}chooseTransforms(){const{base:e,domain:r}=this.options,n=r[0]<0;return[r0(e,n),i0(e,n)]}clone(){return new l0(this.options)}}class Pf extends gs{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:o0}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[r,n,i]=this.getTickMethodOptions();this.options.domain=c_(r,n,i)}}getTicks(){const{tickMethod:e}=this.options,[r,n,i]=this.getTickMethodOptions();return e(r,n,i)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,n=e[0],i=e[e.length-1];return[n,i,r]}rescale(){this.nice();const{range:e,domain:r}=this.options,[n,i]=r;this.n=e.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*n)/(this.n+1)}invert(e){const[r,n]=super.invert(e),[i,a]=this.options.domain;return r===void 0&&n===void 0?[r,n]:[r||i,n||a]}getThresholds(){return this.thresholds}clone(){return new Pf(this.options)}}function Z9(t,e){const r=t.length;if(!r)return;if(r<2)return t[r-1];const n=(r-1)*e,i=Math.floor(n),a=t[i],o=t[i+1];return a+(o-a)*(n-i)}function Q9(t,e,r=!1){const n=t;r||n.sort((a,o)=>a-o);const i=[];for(let a=1;a<e;a+=1)i.push(Z9(n,a/e));return i}class Af extends gs{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:o0}}constructor(e){super(e)}rescale(){const{domain:e,range:r}=this.options;this.n=r.length-1,this.thresholds=Q9(e,this.n+1,!1)}invert(e){const[r,n]=super.invert(e),{domain:i}=this.options,a=i[0],o=i[i.length-1];return r===void 0&&n===void 0?[r,n]:[r||a,n||o]}getThresholds(){return this.thresholds}clone(){return new Af(this.options)}getTicks(){const{tickCount:e,domain:r,tickMethod:n}=this.options,i=r.length-1,a=r[0],o=r[i];return n(a,o,e)}}var M_=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Da="\\d\\d?",ja="\\d\\d",J9="\\d{3}",tD="\\d{4}",tl="[^\\s]+",P_=/\[([^]*?)\]/gm;function A_(t,e){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].substr(0,e));return r}var k_=function(t){return function(e,r){var n=r[t].map(function(a){return a.toLowerCase()}),i=n.indexOf(e.toLowerCase());return i>-1?i:null}};function Eo(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;n<i.length;n++){var a=i[n];for(var o in a)t[o]=a[o]}return t}var T_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L_=["January","February","March","April","May","June","July","August","September","October","November","December"],eD=A_(L_,3),nD=A_(T_,3),C_={dayNamesShort:nD,dayNames:T_,monthNamesShort:eD,monthNames:L_,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},kf=Eo({},C_),rD=function(t){return kf=Eo(kf,t)},N_=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},yr=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},iD={D:function(t){return String(t.getDate())},DD:function(t){return yr(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return yr(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return yr(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return yr(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return yr(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return yr(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return yr(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return yr(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return yr(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return yr(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return yr(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+yr(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+yr(Math.floor(Math.abs(e)/60),2)+":"+yr(Math.abs(e)%60,2)}},R_=function(t){return+t-1},I_=[null,Da],D_=[null,tl],j_=["isPm",tl,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],B_=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?r:-r}return 0}],aD={D:["day",Da],DD:["day",ja],Do:["day",Da+tl,function(t){return parseInt(t,10)}],M:["month",Da,R_],MM:["month",ja,R_],YY:["year",ja,function(t){var e=new Date,r=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?r-1:r)+t)}],h:["hour",Da,void 0,"isPm"],hh:["hour",ja,void 0,"isPm"],H:["hour",Da],HH:["hour",ja],m:["minute",Da],mm:["minute",ja],s:["second",Da],ss:["second",ja],YYYY:["year",tD],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",ja,function(t){return+t*10}],SSS:["millisecond",J9],d:I_,dd:I_,ddd:D_,dddd:D_,MMM:["month",tl,k_("monthNamesShort")],MMMM:["month",tl,k_("monthNames")],a:j_,A:j_,ZZ:B_,Z:B_},Tf={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},oD=function(t){return Eo(Tf,t)},F_=function(t,e,r){if(e===void 0&&(e=Tf.default),r===void 0&&(r={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=Tf[e]||e;var n=[];e=e.replace(P_,function(a,o){return n.push(o),"@@@"});var i=Eo(Eo({},kf),r);return e=e.replace(M_,function(a){return iD[a](t,i)}),e.replace(/@@@/g,function(){return n.shift()})};function sD(t,e,r){if(r===void 0&&(r={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Tf[e]||e,t.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(P_,function(O,E){return o.push(N_(E)),"@@@"}),c={},l={};s=N_(s).replace(M_,function(O){var E=aD[O],P=E[0],A=E[1],T=E[3];if(c[P])throw new Error("Invalid format. "+P+" specified twice in format");return c[P]=!0,T&&(l[T]=!0),a.push(E),"("+A+")"}),Object.keys(l).forEach(function(O){if(!c[O])throw new Error("Invalid format. "+O+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var u=t.match(new RegExp(s,"i"));if(!u)return null;for(var f=Eo(Eo({},kf),r),h=1;h<u.length;h++){var d=a[h-1],p=d[0],v=d[2],g=v?v(u[h],f):+u[h];if(g==null)return null;i[p]=g}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var m;if(i.timezoneOffset==null){m=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var b=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,_=b.length;h<_;h++)if(c[b[h][0]]&&i[b[h][0]]!==m[b[h][1]]())return null}else if(m=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return m}var Ptt={format:F_,parse:sD,defaultI18n:C_,setGlobalDateI18n:rD,setGlobalDateMasks:oD},Att=null;const cD=(t,e,r,n,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[c,l]=v_(o,s,r,n,i),u=c.range(o,new Date(+s+1),l,!0);return a?u.reverse():u};function lD(t){const e=t.getTimezoneOffset(),r=new Date(t);return r.setMinutes(r.getMinutes()+e,r.getSeconds(),r.getMilliseconds()),r}class u0 extends Ef{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:cD,interpolate:Ra,mask:void 0,utc:!1}}chooseTransforms(){return[n=>+n,n=>new Date(n)]}chooseNice(){return y9}getTickMethodOptions(){const{domain:e,tickCount:r,tickInterval:n,utc:i}=this.options,a=e[0],o=e[e.length-1];return[a,o,r,n,i]}getFormatter(){const{mask:e,utc:r}=this.options,n=r?p_:h_,i=r?lD:La;return a=>F_(i(a),e||E9(a,n))}clone(){return new u0(this.options)}}var uD=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f0;function fD(t){return[t(0),t(1)]}const hD=t=>{const[e,r]=t;return Na(Ra(0,1),ds(e,r))};let h0=f0=class extends Jn{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:La,tickMethod:Ia,tickCount:5}}constructor(e){super(e)}clone(){return new f0(this.options)}};h0=f0=uD([m_(fD,hD)],h0);var dD=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d0;function pD(t){return[t(0),t(.5),t(1)]}const vD=t=>{const[e,r,n]=t,i=Na(Ra(0,.5),ds(e,r)),a=Na(Ra(.5,1),ds(r,n));return o=>e>n?o<r?a(o):i(o):o<r?i(o):a(o)};let z_=d0=class extends Jn{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:La,tickMethod:Ia,tickCount:5}}constructor(e){super(e)}clone(){return new d0(this.options)}};z_=d0=dD([m_(pD,vD)],z_);const G_=t=>new vs(t);G_.props={};const $_=t=>new Jn(t);$_.props={};const W_=t=>new wf(t);W_.props={};const Y_=t=>new Sf(t);Y_.props={};const H_=t=>new s0(t);H_.props={};const V_=t=>new u0(t);V_.props={};const X_=t=>new l0(t);X_.props={};const q_=t=>new Mf(t);q_.props={};const U_=t=>new gs(t);U_.props={};const K_=t=>new Af(t);K_.props={};const Z_=t=>new Pf(t);Z_.props={};const Q_=t=>new c0(t);Q_.props={};const J_=t=>new h0(t);J_.props={};const tw=t=>new Of(t);tw.props={};function rn(t){return function(){return t}}const ew=Math.abs,tr=Math.atan2,Mo=Math.cos,gD=Math.max,p0=Math.min,Ei=Math.sin,ms=Math.sqrt,er=1e-12,el=Math.PI,Lf=el/2,mD=2*el;function yD(t){return t>1?0:t<-1?el:Math.acos(t)}function nw(t){return t>=1?Lf:t<=-1?-Lf:Math.asin(t)}const v0=Math.PI,g0=2*v0,Po=1e-6,bD=g0-Po;function rw(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xD(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rw;const r=Pn(10,e);return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Cf{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rw:xD(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,l=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Po)if(!(Math.abs(f*c-l*u)>Po)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let d=n-o,p=i-s,v=c*c+l*l,g=d*d+p*p,m=Math.sqrt(v),b=Math.sqrt(h),_=a*Math.tan((v0-Math.acos((v+h-g)/(2*m*b)))/2),O=_/b,E=_/m;Math.abs(O-1)>Po&&this._append`L${e+O*u},${r+O*f}`,this._append`A${a},${a},0,0,${+(f*d>u*p)},${this._x1=e+E*c},${this._y1=r+E*l}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),l=e+s,u=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Po||Math.abs(this._y1-u)>Po)&&this._append`L${l},${u}`,n&&(h<0&&(h=h%g0+g0),h>bD?this._append`A${n},${n},0,1,${f},${e-s},${r-c}A${n},${n},0,1,${f},${this._x1=l},${this._y1=u}`:h>Po&&this._append`A${n},${n},0,${+(h>=v0)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Mi(){return new Cf}Mi.prototype=Cf.prototype;function ktt(t=3){return new Cf(+t)}function m0(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Cf(e)}function _D(t){return t.innerRadius}function wD(t){return t.outerRadius}function OD(t){return t.startAngle}function SD(t){return t.endAngle}function ED(t){return t&&t.padAngle}function MD(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=o-i,f=s-a,h=f*c-u*l;if(!(h*h<er))return h=(u*(e-a)-f*(t-i))/h,[t+h*c,e+h*l]}function Nf(t,e,r,n,i,a,o){var s=t-r,c=e-n,l=(o?a:-a)/ms(s*s+c*c),u=l*c,f=-l*s,h=t+u,d=e+f,p=r+u,v=n+f,g=(h+p)/2,m=(d+v)/2,b=p-h,_=v-d,O=b*b+_*_,E=i-a,P=h*v-p*d,A=(_<0?-1:1)*ms(gD(0,E*E*O-P*P)),T=(P*_-b*A)/O,C=(-P*b-_*A)/O,L=(P*_+b*A)/O,N=(-P*b+_*A)/O,x=T-g,y=C-m,w=L-g,M=N-m;return x*x+y*y>w*w+M*M&&(T=L,C=N),{cx:T,cy:C,x01:-u,y01:-f,x11:T*(i/E-1),y11:C*(i/E-1)}}function y0(){var t=_D,e=wD,r=rn(0),n=null,i=OD,a=SD,o=ED,s=null,c=m0(l);function l(){var u,f,h=+t.apply(this,arguments),d=+e.apply(this,arguments),p=i.apply(this,arguments)-Lf,v=a.apply(this,arguments)-Lf,g=ew(v-p),m=v>p;if(s||(s=u=c()),d<h&&(f=d,d=h,h=f),!(d>er))s.moveTo(0,0);else if(g>mD-er)s.moveTo(d*Mo(p),d*Ei(p)),s.arc(0,0,d,p,v,!m),h>er&&(s.moveTo(h*Mo(v),h*Ei(v)),s.arc(0,0,h,v,p,m));else{var b=p,_=v,O=p,E=v,P=g,A=g,T=o.apply(this,arguments)/2,C=T>er&&(n?+n.apply(this,arguments):ms(h*h+d*d)),L=p0(ew(d-h)/2,+r.apply(this,arguments)),N=L,x=L,y,w;if(C>er){var M=nw(C/h*Ei(T)),S=nw(C/d*Ei(T));(P-=M*2)>er?(M*=m?1:-1,O+=M,E-=M):(P=0,O=E=(p+v)/2),(A-=S*2)>er?(S*=m?1:-1,b+=S,_-=S):(A=0,b=_=(p+v)/2)}var k=d*Mo(b),I=d*Ei(b),j=h*Mo(E),F=h*Ei(E);if(L>er){var X=d*Mo(_),K=d*Ei(_),Q=h*Mo(O),dt=h*Ei(O),Ct;if(g<el)if(Ct=MD(k,I,Q,dt,X,K,j,F)){var Nt=k-Ct[0],ee=I-Ct[1],Yt=X-Ct[0],Rt=K-Ct[1],Ut=1/Ei(yD((Nt*Yt+ee*Rt)/(ms(Nt*Nt+ee*ee)*ms(Yt*Yt+Rt*Rt)))/2),fe=ms(Ct[0]*Ct[0]+Ct[1]*Ct[1]);N=p0(L,(h-fe)/(Ut-1)),x=p0(L,(d-fe)/(Ut+1))}else N=x=0}A>er?x>er?(y=Nf(Q,dt,k,I,d,x,m),w=Nf(X,K,j,F,d,x,m),s.moveTo(y.cx+y.x01,y.cy+y.y01),x<L?s.arc(y.cx,y.cy,x,tr(y.y01,y.x01),tr(w.y01,w.x01),!m):(s.arc(y.cx,y.cy,x,tr(y.y01,y.x01),tr(y.y11,y.x11),!m),s.arc(0,0,d,tr(y.cy+y.y11,y.cx+y.x11),tr(w.cy+w.y11,w.cx+w.x11),!m),s.arc(w.cx,w.cy,x,tr(w.y11,w.x11),tr(w.y01,w.x01),!m))):(s.moveTo(k,I),s.arc(0,0,d,b,_,!m)):s.moveTo(k,I),!(h>er)||!(P>er)?s.lineTo(j,F):N>er?(y=Nf(j,F,X,K,h,-N,m),w=Nf(k,I,Q,dt,h,-N,m),s.lineTo(y.cx+y.x01,y.cy+y.y01),N<L?s.arc(y.cx,y.cy,N,tr(y.y01,y.x01),tr(w.y01,w.x01),!m):(s.arc(y.cx,y.cy,N,tr(y.y01,y.x01),tr(y.y11,y.x11),!m),s.arc(0,0,h,tr(y.cy+y.y11,y.cx+y.x11),tr(w.cy+w.y11,w.cx+w.x11),m),s.arc(w.cx,w.cy,N,tr(w.y11,w.x11),tr(w.y01,w.x01),!m))):s.arc(0,0,h,E,O,m)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-el/2;return[Mo(f)*u,Ei(f)*u]},l.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:rn(+u),l):t},l.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:rn(+u),l):e},l.cornerRadius=function(u){return arguments.length?(r=typeof u=="function"?u:rn(+u),l):r},l.padRadius=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:rn(+u),l):n},l.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:rn(+u),l):i},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:rn(+u),l):a},l.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:rn(+u),l):o},l.context=function(u){return arguments.length?(s=u==null?null:u,l):s},l}function ie(t){return new Mn([t],null,t,t.ownerDocument)}class Mn{constructor(e=null,r=null,n=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(e),this._data=r,this._parent=n,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(e){const r=typeof e=="string"?this._parent.querySelectorAll(e):e;return new Mn(r,null,this._elements[0],this._document)}selectFacetAll(e){const r=typeof e=="string"?this._parent.querySelectorAll(e):e;return new Mn(this._elements,null,this._parent,this._document,void 0,void 0,r)}select(e){const r=typeof e=="string"?this._parent.querySelectorAll(e)[0]||null:e;return new Mn([r],null,r,this._document)}append(e){const r=typeof e=="function"?e:()=>this.createElement(e),n=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],c=r(o,i);c.__data__=o,s!==null&&(c.__fromElements__=s),this._parent.appendChild(c),n.push(c)}return new Mn(n,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=r(o,i);a.appendChild(s),n.push(s)}return new Mn(n,null,n[0],this._document)}}maybeAppend(e,r){const n=this._elements[0],i=n.getElementById(e);if(i)return new Mn([i],null,this._parent,this._document);const a=typeof r=="string"?this.createElement(r):r();return a.id=e,n.appendChild(a),new Mn([a],null,this._parent,this._document)}data(e,r=i=>i,n=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],c=new Set,l=new Map(this._elements.map((d,p)=>[r(d.__data__,p),d])),u=new Map(this._facetElements.map((d,p)=>[r(d.__data__,p),d])),f=nn(this._elements,d=>n(d.__data__));for(let d=0;d<e.length;d++){const p=e[d],v=r(p,d),g=n(p,d);if(l.has(v)){const m=l.get(v);m.__data__=p,m.__facet__=!1,a.push(m),o.delete(m),l.delete(v)}else if(u.has(v)){const m=u.get(v);m.__data__=p,m.__facet__=!0,a.push(m),u.delete(v)}else if(f.has(v)){const m=f.get(v);s.push([p,m]);for(const b of m)o.delete(b);f.delete(v)}else if(l.has(g)){const m=l.get(g);m.__toData__?m.__toData__.push(p):m.__toData__=[p],c.add(m),o.delete(m)}else i.push(p)}const h=[new Mn([],i,this._parent,this._document),new Mn(a,null,this._parent,this._document),new Mn(o,null,this._parent,this._document),new Mn([],s,this._parent,this._document),new Mn(c,null,this._parent,this._document)];return new Mn(this._elements,null,this._parent,this._document,h)}merge(e){const r=[...this._elements,...e._elements],n=[...this._transitions,...e._transitions];return new Mn(r,null,this._parent,this._document,void 0,n)}createElement(e){if(this._document)return this._document.createElement(e,{});const r=Mn.registry[e];return r?new r:sf(`Unknown node type: ${e}`)}join(e=o=>o,r=o=>o,n=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=e(this._enter),s=r(this._update),c=n(this._exit),l=i(this._merge),u=a(this._split);return s.merge(o).merge(c).merge(l).merge(u)}remove(){for(let e=0;e<this._elements.length;e++){const r=this._transitions[e];if(r){const n=Array.isArray(r)?r:[r];Promise.all(n.map(i=>i.finished)).then(()=>{this._elements[e].remove()})}else this._elements[e].remove()}return new Mn([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let r=0;r<this._elements.length;r++){const n=this._elements[r],i=n.__data__;e.call(n,i,r)}return this}attr(e,r){const n=typeof r!="function"?()=>r:r;return this.each(function(i,a){r!==void 0&&(this[e]=n.call(this,i,a))})}style(e,r){const n=typeof r!="function"?()=>r:r;return this.each(function(i,a){r!==void 0&&(this.style[e]=n.call(this,i,a))})}transition(e){const r=typeof e!="function"?()=>e:e,{_transitions:n}=this;return this.each(function(i,a){n[a]=r.call(this,i,a)})}on(e,r){return this.each(function(){this.addEventListener(e,r)}),this}call(e,...r){return e.call(this._parent,this,...r),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}Mn.registry={g:or,rect:Br,circle:wu,path:Ne,text:wi,ellipse:Cd,image:Eu,line:Oc,polygon:Mu,polyline:Nd,html:Su};function br([t,e],[r,n]){return[t-r,e-n]}function xn([t,e],[r,n]){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-n,2))}function Ji([t,e]){return Math.atan2(e,t)}function ys([t,e]){return Ji([t,e])+Math.PI/2}function iw(t,e){const r=Ji(t),n=Ji(e);return r<n?n-r:Math.PI*2-(r-n)}function b0(t){let e=1/0,r=-1/0,n=1/0,i=-1/0;for(const[s,c]of t)e=Math.min(s,e),r=Math.max(s,r),n=Math.min(c,n),i=Math.max(c,i);const a=r-e,o=i-n;return[e,n,a,o]}function aw([t,e],[r,n]){return[(t+r)/2,(e+n)/2]}function Ba(t,e){let r,n;if(e===void 0)for(const i of t)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)))}return[r,n]}function Fa(t,e){return Object.entries(t).reduce((r,[n,i])=>(r[n]=e(i,n,t),r),{})}function Ao(t){return t.map((e,r)=>r)}function Ttt(t){const e=t.length,r=t[0].length,n=new Array(r).fill(0).map(()=>new Array(e));for(let i=0;i<r;i++)for(let a=0;a<e;a++)n[i][a]=t[a][i];return n}function PD(t){return t[0]}function AD(t){return t[t.length-1]}function Ltt(t){return!t.some(Array.isArray)}function kD(t){return Array.from(new Set(t))}function ow(t,e){const r=[[],[]];return t.forEach(n=>{r[e(n)?0:1].push(n)}),r}function sw(t,e=t.length){if(e===1)return t.map(n=>[n]);const r=[];for(let n=0;n<t.length;n++){const i=t.slice(n+1);sw(i,e-1).forEach(o=>{r.push([t[n],...o])})}return r}function cw(t){if(t.length===1)return[t];const e=[];for(let r=1;r<=t.length;r++)e.push(...sw(t,r));return e}function qt(t,e){for(const[r,n]of Object.entries(e))t.style(r,n)}function TD(t,e){return e.forEach((r,n)=>n===0?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])),t.closePath(),t}function lw(t,e,r){const{arrowSize:n}=r,i=typeof n=="string"?+parseFloat(n)/100*xn(t,e):n,a=Math.PI/6,o=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-o-a,c=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],l=o-a,u=[e[0]-i*Math.cos(l),e[1]-i*Math.sin(l)];return[c,u]}function nl(t,e,r,n,i){const a=Ji(br(n,e))+Math.PI,o=Ji(br(n,r))+Math.PI;return t.arc(n[0],n[1],i,a,o,o-a<0),t}function uw(t,e,r,n="y",i="between"){const a=n==="y"||n===!0?r:e,o=n==="y"||n===!0?90:0,s=Ao(a),[c,l]=Ba(s,p=>a[p]),u=new Jn({domain:[c,l],range:[0,100]}),f=p=>u.map(a[p]),h={between:p=>`${t[p]} ${f(p)}%`,start:p=>p===0?`${t[p]} ${f(p)}%`:`${t[p-1]} ${f(p)}%, ${t[p]} ${f(p)}%`,end:p=>p===t.length-1?`${t[p]} ${f(p)}%`:`${t[p]} ${f(p)}%, ${t[p+1]} ${f(p)}%`},d=s.sort((p,v)=>f(p)-f(v)).map(h[i]||h.between).join(",");return`linear-gradient(${o}deg, ${d})`}function x0(t){const[e,r,n,i]=t;return[i,e,r,n]}function bs(t,e,r){const[n,i,,a]=Vn(t)?x0(e):e,[o,s]=r,c=t.getCenter(),l=ys(br(n,c)),u=ys(br(i,c)),f=u===l&&o!==s?u+Math.PI*2:u;return{startAngle:l,endAngle:f-l>=0?f:Math.PI*2+f,innerRadius:xn(a,c),outerRadius:xn(n,c)}}function Gn(t,e,r,n){const{defaultColor:i}=t,a=t[e]||{},o=a[r]||a[n];return Object.assign({defaultColor:i},o)}function Ctt(t){const e="connect";return Object.fromEntries(Object.entries(t).filter(([r])=>r.startsWith(e)).map(([r,n])=>[lowerFirst(r.replace(e,"").trim()),n]).filter(([r])=>r!==void 0))}function fw(t){const{opacityAttribute:e="fill"}=t;return`${e}Opacity`}function hw(t,e){if(!vn(t))return"";const r=t.getCenter(),{transform:n}=e;return`translate(${r[0]}, ${r[1]}) ${n||""}`}var Rf=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function dw(t,e,r,n={}){const{inset:i=0,radius:a=0,insetLeft:o=i,insetTop:s=i,insetRight:c=i,insetBottom:l=i,radiusBottomLeft:u=a,radiusBottomRight:f=a,radiusTopLeft:h=a,radiusTopRight:d=a}=n,p=Rf(n,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight"]);if(!vn(r)&&!S2(r)){const O=!!Vn(r),[E,,P]=O?x0(t):t,[A,T]=E,[C,L]=br(P,E),N=C>0?A:A+C,x=L>0?T:T+L,y=Math.abs(C),w=Math.abs(L),M=N+o,S=x+s,k=y-(o+c),I=w-(s+l);return ie(new Br({})).style("x",M).style("y",S).style("width",k).style("height",I).style("radius",[h,d,f,u]).call(qt,p).node()}const{y:v,y1:g}=e,m=r.getCenter(),b=bs(r,t,[v,g]),_=y0().cornerRadius(a).padAngle(i*Math.PI/180);return ie(new Ne({})).style("path",_(b)).style("transform",`translate(${m[0]}, ${m[1]})`).style("radius",a).style("inset",i).call(qt,p).node()}const za=t=>{const{colorAttribute:e,opacityAttribute:r="fill",first:n=!0,last:i=!0}=t,a=Rf(t,["colorAttribute","opacityAttribute","first","last"]);return(o,s,c,l)=>{const{mark:u,shape:f,defaultShape:h}=s,d=Gn(l,u,f,h),{defaultColor:p,radius:v=0}=d,g=Rf(d,["defaultColor","radius"]),m=g.lineWidth||1,{stroke:b,radius:_=v,radiusTopLeft:O=_,radiusTopRight:E=_,radiusBottomRight:P=_,radiusBottomLeft:A=_,innerRadius:T=0,innerRadiusTopLeft:C=T,innerRadiusTopRight:L=T,innerRadiusBottomRight:N=T,innerRadiusBottomLeft:x=T,lineWidth:y=e==="stroke"||b?m:0,inset:w=0,insetLeft:M=w,insetRight:S=w,insetBottom:k=w,insetTop:I=w}=a,j=Rf(a,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop"]),{color:F=p,opacity:X}=s;return ie(dw(o,s,c,{radius:_,radiusTopLeft:n?O:C,radiusTopRight:n?E:L,radiusBottomRight:i?P:N,radiusBottomLeft:i?A:x,inset:w,insetLeft:M,insetRight:S,insetBottom:k,insetTop:I})).call(qt,g).style(e,F).style(fw(t),X).style("lineWidth",y).style("stroke",b===void 0?F:b).call(qt,j).node()}};za.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ko=t=>za(Object.assign({colorAttribute:"fill"},t));ko.props=Object.assign({},za.props);const If=t=>za(Object.assign({colorAttribute:"stroke"},t));If.props=Object.assign({},za.props);var LD=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function CD(t,e,r){const[n,i,a,o]=t;if(Vn(r)){const l=[e?e[0][0]:i[0],i[1]],u=[e?e[3][0]:a[0],a[1]];return[n,l,u,o]}const s=[i[0],e?e[0][1]:i[1]],c=[a[0],e?e[3][1]:a[1]];return[n,s,c,o]}const _0=t=>{const{adjustPoints:e=CD}=t,r=LD(t,["adjustPoints"]);return(n,i,a,o,s,...c)=>{const{index:l}=i,u=s[l+1],f=e(n,u,a);return za(Object.assign({colorAttribute:"fill"},r))(f,i,a,o,s,...c)}};_0.props=Object.assign({},za.props);function ND(t,e,r){const[n,i,a,o]=t;if(Vn(r)){const l=[e?e[0][0]:(i[0]+a[0])/2,i[1]],u=[e?e[3][0]:(i[0]+a[0])/2,a[1]];return[n,l,u,o]}const s=[i[0],e?e[0][1]:(i[1]+a[1])/2],c=[a[0],e?e[3][1]:(i[1]+a[1])/2];return[n,s,c,o]}const pw=t=>_0(Object.assign({adjustPoints:ND},t));pw.props=Object.assign({},za.props);function xs(){}function vw(t){this._context=t}vw.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gw(t){return new vw(t)}function mw(t){this._context=t}mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rl(t){return new mw(t)}var yw=w0(rl);function bw(t){this._curve=t}bw.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function w0(t){function e(r){return new bw(t(r))}return e._curve=t,e}var Ntt=Array.prototype.slice;function xw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _w(t){return t[0]}function ww(t){return t[1]}function To(t,e){var r=rn(!0),n=null,i=rl,a=null,o=m0(s);t=typeof t=="function"?t:t===void 0?_w:rn(t),e=typeof e=="function"?e:e===void 0?ww:rn(e);function s(c){var l,u=(c=xw(c)).length,f,h=!1,d;for(n==null&&(a=i(d=o())),l=0;l<=u;++l)!(l<u&&r(f=c[l],l,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,l,c),+e(f,l,c));if(d)return a=null,d+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:rn(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:rn(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:rn(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function il(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?e(w0(r)):e()._curve},t}function RD(){return il(To().curve(yw))}function al(t){const e=typeof t=="function"?t:t.render;return class extends wc{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}var Ow=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ID=al(t=>{const{d1:e,d2:r,style1:n,style2:i}=t.attributes;ie(t).maybeAppend("line",()=>new Ne({})).style("d",e).call(qt,n),ie(t).maybeAppend("line1",()=>new Ne({})).style("d",r).call(qt,i)});function DD(t,e){const r=[],n=[];let i=!1,a=null;for(const o of t)!e(o[0])||!e(o[1])?i=!0:(r.push(o),i&&(i=!1,n.push([a,o])),a=o);return[r,n]}const ri=t=>{const{curve:e,gradient:r=!1,gradientColor:n="between",defined:i=s=>!Number.isNaN(s)&&s!==void 0&&s!==null,connectNulls:a=!1}=t,o=Ow(t,["curve","gradient","gradientColor","defined","connectNulls"]);return(s,c,l,u)=>{const{mark:f,shape:h,defaultShape:d}=c,p=Gn(u,f,h,d),{defaultColor:v,lineWidth:g}=p,m=Ow(p,["defaultColor","lineWidth"]),{color:b=v,size:_=g,seriesColor:O,seriesX:E,seriesY:P}=c,A=r&&O?uw(O,E,P,r,n):b,T=hw(l,c),C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m),A&&{stroke:A}),_&&{lineWidth:_}),T&&{transform:T}),o);let L;if(vn(l)){const S=l.getCenter();L=k=>RD().angle((I,j)=>ys(br(k[j],S))).radius((I,j)=>xn(k[j],S)).defined(([I,j])=>i(I)&&i(j)).curve(e)(k)}else L=To().x(S=>S[0]).y(S=>S[1]).defined(([S,k])=>i(S)&&i(k)).curve(e);const[N,x]=DD(s,i),y=Wt(C,"connect"),w=!!x.length;if(!w||a&&!Object.keys(y).length)return ie(new Ne({})).style("d",L(N)).call(qt,C).node();if(w&&!a)return ie(new Ne({})).style("d",L(s)).call(qt,C).node();const M=S=>S.map(L).join(",");return ie(new ID).style("style1",Object.assign(Object.assign({},C),y)).style("style2",C).style("d1",M(x)).style("d2",L(s)).node()}};ri.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Sw=t=>(e,r,n,i)=>{const a=vn(n)?gw:rl;return ri(Object.assign({curve:a},t))(e,r,n,i)};Sw.props=Object.assign({},ri.props);function O0(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function S0(t,e){this._context=t,this._k=(1-e)/6}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:O0(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:O0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rtt=function t(e){function r(n){return new S0(n,e)}return r.tension=function(n){return t(+n)},r}(0);function E0(t,e){this._context=t,this._k=(1-e)/6}E0.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:O0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Itt=function t(e){function r(n){return new E0(n,e)}return r.tension=function(n){return t(+n)},r}(0);function Ew(t,e,r){var n=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>er){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>er){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*l+t._y1*t._l23_2a-r*t._l12_2a)/u}t._context.bezierCurveTo(n,i,a,o,t._x2,t._y2)}function Mw(t,e){this._context=t,this._alpha=e}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ew(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pw=function t(e){function r(n){return e?new Mw(n,e):new S0(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function Aw(t,e){this._context=t,this._alpha=e}Aw.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ew(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kw=function t(e){function r(n){return e?new Aw(n,e):new E0(n,0)}return r.alpha=function(n){return t(+n)},r}(.5),jD=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Tw=t=>{const{alpha:e=.5}=t,r=jD(t,["alpha"]);return(n,i,a,o)=>{const s=vn(a)?kw:Pw;return ri(Object.assign({curve:s.alpha(e)},r))(n,i,a,o)}};Tw.props=Object.assign({},ri.props);function Df(t,e){this._context=t,this._t=e}Df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Lw(t){return new Df(t,.5)}function Cw(t){return new Df(t,0)}function Nw(t){return new Df(t,1)}const Rw=t=>ri(Object.assign({curve:Nw},t));Rw.props=Object.assign({},ri.props);const Iw=t=>ri(Object.assign({curve:Cw},t));Iw.props=Object.assign({},ri.props);const Dw=t=>ri(Object.assign({curve:Lw},t));Dw.props=Object.assign({},ri.props);function jw(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"]]}function BD(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]}function FD(t,e,r){const n=r*.618;return[["M",t-n,e],["L",t,e-r],["L",t+n,e],["L",t,e+r],["Z"]]}function zD(t,e,r){const n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]}function GD(t,e,r){const n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}function $D(t,e,r){const n=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+n,e-r/2],["L",t+n,e+r/2],["L",t,e+r],["L",t-n,e+r/2],["L",t-n,e-r/2],["Z"]]}function WD(t,e,r){const n=r-1.5;return[["M",t-r,e-n],["L",t+r,e+n],["L",t+r,e-n],["L",t-r,e+n],["Z"]]}function YD(t,e,r){return[["M",t,e+r],["L",t,e-r]]}function HD(t,e,r){return[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]]}function VD(t,e,r){return[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]]}function XD(t,e,r){return[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]]}function qD(t,e,r){return[["M",t-r,e],["L",t+r,e]]}var Bw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function UD(t,e,r,n){if(e.length===1)return;const{size:i}=r;if(t==="fixed")return i;if(t==="normal"||E2(n)){const[[a,o],[s,c]]=e,l=Math.abs((s-a)/2),u=Math.abs((c-o)/2);return Math.max(0,(l+u)/2)}return i}function KD(t){if(t.length===1)return t[0];const[[e,r],[n,i]]=t;return[(e+n)/2,(r+i)/2]}const me=t=>{const{colorAttribute:e,symbol:r,mode:n="auto"}=t,i=Bw(t,["colorAttribute","symbol","mode"]),a=Lt[r]||jw;return(o,s,c,l)=>{const{mark:u,shape:f,defaultShape:h}=s,d=Gn(l,u,f,h),{defaultColor:p,lineWidth:v}=d,g=Bw(d,["defaultColor","lineWidth"]),m=i.stroke?v||1:v,{color:b=p,transform:_,opacity:O}=s,[E,P]=KD(o),T=UD(n,o,s,c)||i.r||g.r;return ie(new Ne).call(qt,g).style("d",a(E,P,T)).style("lineWidth",m).style("transform",_).style("stroke",b).style(fw(t),O).style(e,b).call(qt,i).node()}};me.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Fw=t=>me(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t));Fw.props=Object.assign({},me.props);const zw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"cross"},t));zw.props=Object.assign({},me.props);const Gw=t=>me(Object.assign({colorAttribute:"fill",symbol:"diamond"},t));Gw.props=Object.assign({},me.props);const $w=t=>me(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t));$w.props=Object.assign({},me.props);const Ww=t=>me(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t));Ww.props=Object.assign({},me.props);const Yw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t));Yw.props=Object.assign({},me.props);const Hw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t));Hw.props=Object.assign({},me.props);const Vw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"point"},t));Vw.props=Object.assign({},me.props);const Xw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"square"},t));Xw.props=Object.assign({},me.props);const qw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t));qw.props=Object.assign({},me.props);const Uw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t));Uw.props=Object.assign({},me.props);const Kw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t));Kw.props=Object.assign({},me.props);const Zw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"line"},t));Zw.props=Object.assign({},me.props);const Qw=t=>me(Object.assign({colorAttribute:"stroke",symbol:"plus"},t));Qw.props=Object.assign({},me.props);const Jw=t=>me(Object.assign({colorAttribute:"fill",symbol:"point"},t));Jw.props=Object.assign({},me.props);const tO=t=>me(Object.assign({colorAttribute:"fill",symbol:"square"},t));tO.props=Object.assign({},me.props);const eO=t=>me(Object.assign({colorAttribute:"stroke",symbol:"tick"},t));eO.props=Object.assign({},me.props);const nO=t=>me(Object.assign({colorAttribute:"fill",symbol:"triangle"},t));nO.props=Object.assign({},me.props);const rO=t=>me(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t));rO.props=Object.assign({},me.props);var iO=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const aO=t=>{const{arrowSize:e="40%"}=t,r=iO(t,["arrowSize"]);return(n,i,a,o)=>{const{mark:s,shape:c,defaultShape:l,color:u,transform:f}=i,h=Gn(o,s,c,l),{defaultColor:d}=h,p=iO(h,["defaultColor"]),[v,g]=n,[m,b]=lw(v,g,{arrowSize:e}),_=Mi();return _.moveTo(...v),_.lineTo(...g),_.moveTo(...g),_.lineTo(...m),_.moveTo(...g),_.lineTo(...b),ie(new Ne).call(qt,p).style("d",_.toString()).style("stroke",u||d).style("fill",u||d).style("transform",f).call(qt,r).node()}};aO.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ZD=function(t){return typeof t=="object"&&t!==null},M0=ZD,QD=function(t){if(!M0(t)||!J(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},ol=QD,JD=5;function oO(t,e,r,n){r=r||0,n=n||JD;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];a!==null&&ol(a)?(ol(t[i])||(t[i]={}),r<n?oO(t[i],a,r+1,n):t[i]=e[i]):Ce(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var t7=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)oO(t,e[n]);return t},Ve=t7,Dtt=xt(37107);function e7(t,e,r){return e===void 0&&(e=1024),r===void 0&&(r=1014),function(n,i,a){var o=svgPathParser(t);return o.map(function(s){var c=[];c.push(s.relative===!0?s.code.toLowerCase():s.code.toUpperCase());var l=[[s.x1,s.y1],[s.x2,s.y2],[s.x,s.y]];return l.forEach(function(u){var f=__read(u,2),h=f[0],d=f[1];h!==void 0&&c.push(s.relative===!0?h/e*2*a:n-a+a*2*(h/e)),d!==void 0&&c.push(s.relative===!0?d/r*2*a:i-a+a*2*(d/r))}),c})}}function jtt(t){var e=/<path\s+d="(.*?)"/i.exec(t),r=/viewBox="\d+\s+\d+\s+(\d+)\s+(\d+)"/i.exec(t);if(e===null||e.length<2)return function(){return[]};var n=1024,i=1024;return r!==null&&r.length>=3&&(Number.isNaN(parseInt(r[1],10))||(n=parseInt(r[1],10)),Number.isNaN(parseInt(r[2],10))||(i=parseInt(r[2],10))),e7(e[1],n,i)}var Cr=function(t){return typeof t=="function"},Ga=function(t,e){if(!Cr(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return o.set(a,s),s};return r.cache=new Map,r};function n7(t,e){if(!!t){var r;if(Ce(t))for(var n=0,i=t.length;n<i&&(r=e(t[n],n),r!==!1);n++);else if(vi(t)){for(var a in t)if(t.hasOwnProperty(a)&&(r=e(t[a],a),r===!1))break}}}var sO=n7,r7=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return sO(t,function(r,n){Cr(t)&&n==="prototype"||e.push(r)}),e},i7=r7,a7=function(t){return ot(t)?"":t.toString()},jf,_s=Ga(function(t,e){e===void 0&&(e={});var r=e.fontSize,n=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return jf||(jf=document.createElement("canvas").getContext("2d")),jf.font=[a,o,i,"".concat(r,"px"),n].join(" "),jf.measureText(at(t)?t:"").width},function(t,e){return e===void 0&&(e={}),kt([t],z(i7(e)),!1).join("")}),o7=function(t,e,r,n){n===void 0&&(n="...");var i=16,a=_s(n,r),o;at(t)?o=t:o=a7(t);var s=e,c=[],l,u;if(_s(t,r)<=e)return t;for(;l=o.substr(0,i),u=_s(l,r),!(u+a>s);)if(c.push(l),s-=u,o=o.substr(i),!o)return c.join("");for(;l=o.substr(0,1),u=_s(l,r),!(u+a>s);)if(c.push(l),s-=u,o=o.substr(1),!o)return c.join("");return"".concat(c.join("")).concat(n)};function P0(t,e){return typeof t=="string"?_s(t,e):t}var s7=function(t){var e=t.style.fontFamily||"sans-serif",r=t.style.fontWeight||"normal",n=t.style.fontStyle||"normal",i=t.style.fontVariant,a=t.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:e,fontWeight:r,fontStyle:n,fontVariant:i}};function cO(t,e){return e==="capitalize"?t.toLowerCase().replace(/( |^)[a-z]/g,function(r){return r.toUpperCase()}):e==="lowercase"?t.toLowerCase():e==="uppercase"?t.toUpperCase():t}function ws(t,e){var r=Math.pow(10,e);return~~(t*r)/r}function Btt(t){return t.toLocaleString()}function Ftt(t){return t.toExponential()}function ztt(t,e){return e===void 0&&(e=0),Math.abs(t)<1e3?String(t):"".concat(ws(t/1e3,e).toLocaleString(),"K")}var Gtt=function(t,e,r){return t<0&&Number.isFinite(t)?e:r},$tt=function(t,e,r){return t>0&&Number.isFinite(t)?e:r},Wtt=function(t,e){return t*e},Ytt=function(t,e){return t/2+(e||0)/2};function Xn(t){if(ct(t))return[t,t,t,t];if(Ce(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}var A0=function(t){if(typeof t!="object"||t===null)return t;var e;if(Ce(t)){e=[];for(var r=0,n=t.length;r<n;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=A0(t[r]):e[r]=t[r]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=A0(t[i]):e[i]=t[i]}return e},Bf=A0,Yr=function(t,e,r){for(var n=0,i=at(e)?e.split("."):e;t&&n<i.length;)t=t[i[n++]];return t===void 0||n<i.length?r:t},c7=["default","active","selected","disabled","inactive"];function lO(t){var e=q({},t),r=new RegExp(/^(f|[\S]+F)(ilter|iltrate)$/),n={},i={iltrate:"ilter",ilter:"iltrate"};return Object.entries(t).forEach(function(a){var o=z(a,2),s=o[0],c=o[1];r.test(s)&&(n[s]=c)}),Object.keys(n).forEach(function(a){delete e[a]}),Object.keys(n).forEach(function(a){var o;if(a.endsWith("iltrate")&&typeof n[a]!="function"||a.endsWith("ilter")&&typeof n[a]=="function"){var s=a.replace(r,function(c,l,u){return"".concat(l).concat(i[u])});Object.assign(e,(o={},o[s]=n[a],o))}}),e}var $a={fontSize:"16px",fontFamily:"sans-serif",fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",textAlign:"start",textBaseline:"alphabetic"};function uO(t){if(t)return t==null?void 0:t.default;var e=Bf(t)||{};return c7.forEach(function(r){r in e&&delete e[r]}),e}function k0(t,e,r){if(r===void 0&&(r=!1),!e){var n=uO(t);return n||{}}var i=Yr(t,e);return r?Ve({},uO(t),i):i}function l7(t,e){Object.entries(e).forEach(function(r){var n=z(r,2),i=n[0],a=n[1];kt([t],z(t.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(!!o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(c,l){return"".concat(c).concat(l.join(":"),";")},"")}})})}function Re(t,e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0);var i=n?lO(t):t,a=function(s,c){return new RegExp("^".concat(c,"[A-Z].*")).test(s)},o=function(s){return s.charAt(0).toLowerCase()+s.slice(1)};return Object.keys(i).reduce(function(s,c){return a(c,e)!==r&&(r?s[c]=i[c]:s[o(c.slice(e.length))]=i[c]),s},{})}function Os(t,e){var r=t,n=Object.keys(t).reduce(function(i,a,o){if(o>=e.length)return i;var s=e[o];return i.push(Re(r,s)),r=Re(r,s,!0),i},[]);return n.push(r),n}function ta(t,e){var r=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};return Object.keys(t).reduce(function(n,i){return n["".concat(e).concat(r(i))]=t[i],n},{})}function ea(t,e){e===void 0&&(e=["x","y","class"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],n={},i={};return Object.entries(t).forEach(function(a){var o=z(a,2),s=o[0],c=o[1];e.includes(s)||(r.indexOf(s)!==-1?i[s]=c:n[s]=c)}),[n,i]}function Ff(t){var e=t.canvas,r=t.touches,n=t.offsetX,i=t.offsetY;if(e){var a=e.x,o=e.y;return[a,o]}if(r){var s=r[0],c=s.clientX,l=s.clientY;return[c,l]}return n&&i?[n,i]:[0,0]}function u7(t){throw new Error(t)}var fO=function(){function t(n,i,a,o,s,c,l){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=[null,null,null,null,null]),c===void 0&&(c=[]),l===void 0&&(l=[]),e.add(this),this._elements=Array.from(n),this._data=i,this._parent=a,this._document=o,this._enter=s[0],this._update=s[1],this._exit=s[2],this._merge=s[3],this._split=s[4],this._transitions=c,this._facetElements=l}t.prototype.selectAll=function(n){var i=typeof n=="string"?this._parent.querySelectorAll(n):n;return new t(i,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(n){var i=typeof n=="string"?this._parent.querySelectorAll(n):n;return new t(this._elements,null,this._parent,this._document,void 0,void 0,i)},t.prototype.select=function(n){var i=typeof n=="string"?this._parent.querySelectorAll(n)[0]||null:n;return new t([i],null,i,this._document)},t.prototype.append=function(n){var i=this,a=typeof n=="function"?n:function(){return i.createElement(n)},o=[];if(this._data!==null){for(var s=0;s<this._data.length;s++){var c=this._data[s],l=z(Array.isArray(c)?c:[c,null],2),u=l[0],f=l[1],h=a(u,s);h.__data__=u,f!==null&&(h.__fromElements__=f),this._parent.appendChild(h),o.push(h)}return new t(o,null,this._parent,this._document)}for(var s=0;s<this._elements.length;s++){var d=this._elements[s],u=d.__data__,h=a(u,s);d.appendChild(h),o.push(h)}return new t(o,null,o[0],this._document)},t.prototype.maybeAppend=function(n,i){var a=Gi(this,e,"m",r).call(this,n.startsWith("#")?n:"#".concat(n),i);return a.attr("id",n),a},t.prototype.maybeAppendByClassName=function(n,i){var a=n.toString(),o=Gi(this,e,"m",r).call(this,a.startsWith(".")?a:".".concat(a),i);return o.addClassName(a),o},t.prototype.maybeAppendByName=function(n,i){var a=Gi(this,e,"m",r).call(this,'[name="'.concat(n,'"]'),i);return a.attr("name",n),a},t.prototype.addClassName=function(n){var i,a,o=function(u){var f=u.attr("class")||void 0,h=new Set((f==null?void 0:f.split(" "))||[]);n.split(" ").forEach(function(d){return h.add(d)}),u.attr("class",Array.from(h).join(" "))};try{for(var s=la(this._elements),c=s.next();!c.done;c=s.next()){var l=c.value;o(l)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this},t.prototype.data=function(n,i,a){var o,s;i===void 0&&(i=function(C){return C}),a===void 0&&(a=function(){return null});for(var c=[],l=[],u=new Set(this._elements),f=[],h=new Set,d=new Map(this._elements.map(function(C,L){return[i(C.__data__,L),C]})),p=new Map(this._facetElements.map(function(C,L){return[i(C.__data__,L),C]})),v=nn(this._elements,function(C){return a(C.__data__)}),g=0;g<n.length;g++){var m=n[g],b=i(m,g),_=a(m,g);if(d.has(b)){var O=d.get(b);O.__data__=m,O.__facet__=!1,l.push(O),u.delete(O),d.delete(b)}else if(p.has(b)){var O=p.get(b);O.__data__=m,O.__facet__=!0,l.push(O),p.delete(b)}else if(v.has(b)){var E=v.get(b);f.push([m,E]);try{for(var P=(o=void 0,la(E)),A=P.next();!A.done;A=P.next()){var O=A.value;u.delete(O)}}catch(C){o={error:C}}finally{try{A&&!A.done&&(s=P.return)&&s.call(P)}finally{if(o)throw o.error}}v.delete(b)}else if(d.has(_)){var O=d.get(_);O.__toData__?O.__toData__.push(m):O.__toData__=[m],h.add(O),u.delete(O)}else c.push(m)}var T=[new t([],c,this._parent,this._document),new t(l,null,this._parent,this._document),new t(u,null,this._parent,this._document),new t([],f,this._parent,this._document),new t(h,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,T)},t.prototype.merge=function(n){var i=kt(kt([],z(this._elements),!1),z(n._elements),!1),a=kt(kt([],z(this._transitions),!1),z(n._transitions),!1);return new t(i,null,this._parent,this._document,void 0,a)},t.prototype.createElement=function(n){if(this._document)return this._document.createElement(n,{});var i=t.registry[n];return i?new i:u7("Unknown node type: ".concat(n))},t.prototype.join=function(n,i,a,o,s){n===void 0&&(n=function(d){return d}),i===void 0&&(i=function(d){return d}),a===void 0&&(a=function(d){return d.remove()}),o===void 0&&(o=function(d){return d}),s===void 0&&(s=function(d){return d.remove()});var c=n(this._enter),l=i(this._update),u=a(this._exit),f=o(this._merge),h=s(this._split);return l.merge(c).merge(u).merge(f).merge(h)},t.prototype.remove=function(){for(var n=function(o){var s=i._elements[o],c=i._transitions[o];c?c.then(function(){return s.remove()}):s.remove()},i=this,a=0;a<this._elements.length;a++)n(a);return new t([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(n){for(var i=0;i<this._elements.length;i++){var a=this._elements[i],o=a.__data__;n.call(a,o,i)}return this},t.prototype.attr=function(n,i){var a=typeof i!="function"?function(){return i}:i;return this.each(function(o,s){i!==void 0&&(this[n]=a.call(this,o,s))})},t.prototype.style=function(n,i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,c){i!==void 0&&(this.style[n]=o.call(this,s,c))})},t.prototype.styles=function(n,i){return i===void 0&&(i=!0),this.each(function(a,o){var s=this,c=Object.entries(n).reduce(function(l,u){var f=z(u,2),h=f[0],d=f[1],p=typeof d!="function"||!i?function(){return d}:d;return d!==void 0&&(l[h]=p.call(s,a,o)),l},{});this.attr(c)})},t.prototype.update=function(n,i){i===void 0&&(i=!0);var a=typeof n!="function"||!i?function(){return n}:n;return this.each(function(o,s){n&&this.update&&this.update(a.call(this,o,s))})},t.prototype.transition=function(n){var i=typeof n!="function"?function(){return n}:n,a=this._transitions;return this.each(function(o,s){a[s]=i.call(this,o,s)})},t.prototype.on=function(n,i){return this.each(function(){this.addEventListener(n,i)}),this},t.prototype.call=function(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return n.call.apply(n,kt([this._parent,this],z(i),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions},t.prototype.parent=function(){return this._parent};var e,r;return e=new WeakSet,r=function(i,a){var o=this._elements[0],s=o.querySelector(i);if(s)return new t([s],null,this._parent,this._document);var c=typeof a=="string"?this.createElement(a):a();return o.appendChild(c),new t([c],null,this._parent,this._document)},t.registry={g:or,rect:Br,circle:wu,path:Ne,text:wi,ellipse:Cd,image:Eu,line:Oc,polygon:Mu,polyline:Nd,html:Su},t}();function $t(t){return new fO([t],null,t,t.ownerDocument)}function ii(t,e,r){return t.querySelector(e)?$t(t).select(e):$t(t).append(r)}function T0(t){var e=t&&t.getRenderBounds();if(!e)return{width:0,height:0};var r=e.getMax(),n=e.getMin();return{width:r[0]-n[0],height:r[1]-n[1]}}function hO(t){var e=t.getLocalBounds(),r=e.min,n=e.max,i=z([r,n],2),a=z(i[0],2),o=a[0],s=a[1],c=z(i[1],2),l=c[0],u=c[1];return{x:o,y:s,width:l-o,height:u-s,left:o,bottom:u,top:s,right:l}}function Htt(t,e){var r=select(t).append("text").node();return r.attr(__assign(__assign({},e),{visibility:"hidden"})),r}function L0(t,e){var r=z(t,2),n=r[0],i=r[1],a=z(e,2),o=a[0],s=a[1],c=o-n,l=s-i;return Math.sqrt(c*c+l*l)}function f7(t,e){var r=z(t,2),n=r[0],i=r[1],a=z(e,2),o=a[0],s=a[1];return n!==o&&i===s}function Vtt(t,e){var r=__read(t,2),n=r[0],i=r[1],a=__read(e,2),o=a[0],s=a[1];return n===o&&i!==s}function h7(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function d7(t){return typeof t=="string"?h7(t):t}var p7=5,dO=function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=p7),Object.entries(e).forEach(function(i){var a=z(i,2),o=a[0],s=a[1],c=t;Object.prototype.hasOwnProperty.call(e,o)&&(s?ol(s)?(ol(t[o])||(c[o]={}),r<n?dO(t[o],s,r+1,n):c[o]=e[o]):Ce(s)?(c[o]=[],c[o]=c[o].concat(s)):c[o]=s:c[o]=s)})},an=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)dO(t,e[n]);return t};function zf(t,e,r,n,i,a){return(t===e||Math.min(t,e)<=i&&i<=Math.max(t,e))&&(r===n||Math.min(r,n)<=a&&a<=Math.max(r,n))}function Gf(t,e,r){var n=t;(!t.length||e<t[0]||e===t[0]&&r<t[1])&&(n[0]=e,n[1]=r)}function v7(t,e,r,n){var i=z(t,2),a=i[0],o=i[1],s=z(e,2),c=s[0],l=s[1],u=z(r,2),f=u[0],h=u[1],d=z(n,2),p=d[0],v=d[1],g=[];if((v-h)*(c-a)===(l-o)*(p-f))(l-o)*(f-a)===(h-o)*(c-a)&&(zf(a,c,o,l,f,h)&&Gf(g,f,h),zf(a,c,o,l,p,v)&&Gf(g,p,v),zf(f,p,h,v,a,o)&&Gf(g,a,o),zf(f,p,h,v,c,l)&&Gf(g,c,l));else{var m=(f*(v-h)+o*(p-f)-h*(p-f)-a*(v-h))/((c-a)*(v-h)-(p-f)*(l-o)),b=(a*(l-o)+h*(c-a)-o*(c-a)-f*(l-o))/((p-f)*(l-o)-(c-a)*(v-h));m>=0&&m<=1&&b>=0&&b<=1&&(g[0]=a+m*(c-a),g[1]=o+m*(l-o))}return g}function pO(t,e){var r=z(t,2),n=r[0],i=r[1],a=z(e,2),o=a[0],s=a[1];return Math.pow(Math.pow(n-o,2)+Math.pow(i-s,2),.5)}function Ss(t,e){return t===void 0&&(t=0),e===void 0&&(e=!1),function(r,n,i){var a=i.value,o;typeof a=="function"&&(i.value=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];if(!o){var l=this;e&&a.apply(l,s),o=window.setTimeout(function(){a.apply(l,s),o=null},t)}})}}var g7=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)};function Lo(t){return at(t)||ct(t)?new wi({style:{text:String(t)}}):t}function m7(t,e){if(t.length<=e)return t;for(var r=Math.floor(t.length/e),n=[],i=0;i<t.length;i+=r)n.push(t[i]);return n}function Es(t){return t*Math.PI/180}function vO(t){return Number((t*180/Math.PI).toPrecision(5))}function C0(t,e){var r,n=t instanceof bn?t:t.node(),i=n.computedStyleMap().get("transform");if(!(!i||i.value==="unset"))return(r=i==null?void 0:i.find(function(a){var o=a.t;return o===e}))===null||r===void 0?void 0:r.d.map(function(a){var o=a.value;return o})}function Xtt(t){return!!C0(t,"rotate")}function gO(t,e,r){var n=t instanceof bn?t:t.node(),i=n.getBBox(),a=i.width,o=i.height,s=z([e,r].map(function(u,f){var h;return u.includes("%")?parseFloat(((h=u.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||h===void 0?void 0:h[0])||"0")/100*(f===0?a:o):u}),2),c=s[0],l=s[1];return[c,l]}function qtt(t,e,r){var n=t instanceof DisplayObject?t:t.node(),i=__read(gO(t,e,r),2),a=i[0],o=i[1];n.attr("transform","translate(".concat(a,", ").concat(o,")"))}function mO(t,e){if(!!e)try{var r=t instanceof bn?t:t.node(),n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,i=e.replace(n,function(a,o,s){return"translate(".concat(gO(r,o,s),")")});r.attr("transform",i)}catch(a){}}function lr(t,e,r,n,i){return n===void 0&&(n=!0),n&&t===e||i&&t===r?!0:t>e&&t<r}function Hr(t,e){return Cr(t)?t.apply(void 0,kt([],z(e),!1)):t}function xr(t,e,r,n,i){return n===void 0&&(n=!0),i===void 0&&(i=function(a){a instanceof fO?a.node().removeChildren():a instanceof bn?a.removeChildren():a instanceof HTMLElement&&(a.innerHTML="")}),t?r(e):(n&&i(e),null)}var Utt=function(t){gt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wc);function yO(t,e){return function(r){gt(n,r);function n(i){var a=r.call(this,an({},{style:e},i))||this;return a.descriptor=t,a}return n.prototype.connectedCallback=function(){var i,a,o,s;(a=(i=this.descriptor).render)===null||a===void 0||a.call(i,this.attributes,this),(s=(o=this.descriptor).bindEvents)===null||s===void 0||s.call(o,this.attributes,this)},n.prototype.update=function(i,a){var o,s;i===void 0&&(i={}),this.attr(Ve({},this.attributes,i)),(s=(o=this.descriptor).render)===null||s===void 0||s.call(o,this.attributes,this,a)},n}(wc)}var ai=function(t,e){var r=function(i){return"".concat(e,"-").concat(i)},n=Object.fromEntries(Object.entries(t).map(function(i){var a=z(i,2),o=a[0],s=a[1],c=r(s);return[o,{name:c,class:".".concat(c),id:"#".concat(c),toString:function(){return c}}]}));return Object.assign(n,{prefix:r}),n};function y7(t,e){return t.reduce(function(r,n){return(r[n[e]]=r[n[e]]||[]).push(n),r},{})}function bO(t){return t.charAt(0).toUpperCase()+t.slice(1)}function N0(t,e,r){r===void 0&&(r="...");var n=t instanceof wi?t:t.node();if(n.nodeName==="text"){var i={wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:r};n.attr(i)}}var _n=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=r,this.width=n,this.height=i}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t}();function xO(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;a++){var o=t[a],s=o.x,c=o.y,l=o.width,u=o.height,f=z([s+l,c+u],2),h=f[0],d=f[1];s<e&&(e=s),c<r&&(r=c),h>n&&(n=h),d>i&&(i=d)}return new _n(e,r,n-e,i-r)}var b7=function(t,e,r){var n=t.width,i=t.height,a=r.flexDirection,o=a===void 0?"row":a,s=r.flexWrap,c=s===void 0?"nowrap":s,l=r.justifyContent,u=l===void 0?"flex-start":l,f=r.alignContent,h=f===void 0?"flex-start":f,d=r.alignItems,p=d===void 0?"flex-start":d,v=o==="row",g=o==="row"||o==="column",m=v?g?[1,0]:[-1,0]:g?[0,1]:[0,-1],b=z([0,0],2),_=b[0],O=b[1],E=e.map(function(y){var w,M=y.width,S=y.height,k=z([_,O],2),I=k[0],j=k[1];return w=z([_+M*m[0],O+S*m[1]],2),_=w[0],O=w[1],new _n(I,j,M,S)}),P=xO(E),A={"flex-start":0,"flex-end":v?n-P.width:i-P.height,center:v?(n-P.width)/2:(i-P.height)/2},T=E.map(function(y){var w=y.x,M=y.y,S=_n.fromRect(y);return S.x=v?w+A[u]:w,S.y=v?M:M+A[u],S}),C=xO(T),L=function(y){var w=z(v?["height",i]:["width",n],2),M=w[0],S=w[1];switch(p){case"flex-start":return 0;case"flex-end":return S-y[M];case"center":return S/2-y[M]/2;default:return 0}},N=T.map(function(y){var w=y.x,M=y.y,S=_n.fromRect(y);return S.x=v?w:w+L(S),S.y=v?M+L(S):M,S}),x=N.map(function(y){var w,M,S=_n.fromRect(y);return S.x+=(w=t.x)!==null&&w!==void 0?w:0,S.y+=(M=t.y)!==null&&M!==void 0?M:0,S});return x},x7=function(t,e,r){return[]},_7=function(t,e,r){if(e.length===0)return[];var n={flex:b7,grid:x7},i=r.display in n?n[r.display]:null;return(i==null?void 0:i.call(null,t,e,r))||[]};function w7(t){var e;return((e=t[0])===null||e===void 0?void 0:e.map(function(r,n){return t.map(function(i){return i[n]})}))||[]}function R0(t,e,r){r===void 0&&(r=!1);var n=t.getBBox(),i=n.width,a=n.height,o=e/Math.max(i,a);return r&&t.scale(o),o}function Pi(t,e,r){var n={},i={};return Object.entries(e).forEach(function(a){var o=z(a,2),s=o[0],c=o[1],l=t.attr(s);!ot(c)&&!ot(l)&&l!==c&&(n[s]=l,i[s]=c)}),r?Object.keys(n).length>0?t.animate([n,i],q({fill:"both"},r)):null:("update"in t?t.update(e):t.attr(e),null)}var O7=function(t,e){return function(r){return t*(1-r)+e*r}};function S7(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0;return function(i){var a=new Array(n),o=new Array(r),s=0;for(s=0;s<n;++s)a[s]=I0(t[s],e[s]);for(;s<r;++s)o[s]=e[s];for(s=0;s<n;++s)o[s]=a[s](i);return o}}function E7(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={},n={};return Object.entries(e).forEach(function(i){var a=z(i,2),o=a[0],s=a[1];o in t?r[o]=I0(t[o],s):n[o]=s}),function(i){return Object.entries(r).forEach(function(a){var o=z(a,2),s=o[0],c=o[1];return n[s]=c(i)}),n}}function I0(t,e){return typeof t=="number"&&typeof e=="number"?O7(t,e):Array.isArray(t)&&Array.isArray(e)?S7(t,e):typeof t=="object"&&typeof e=="object"?E7(t,e):function(r){return t}}function M7(t,e,r,n){if(!n)return t.attr("__keyframe_data__",e),null;var i=n.duration,a=i===void 0?0:i,o=I0(e,r),s=Math.ceil(+a/16),c=new Array(s).fill(0).map(function(l,u,f){return{__keyframe_data__:o(u/(f.length-1))}});return t.animate(c,n)}function _O(t,e){e(t),t.children&&t.children.forEach(function(r){r instanceof bn&&_O(r,e)})}function P7(t,e){var r=e?"visibility":"hidden";_O(t,function(n){n.attr("visible",r)})}var A7=function(t){gt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.appendChild=function(r,n){return this.destroyChildren(),P7(r,!1),t.prototype.appendChild.call(this,r,n)},e}(or);function Ktt(t){var e=t.appendChild(new A7({style:{visibility:"hidden"}}));return visibility(e,!1),e}var sn=function(t){gt(e,t);function e(r){return t.call(this,r)||this}return e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},e.prototype.update=function(r,n){var i;return r===void 0&&(r={}),this.attr(an({},this.attributes,r)),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,n)},e.prototype.clear=function(){this.removeChildren()},e.prototype.destroy=function(){this.removeAllEventListeners(),this.removeChildren(),this.remove()},e.prototype.attributeChangedCallback=function(){},e.prototype.bindEvents=function(r,n){},e}(wc),D0=function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"]]},k7=D0,T7=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},L7=function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},C7=function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]},N7=function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]},R7=function(t,e,r){var n=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+n,e-r/2],["L",t+n,e+r/2],["L",t,e+r],["L",t-n,e+r/2],["L",t-n,e-r/2],["Z"]]},I7=function(t,e,r){var n=r-1.5;return[["M",t-r,e-n],["L",t+r,e+n],["L",t+r,e-n],["L",t-r,e+n],["Z"]]},wO=function(t,e,r){return[["M",t,e+r],["L",t,e-r]]},D7=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]]},j7=function(t,e,r){return[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]]},B7=function(t,e,r){return[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]]},F7=function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},OO=function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},z7=OO,G7=function(t,e,r){return[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]]},$7=function(t,e,r){return[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]]},W7=function(t,e,r){return[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]]},Y7=function(t,e,r){return[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]]};function H7(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var V7=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e],["L",t-r,e+r],["Z"]]};function X7(t){var e="default";if(vi(t)&&t instanceof Image)e="image";else if(Cr(t))e="symbol";else if(at(t)){var r=new RegExp("data:(image|text)");t.match(r)?e="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?e="url":e="symbol"}return e}function q7(t){var e=X7(t);return["base64","url","image"].includes(e)?"image":t&&e==="symbol"?"path":null}var Fe=function(t){gt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n){var i=r,a=i.x,o=i.y,s=i.symbol,c=i.size,l=c===void 0?16:c,u=i.class,f=Vt(i,["x","y","symbol","size","class"]),h=q7(s);xr(!!h,$t(n),function(d){d.maybeAppendByClassName("marker",h).addClassName("".concat(h,"-marker")).call(function(p){if(h==="image"){var v=l*2;p.styles({img:s,width:v,height:v,x:-l,y:-l})}else{var v=l/2,g=Cr(s)?s:e.getSymbol(s);p.styles(q({path:g==null?void 0:g(a,o,v)},f))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(r,n){e.MARKER_SYMBOL_MAP.set(r,n)},e.getSymbol=function(r){return e.MARKER_SYMBOL_MAP.get(r)},e}(sn);Fe.registerSymbol("cross",D7),Fe.registerSymbol("hyphen",F7),Fe.registerSymbol("line",wO),Fe.registerSymbol("plus",B7),Fe.registerSymbol("tick",j7),Fe.registerSymbol("circle",D0),Fe.registerSymbol("point",k7),Fe.registerSymbol("bowtie",I7),Fe.registerSymbol("hexagon",R7),Fe.registerSymbol("square",T7),Fe.registerSymbol("diamond",L7),Fe.registerSymbol("triangle",C7),Fe.registerSymbol("triangle-down",N7),Fe.registerSymbol("line",wO),Fe.registerSymbol("dot",OO),Fe.registerSymbol("dash",z7),Fe.registerSymbol("smooth",G7),Fe.registerSymbol("hv",$7),Fe.registerSymbol("vh",W7),Fe.registerSymbol("hvh",Y7),Fe.registerSymbol("vhv",H7);function U7(t,e,r,n,i){var a=t.getLocalBounds(),o=0,s=0;n==="start"&&(o=e),n==="center"&&(o=-a.halfExtents[0]),n==="end"&&(o=-e-a.halfExtents[0]*2),i==="top"&&(s=r+a.halfExtents[1]),i==="middle"&&(s=0),i==="bottom"&&(s=r-a.halfExtents[1]*2),t.setLocalPosition([o,s])}function K7(t,e){var r=t.getLocalBounds();return{x:r.halfExtents[0]?r.max[0]+(e||0):t.style.x,y:r.halfExtents[1]?(r.min[1]+r.max[1])/2:t.style.y}}var j0=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return e.prototype.render=function(r,n){var i=r.padding,a=i===void 0?0:i,o=r.marker,s=r.text,c=r.textStyle,l=r.radius,u=r.backgroundStyle,f=r.spacing,h=r.align,d=r.verticalAlign,p=z(Xn(a),4),v=p[0],g=p[1],m=p[2],b=p[3],_=ii(n,".tag-content","g").attr("className","tag-content").node(),O=ii(_,".tag-marker",function(){return new Fe({})}).attr("className","tag-marker").call(function(C){C.node().clear(),C.node().update(o||{symbol:"triangle",size:0,x:0})}).node(),E=K7(O,f),P=E.x,A=E.y;$t(_).maybeAppendByClassName("tag-text","text").styles(q(q({fontFamily:"sans-serif",fontSize:12,text:ot(s)?"":"".concat(s),x:P,y:A},c),{textBaseline:"middle"})).call(function(C){s||C.remove()}),U7(_,b,v,h||"start",d||"top");var T=_.getLocalBounds();$t(n).maybeAppendByClassName("tag-background","rect").styles(q({zIndex:(_.style.zIndex||0)-1,y:T.min[1]-v,x:T.min[0]-b,width:u!==null?b+g+T.halfExtents[0]*2:0,height:u!==null?v+m+T.halfExtents[1]*2:0,radius:l!=null?l:2,fill:"#fafafa",stroke:"#d9d9d9",lineWidth:1},u))},e.tag="tag",e.defaultOptions={style:{padding:4,spacing:4}},e}(sn),Z7={small:{textStyle:{fontSize:10},buttonStyle:{width:40,height:20},markerStyle:{size:8}},middle:{textStyle:{fontSize:12},buttonStyle:{width:60,height:30},markerStyle:{size:12}},large:{textStyle:{fontSize:16},buttonStyle:{width:80,height:40},markerStyle:{size:16}}},Q7={primary:{textStyle:{default:{fill:"#fff"},active:{}},buttonStyle:{default:{fill:"#1890ff",lineWidth:0},active:{fill:"#40a9ff"}},markerStyle:{default:{fill:"#1890ff"},active:{fill:"#40a9ff"}}},dashed:{textStyle:{default:{},active:{}},buttonStyle:{default:{fill:"transparent",stroke:"#bbb",lineDash:[5,5]},active:{}},markerStyle:{}},link:{textStyle:{default:{fill:"#1890ff"},active:{}},buttonStyle:{default:{fill:"transparent",lineWidth:0},active:{}},markerStyle:{default:{fill:"#1890ff"}}},text:{textStyle:{default:{fill:"#000"},active:{}},buttonStyle:{default:{fill:"transparent",lineWidth:0},active:{}},markerStyle:{default:{stroke:"#000"}}},default:{textStyle:{default:{fill:"#000"},active:{fill:"#1890ff"}},buttonStyle:{default:{fill:"transparent",stroke:"#bbb"},active:{stroke:"#1890ff"}},markerStyle:{default:{stroke:"#bbb",lineWidth:1},active:{stroke:"#1890ff"}}}},$f={strict:{textStyle:{fill:"#b8b8b8"},buttonStyle:{},markerStyle:{}},textStyle:{},buttonStyle:{stroke:"#d9d9d9",fill:"#f5f5f5"},markerStyle:{stroke:"#d9d9d9"}},Ztt=function(t){gt(e,t);function e(r){var n=t.call(this,an({},e.defaultOptions,r))||this;return n.state="default",n.clickEvents=function(){var i=n.attributes,a=i.onClick,o=i.state;o!=="disabled"&&(a==null||a.call(n,n))},n.mouseenterEvent=function(){var i=n.attributes.state;i!=="disabled"&&(n.state="active",n.render(n.attributes,n))},n.mouseleaveEvent=function(){var i=n.attributes.state,a=i===void 0?"default":i;n.state=a,n.render(n.attributes,n)},n}return Object.defineProperty(e.prototype,"markerSize",{get:function(){var r=this.attributes.marker,n=this.getStyle("markerStyle"),i=r?(n==null?void 0:n.size)||2:0;return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textAvailableWidth",{get:function(){var r=this.attributes,n=r.marker,i=r.padding,a=r.ellipsis,o=r.width,s=r.markerSpacing;if(!a)return 1/0;var c=Le(o)?this.getStyle("buttonStyle").width:o;return n?c-i*2-s-this.markerSize:c-i*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonHeight",{get:function(){var r=this.attributes.height;return r||this.getStyle("buttonStyle").height},enumerable:!1,configurable:!0}),e.prototype.getStyle=function(r){var n=this.attributes,i=n.size,a=n.type,o=this.state,s=Ve({},Yr(Z7,[i,r]),k0(Yr(Q7,[a,r]),o),k0(Yr(this.attributes,r),o,!0));return o==="disabled"&&(Object.keys(s).forEach(function(c){c in $f[r]&&(s[c]=Yr($f,[r,c]))}),Object.keys($f.strict[r]).forEach(function(c){s[c]=Yr($f,["strict",r,c])}),Ve(s,k0(Yr(this.attributes,r),"disabled"))),s},e.prototype.render=function(r,n){var i=r.text,a=i===void 0?"":i,o=r.padding,s=o===void 0?0:o,c=r.marker,l=r.markerSpacing,u=l===void 0?0:l;n.attr("cursor",this.state==="disabled"?"not-allowed":"pointer");var f=z(Xn(s),4),h=f[0],d=f[1],p=f[2],v=f[3],g=this.buttonHeight,m=this.getStyle("markerStyle"),b=this.markerSize,_=ii(n,".marker",function(){return new Fe({className:"marker",style:{symbol:"circle"}})}).call(function(T){T.node().update(q(q({},m),{symbol:c,x:v+b/2,y:g/2,size:b}))}).node(),O=_.getLocalBounds(),E=this.getStyle("textStyle");this.textShape=ii(n,".text","text").attr("className","text").styles(q(q({x:b?O.max[0]+u:v,y:g/2},E),{text:a,textAlign:"left",textBaseline:"middle",wordWrap:!0,wordWrapWidth:this.textAvailableWidth,maxLines:1,textOverflow:"..."})).node();var P=this.textShape.getLocalBounds(),A=this.getStyle("buttonStyle");$t(n).maybeAppendByClassName(".background","rect").styles(q(q({zIndex:-1},A),{height:g,width:v+(b?b+u:0)+P.halfExtents[0]*2+d}))},e.prototype.update=function(r){r===void 0&&(r={}),this.attr(Ve({},this.attributes,r));var n=this.attributes.state,i=n===void 0?"default":n;this.state=i,this.render(this.attributes,this)},e.prototype.setState=function(r){this.update({state:r})},e.prototype.hide=function(){this.style.visibility="hidden"},e.prototype.show=function(){this.style.visibility="visible"},e.prototype.bindEvents=function(){this.addEventListener("click",this.clickEvents),this.addEventListener("mouseenter",this.mouseenterEvent),this.addEventListener("mouseleave",this.mouseleaveEvent)},e.tag="button",e.defaultOptions={style:{cursor:"pointer",padding:10,size:"middle",type:"default",text:"",markerAlign:"left",markerSpacing:5,textStyle:{default:{},active:{}},buttonStyle:{default:{lineWidth:1,radius:5},active:{}},markerStyle:{default:{}}}},e}(sn),J7=Object.prototype.hasOwnProperty,SO=function(t,e){if(t===null||!ol(t))return{};var r={};return sO(e,function(n){J7.call(t,n)&&(r[n]=t[n])}),r},Qtt=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return e.prototype.render=function(r,n){var i=r.x,a=r.y,o=r.items,s=r.textStyle,c=r.padding,l=c===void 0?0:c,u=r.width,f=r.separator,h=z(Xn(l),3),d=h[0],p=h[1],v=h[2],g=ii(n,".container","g").styles({className:"container",x:i+v,y:a+d}),m=0,b=0;g.node().removeChildren();for(var _=function(P){var A=o[P],T=new j0({className:"breadcrumb-item",style:q(q({x:m,y:b,text:ot(A.text)?A.id:A.text,textStyle:s},SO(A,["marker"])),{padding:0,backgroundStyle:null})});g.append(function(){return T});var C=T.getLocalBounds(),L=C.halfExtents[0]*2,N=C.halfExtents[1]*2;if(m+=L,!ot(u)){var x=u-p;m>x&&(T.attr({x:0,y:b+N}),m=L,b+=N)}O.bindInnerEvents(T,A);var y=f||{},w=y.spacing,M=w===void 0?0:w,S=y.text,k=S===void 0?"/":S,I=y.style;if(P!==o.length-1){var j=new wi({className:"".concat(e.tag,"-separator"),id:"".concat(e.tag,"-separator-").concat(P),style:q(q(q(q({},$a),{x:m+M,y:b+N/2}),I),{text:k,textAlign:"end",textBaseline:"middle"})});g.append(function(){return j});var F=j.getLocalBounds();m+=F.halfExtents[0]*2+M}},O=this,E=0;E<o.length;E++)_(E)},e.prototype.update=function(r){this.attr(Ve({},this.attributes,r)),this.render(this.attributes,this)},e.prototype.bindInnerEvents=function(r,n){var i=this.attributes,a=i.items,o=i.onClick;o&&r.addEventListener("click",function(){o.call(r,n.id,n,a)})},e.tag="breadcrumb",e.defaultOptions={style:{separator:{text:"/",style:{fontSize:14,fill:"rgba(0, 0, 0, 0.45)"},spacing:8},textStyle:{default:q(q({},$a),{fontSize:14,fill:"rgba(0, 0, 0, 0.45)"}),active:{fill:"#5468ff",cursor:"pointer"}},padding:[8,8,8,8]}},e}(sn),Jtt=function(){function t(){}return t}(),tj=function(t){gt(e,t);function e(r){var n=this,i=r.style,a=Vt(r,["style"]);return n=t.call(this,Ve({},{type:"lines",style:{width:0,height:0}},q({style:i},a)))||this,n.linesGroup=n.appendChild(new or({name:"lines"})),n.areasGroup=n.appendChild(new or({name:"areas"})),n.render(),n}return e.prototype.render=function(){var r=this.attributes,n=r.lines,i=r.areas;n&&this.createLines(n),i&&this.createAreas(i)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(r){var n=r.lines,i=r.areas;this.clear(),n&&this.setAttribute("lines",n),i&&this.setAttribute("areas",i),this.render()},e.prototype.createLines=function(r){$t(this.linesGroup).selectAll("line").data(r).join(function(n){return n.append("path").each(function(i){$t(this).styles(i)})},function(n){return n.each(function(i){$t(this).styles(i)})},function(n){return n.remove()})},e.prototype.createAreas=function(r){$t(this.linesGroup).selectAll("area").data(r).join(function(n){return n.append("path").each(function(i){$t(this).styles(i)})},function(n){return n.each(function(i){$t(this).styles(i)})},function(n){return n.remove()})},e}(bn),ej=function(t){gt(e,t);function e(r){var n=this,i=r.style,a=Vt(r,["style"]);return n=t.call(this,Ve({},{type:"column",style:{width:0,height:0}},q({style:i},a)))||this,n.columnsGroup=new or({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return e.prototype.render=function(){var r=this.attributes.columns;$t(this.columnsGroup).selectAll("column-group").data(r.flat()).join(function(n){return n.append("rect").each(function(i){$t(this).styles(i)})},function(n){return n.each(function(i){$t(this).styles(i)})},function(n){return n.remove()})},e.prototype.update=function(r){this.attr(Ve({},this.attributes,r));var n=r.columns;n&&(this.clear(),this.render())},e.prototype.clear=function(){this.removeChildren()},e}(bn),nj=function(t,e){if(!!Ce(t)){for(var r,n=1/0,i=0;i<t.length;i++){var a=t[i],o=Cr(e)?e(a):a[e];o<n&&(r=a,n=o)}return r}},rj=function(t,e){if(!!Ce(t)){for(var r,n=-1/0,i=0;i<t.length;i++){var a=t[i],o=Cr(e)?e(a):a[e];o>n&&(r=a,n=o)}return r}};function EO(t){return t.length===0?[0,0]:[W(nj(t,function(e){return W(e)||0})),$(rj(t,function(e){return $(e)||0}))]}function MO(t){for(var e=Bf(t),r=e[0].length,n=z([Array(r).fill(0),Array(r).fill(0)],2),i=n[0],a=n[1],o=0;o<e.length;o+=1)for(var s=e[o],c=0;c<r;c+=1)s[c]>=0?(s[c]+=i[c],i[c]=s[c]):(s[c]+=a[c],a[c]=s[c]);return e}var ij=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},PO=ij,B0=function(t,e){if(t===e)return!0;if(!t||!e||at(t)||at(e))return!1;if(PO(t)||PO(e)){if(t.length!==e.length)return!1;for(var r=!0,n=0;n<t.length&&(r=B0(t[n],e[n]),!!r);n++);return r}if(M0(t)||M0(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var r=!0,n=0;n<i.length&&(r=B0(t[i[n]],e[i[n]]),!!r);n++);return r}return!1},AO=B0,aj=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,oj=/[^\s\,]+/ig;function tet(t){var e=t||[];if(isArray(e))return e;if(isString(e))return e=e.match(aj),each(e,function(r,n){if(r=r.match(oj),r[0].length>1){var i=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=i}each(r,function(a,o){isNaN(a)||(r[o]=+a)}),e[n]=r}),e}var eet=null;function sj(t,e,r,n){var i=[],a=!!n,o,s,c,l,u,f,h;if(a){c=n[0],l=n[1];for(var d=0,p=t.length;d<p;d+=1){var v=t[d];c=co([0,0],c,v),l=lo([0,0],l,v)}}for(var d=0,g=t.length;d<g;d+=1){var v=t[d];if(d===0&&!r)h=v;else if(d===g-1&&!r)f=v,i.push(h),i.push(f);else{var m=[d?d-1:g-1,d-1][r?0:1];o=t[m],s=t[r?(d+1)%g:d+1];var b=[0,0];b=Uh(b,s,o),b=qi(b,b,e);var _=ry(v,o),O=ry(v,s),E=_+O;E!==0&&(_/=E,O/=E);var P=qi([0,0],b,-_),A=qi([0,0],b,O);f=hc([0,0],v,P),u=hc([0,0],v,A),u=co([0,0],u,lo([0,0],s,v)),u=lo([0,0],u,co([0,0],s,v)),P=Uh([0,0],u,v),P=qi([0,0],P,-_/O),f=hc([0,0],v,P),f=co([0,0],f,lo([0,0],o,v)),f=lo([0,0],f,co([0,0],o,v)),A=Uh([0,0],v,f),A=qi([0,0],A,O/_),u=hc([0,0],v,A),a&&(f=lo([0,0],f,c),f=co([0,0],f,l),u=lo([0,0],u,c),u=co([0,0],u,l)),i.push(h),i.push(f),h=u}}return r&&i.push(i.shift()),i}function cj(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=[[0,0],[1,1]]);for(var n=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=sj(i,.4,n,r),c=i.length,l=[],u,f,h,a=0;a<c-1;a+=1)u=s[a*2],f=s[a*2+1],h=i[a+1],l.push(["C",u[0],u[1],f[0],f[1],h[0],h[1]]);return n&&(u=s[c],f=s[c+1],h=i[0],l.push(["C",u[0],u[1],f[0],f[1],h[0],h[1]])),l}var lj=cj;function uj(t,e,r){var n=null,i=r;return e<i&&(i=e,n="add"),t<i&&(i=t,n="del"),{type:n,min:i}}var fj=function(t,e){var r=t.length,n=e.length,i,a,o=0;if(r===0||n===0)return null;for(var s=[],c=0;c<=r;c++)s[c]=[],s[c][0]={min:c};for(var l=0;l<=n;l++)s[0][l]={min:l};for(var c=1;c<=r;c++){i=t[c-1];for(var l=1;l<=n;l++){a=e[l-1],isEqual(i,a)?o=0:o=1;var u=s[c-1][l].min+1,f=s[c][l-1].min+1,h=s[c-1][l-1].min+o;s[c][l]=uj(u,f,h)}}return s};function net(t,e){var r=fj(t,e),n=t.length,i=e.length,a=[],o=1,s=1;if(r[n][i]!==n){for(var c=1;c<=n;c++){var l=r[c][c].min;s=c;for(var u=o;u<=i;u++)r[c][u].min<l&&(l=r[c][u].min,s=u);o=s,r[c][o].type&&a.push({index:c-1,type:r[c][o].type})}for(var c=a.length-1;c>=0;c--)o=a[c].index,a[c].type==="add"?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}if(n=t.length,n<i)for(var c=0;c<i-n;c++)t[n-1][0]==="z"||t[n-1][0]==="Z"?t.splice(n-2,0,t[n-2]):t.push(t[n-1]);return t}var sl=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,hj=new RegExp("([a-z])["+sl+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+sl+"]*,?["+sl+"]*)+)","ig"),dj=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+sl+"]*,?["+sl+"]*","ig");function ret(t){if(!t)return null;if(isArray(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(hj,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(dj,function(c,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(r.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([i,o[0]]),s==="r")r.push([i].concat(o));else for(;o.length>=e[s]&&(r.push([i].concat(o.splice(0,e[s]))),!!e[s]););return""}),r}var pj=/[a-z]/;function kO(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function iet(t){var e=parsePathString(t);if(!e||!e.length)return[["M",0,0]];for(var r=!1,n=0;n<e.length;n++){var i=e[n][0];if(pj.test(i)||["V","H","T","S"].indexOf(i)>=0){r=!0;break}}if(!r)return e;var a=[],o=0,s=0,c=0,l=0,u=0,f,h,d=e[0];(d[0]==="M"||d[0]==="m")&&(o=+d[1],s=+d[2],c=o,l=s,u++,a[0]=["M",o,s]);for(var n=u,p=e.length;n<p;n++){var v=e[n],g=a[n-1],m=[],i=v[0],b=i.toUpperCase();if(i!==b)switch(m[0]=b,b){case"A":m[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+v[6]+o,m[7]=+v[7]+s;break;case"V":m[1]=+v[1]+s;break;case"H":m[1]=+v[1]+o;break;case"M":c=+v[1]+o,l=+v[2]+s,m[1]=c,m[2]=l;break;default:for(var _=1,O=v.length;_<O;_++)m[_]=+v[_]+(_%2?o:s)}else m=e[n];switch(b){case"Z":o=+c,s=+l;break;case"H":o=m[1],m=["L",o,s];break;case"V":s=m[1],m=["L",o,s];break;case"T":o=m[1],s=m[2];var E=kO([g[1],g[2]],[g[3],g[4]]);m=["Q",E[0],E[1],o,s];break;case"S":o=m[m.length-2],s=m[m.length-1];var P=g.length,A=kO([g[P-4],g[P-3]],[g[P-2],g[P-1]]);m=["C",A[0],A[1],m[1],m[2],o,s];break;case"M":c=m[m.length-2],l=m[m.length-1];break;default:o=m[m.length-2],s=m[m.length-1]}a.push(m)}return a}var cl=Math.PI*2,F0=function(t,e,r,n,i,a,o){var s=t.x,c=t.y;s*=e,c*=r;var l=n*s-i*c,u=i*s+n*c;return{x:l+a,y:u+o}},vj=function(t,e){var r=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),a=Math.cos(t+e),o=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]},TO=function(t,e,r,n){var i=t*n-e*r<0?-1:1,a=t*r+e*n;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},gj=function(t,e,r,n,i,a,o,s,c,l,u,f){var h=Math.pow(i,2),d=Math.pow(a,2),p=Math.pow(u,2),v=Math.pow(f,2),g=h*d-h*v-d*p;g<0&&(g=0),g/=h*v+d*p,g=Math.sqrt(g)*(o===s?-1:1);var m=g*i/a*f,b=g*-a/i*u,_=l*m-c*b+(t+r)/2,O=c*m+l*b+(e+n)/2,E=(u-m)/i,P=(f-b)/a,A=(-u-m)/i,T=(-f-b)/a,C=TO(1,0,E,P),L=TO(E,P,A,T);return s===0&&L>0&&(L-=cl),s===1&&L<0&&(L+=cl),[_,O,C,L]},mj=function(t){var e=t.px,r=t.py,n=t.cx,i=t.cy,a=t.rx,o=t.ry,s=t.xAxisRotation,c=s===void 0?0:s,l=t.largeArcFlag,u=l===void 0?0:l,f=t.sweepFlag,h=f===void 0?0:f,d=[];if(a===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:i}];var p=Math.sin(c*cl/360),v=Math.cos(c*cl/360),g=v*(e-n)/2+p*(r-i)/2,m=-p*(e-n)/2+v*(r-i)/2;if(g===0&&m===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:i}];a=Math.abs(a),o=Math.abs(o);var b=Math.pow(g,2)/Math.pow(a,2)+Math.pow(m,2)/Math.pow(o,2);b>1&&(a*=Math.sqrt(b),o*=Math.sqrt(b));var _=gj(e,r,n,i,a,o,u,h,p,v,g,m),O=_[0],E=_[1],P=_[2],A=_[3],T=Math.abs(A)/(cl/4);Math.abs(1-T)<1e-7&&(T=1);var C=Math.max(Math.ceil(T),1);A/=C;for(var L=0;L<C;L++)d.push(vj(P,A)),P+=A;return d.map(function(N){var x=F0(N[0],a,o,v,p,O,E),y=x.x,w=x.y,M=F0(N[1],a,o,v,p,O,E),S=M.x,k=M.y,I=F0(N[2],a,o,v,p,O,E),j=I.x,F=I.y;return{x1:y,y1:w,x2:S,y2:k,x:j,y:F}})};function aet(t,e,r,n,i,a,o,s,c){var l=mj({px:t,py:e,cx:s,cy:c,rx:r,ry:n,xAxisRotation:i,largeArcFlag:a,sweepFlag:o});return l.reduce(function(u,f){var h=f.x1,d=f.y1,p=f.x2,v=f.y2,g=f.x,m=f.y;return u.push(h,d,p,v,g,m),u},[])}function oet(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);var r=t.slice(1),n=r[0],i=r[1];switch(t[0]){case"M":return e.x=n,e.y=i,t;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=n,e.qy=i,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,t[1],t[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,t[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,t[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return t}function set(t,e){e===void 0&&(e=!1);for(var r=path2Absolute(t),n={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],a="",o=r.length,s,c,l=[],u=0;u<o;u+=1)r[u]&&(a=r[u][0]),i[u]=a,r[u]=segmentToCubic(r[u],n),yj(r,i,u),o=r.length,a==="Z"&&l.push(u),s=r[u],c=s.length,n.x1=+s[c-2],n.y1=+s[c-1],n.x2=+s[c-4]||n.x1,n.y2=+s[c-3]||n.y1;return e?[r,l]:r}function yj(t,e,r){if(t[r].length>7){t[r].shift();for(var n=t[r],i=r;n.length;)e[r]="A",t.splice(i+=1,0,["C"].concat(n.splice(0,6)));t.splice(r,1)}}var LO=function(t,e,r,n,i){var a=-3*e+9*r-9*n+3*i,o=t*a+6*e-12*r+6*n;return t*o-3*e+3*r},CO=function(t,e,r,n,i,a,o,s,c){c===null&&(c=1),c=c>1?1:c<0?0:c;for(var l=c/2,u=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<u;p++){var v=l*f[p]+l,g=LO(v,t,r,i,o),m=LO(v,e,n,a,s),b=g*g+m*m;d+=h[p]*Math.sqrt(b)}return l*d},bj=function(t,e,r,n,i,a,o,s){for(var c=[],l=[[],[]],u,f,h,d,p=0;p<2;++p){if(p===0?(f=6*t-12*r+6*i,u=-3*t+9*r-9*i+3*o,h=3*r-3*t):(f=6*e-12*n+6*a,u=-3*e+9*n-9*a+3*s,h=3*n-3*e),Math.abs(u)<1e-12){if(Math.abs(f)<1e-12)continue;d=-h/f,d>0&&d<1&&c.push(d);continue}var v=f*f-4*h*u,g=Math.sqrt(v);if(!(v<0)){var m=(-f+g)/(2*u);m>0&&m<1&&c.push(m);var b=(-f-g)/(2*u);b>0&&b<1&&c.push(b)}}for(var _=c.length,O=_,E;_--;)d=c[_],E=1-d,l[0][_]=E*E*E*t+3*E*E*d*r+3*E*d*d*i+d*d*d*o,l[1][_]=E*E*E*e+3*E*E*d*n+3*E*d*d*a+d*d*d*s;return l[0][O]=t,l[1][O]=e,l[0][O+1]=o,l[1][O+1]=s,l[0].length=l[1].length=O+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},xj=function(t,e,r,n,i,a,o,s){if(!(Math.max(t,r)<Math.min(i,o)||Math.min(t,r)>Math.max(i,o)||Math.max(e,n)<Math.min(a,s)||Math.min(e,n)>Math.max(a,s))){var c=(t*n-e*r)*(i-o)-(t-r)*(i*s-a*o),l=(t*n-e*r)*(a-s)-(e-n)*(i*s-a*o),u=(t-r)*(a-s)-(e-n)*(i-o);if(!!u){var f=c/u,h=l/u,d=+f.toFixed(2),p=+h.toFixed(2);if(!(d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(i,o).toFixed(2)||d>+Math.max(i,o).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(a,s).toFixed(2)||p>+Math.max(a,s).toFixed(2)))return{x:f,y:h}}}},Wa=function(t,e,r){return e>=t.x&&e<=t.x+t.width&&r>=t.y&&r<=t.y+t.height},z0=function(t,e,r,n){return t===null&&(t=e=r=n=0),e===null&&(e=t.y,r=t.width,n=t.height,t=t.x),{x:t,y:e,width:r,w:r,height:n,h:n,x2:t+r,y2:e+n,cx:t+r/2,cy:e+n/2,r1:Math.min(r,n)/2,r2:Math.max(r,n)/2,r0:Math.sqrt(r*r+n*n)/2,path:rectPath(t,e,r,n),vb:[t,e,r,n].join(" ")}},_j=function(t,e){return t=z0(t),e=z0(e),Wa(e,t.x,t.y)||Wa(e,t.x2,t.y)||Wa(e,t.x,t.y2)||Wa(e,t.x2,t.y2)||Wa(t,e.x,e.y)||Wa(t,e.x2,e.y)||Wa(t,e.x,e.y2)||Wa(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},NO=function(t,e,r,n,i,a,o,s){isArray(t)||(t=[t,e,r,n,i,a,o,s]);var c=bj.apply(null,t);return z0(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},RO=function(t,e,r,n,i,a,o,s,c){var l=1-c,u=Math.pow(l,3),f=Math.pow(l,2),h=c*c,d=h*c,p=u*t+f*3*c*r+l*3*c*c*i+d*o,v=u*e+f*3*c*n+l*3*c*c*a+d*s,g=t+2*c*(r-t)+h*(i-2*r+t),m=e+2*c*(n-e)+h*(a-2*n+e),b=r+2*c*(i-r)+h*(o-2*i+r),_=n+2*c*(a-n)+h*(s-2*a+n),O=l*t+c*r,E=l*e+c*n,P=l*i+c*o,A=l*a+c*s,T=90-Math.atan2(g-b,m-_)*180/Math.PI;return{x:p,y:v,m:{x:g,y:m},n:{x:b,y:_},start:{x:O,y:E},end:{x:P,y:A},alpha:T}},wj=function(t,e,r){var n=NO(t),i=NO(e);if(!_j(n,i))return r?0:[];for(var a=CO.apply(0,t),o=CO.apply(0,e),s=~~(a/8),c=~~(o/8),l=[],u=[],f={},h=r?0:[],d=0;d<s+1;d++){var p=RO.apply(0,t.concat(d/s));l.push({x:p.x,y:p.y,t:d/s})}for(var d=0;d<c+1;d++){var p=RO.apply(0,e.concat(d/c));u.push({x:p.x,y:p.y,t:d/c})}for(var d=0;d<s;d++)for(var v=0;v<c;v++){var g=l[d],m=l[d+1],b=u[v],_=u[v+1],O=Math.abs(m.x-g.x)<.001?"y":"x",E=Math.abs(_.x-b.x)<.001?"y":"x",P=xj(g.x,g.y,m.x,m.y,b.x,b.y,_.x,_.y);if(P){if(f[P.x.toFixed(4)]===P.y.toFixed(4))continue;f[P.x.toFixed(4)]=P.y.toFixed(4);var A=g.t+Math.abs((P[O]-g[O])/(m[O]-g[O]))*(m.t-g.t),T=b.t+Math.abs((P[E]-b[E])/(_[E]-b[E]))*(_.t-b.t);A>=0&&A<=1&&T>=0&&T<=1&&(r?h++:h.push({x:P.x,y:P.y,t1:A,t2:T}))}}return h},Oj=function(t,e,r){t=path2Curve(t),e=path2Curve(e);for(var n,i,a,o,s,c,l,u,f,h,d=r?0:[],p=0,v=t.length;p<v;p++){var g=t[p];if(g[0]==="M")n=s=g[1],i=c=g[2];else{g[0]==="C"?(f=[n,i].concat(g.slice(1)),n=f[6],i=f[7]):(f=[n,i,n,i,s,c,s,c],n=s,i=c);for(var m=0,b=e.length;m<b;m++){var _=e[m];if(_[0]==="M")a=l=_[1],o=u=_[2];else{_[0]==="C"?(h=[a,o].concat(_.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,l,u,l,u],a=l,o=u);var O=wj(f,h,r);if(r)d+=O;else{for(var E=0,P=O.length;E<P;E++)O[E].segment1=p,O[E].segment2=m,O[E].bez1=f,O[E].bez2=h;d=d.concat(O)}}}}}return d};function cet(t,e){return Oj(t,e)}function Wf(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function G0(t,e){return Wf(t)*Wf(e)?(t[0]*e[0]+t[1]*e[1])/(Wf(t)*Wf(e)):1}function IO(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(G0(t,e))}function DO(t,e){return t[0]===e[0]&&t[1]===e[1]}function uet(t,e){var r=e[1],n=e[2],i=mod(toRadian(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],c=t[1],l=e[6],u=e[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(c-u)/2,h=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(c-u)/2,d=f*f/(r*r)+h*h/(n*n);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var p=r*r*(h*h)+n*n*(f*f),v=p?Math.sqrt((r*r*(n*n)-p)/p):1;a===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*r*h/n:0,m=r?v*-n*f/r:0,b=(s+l)/2+Math.cos(i)*g-Math.sin(i)*m,_=(c+u)/2+Math.sin(i)*g+Math.cos(i)*m,O=[(f-g)/r,(h-m)/n],E=[(-1*f-g)/r,(-1*h-m)/n],P=IO([1,0],O),A=IO(O,E);return G0(O,E)<=-1&&(A=Math.PI),G0(O,E)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:b,cy:_,rx:DO(t,[l,u])?0:r,ry:DO(t,[l,u])?0:n,startAngle:P,endAngle:P+A,xRotation:i,arcFlag:a,sweepFlag:o}}function jO(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function fet(t){t=parsePath(t);for(var e=[],r=null,n=null,i=null,a=0,o=t.length,s=0;s<o;s++){var c=t[s];n=t[s+1];var l=c[0],u={command:l,prePoint:r,params:c,startTangent:null,endTangent:null};switch(l){case"M":i=[c[1],c[2]],a=s;break;case"A":var f=getArcParams(r,c);u.arcParams=f;break;default:break}if(l==="Z")r=i,n=t[a+1];else{var h=c.length;r=[c[h-2],c[h-1]]}n&&n[0]==="Z"&&(n=t[a],e[a]&&(e[a].prePoint=r)),u.currentPoint=r,e[a]&&isSamePoint(r,e[a].currentPoint)&&(e[a].prePoint=u.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;u.nextPoint=d;var p=u.prePoint;if(["L","H","V"].includes(l))u.startTangent=[p[0]-r[0],p[1]-r[1]],u.endTangent=[r[0]-p[0],r[1]-p[1]];else if(l==="Q"){var v=[c[1],c[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[r[0]-v[0],r[1]-v[1]]}else if(l==="T"){var g=e[s-1],v=jO(g.currentPoint,p);g.command==="Q"?(u.command="Q",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[r[0]-v[0],r[1]-v[1]]):(u.command="TL",u.startTangent=[p[0]-r[0],p[1]-r[1]],u.endTangent=[r[0]-p[0],r[1]-p[1]])}else if(l==="C"){var m=[c[1],c[2]],b=[c[3],c[4]];u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[r[0]-b[0],r[1]-b[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[m[0]-b[0],m[1]-b[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[b[0]-m[0],b[1]-m[1]])}else if(l==="S"){var g=e[s-1],m=jO(g.currentPoint,p),b=[c[1],c[2]];g.command==="C"?(u.command="C",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[r[0]-b[0],r[1]-b[1]]):(u.command="SQ",u.startTangent=[p[0]-b[0],p[1]-b[1]],u.endTangent=[r[0]-b[0],r[1]-b[1]])}else if(l==="A"){var _=.001,O=u.arcParams||{},E=O.cx,P=E===void 0?0:E,A=O.cy,T=A===void 0?0:A,C=O.rx,L=C===void 0?0:C,N=O.ry,x=N===void 0?0:N,y=O.sweepFlag,w=y===void 0?0:y,M=O.startAngle,S=M===void 0?0:M,k=O.endAngle,I=k===void 0?0:k;w===0&&(_*=-1);var j=L*Math.cos(S-_)+P,F=x*Math.sin(S-_)+T;u.startTangent=[j-i[0],F-i[1]];var X=L*Math.cos(S+I+_)+P,K=x*Math.sin(S+I-_)+T;u.endTangent=[p[0]-X,p[1]-K]}e.push(u)}return e}function BO(t){for(var e=[],r=t.length,n=0;n<r-1;n++){var i=t[n],a=t[n+1];e.push({from:{x:i[0],y:i[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=t[0],s=t[r-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Sj(t,e){var r=!1;return each(t,function(n){if(getLineIntersect(n.from,n.to,e.from,e.to))return r=!0,!1}),r}function FO(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,r),maxY:Math.max.apply(null,r)}}function Ej(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function het(t,e){if(t.length<2||e.length<2)return!1;var r=FO(t),n=FO(e);if(!Ej(r,n))return!1;var i=!1;if(each(e,function(c){if(isPointInPolygon(t,c[0],c[1]))return i=!0,!1}),i||(each(t,function(c){if(isPointInPolygon(e,c[0],c[1]))return i=!0,!1}),i))return!0;var a=BO(t),o=BO(e),s=!1;return each(o,function(c){if(Sj(a,c))return s=!0,!1}),s}function Mj(t,e){var r,n=e.x,i=e.y,a=z(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(r=z([o,s],2),s=r[0],o=r[1]),t.map(function(c){var l=c.map(function(u,f){return[n.map(f),et(i.map(u),s,o)]});return l})}function ll(t,e){e===void 0&&(e=!1);var r=e?t.length-1:0,n=t.map(function(i,a){return kt([a===r?"M":"L"],z(i),!1)});return e?n.reverse():n}function Yf(t,e){if(e===void 0&&(e=!1),t.length<=2)return ll(t);for(var r=[],n=t.length,i=0;i<n;i+=1){var a=e?t[n-i-1]:t[i];AO(a,r.slice(-2))||r.push.apply(r,kt([],z(a),!1))}var o=lj(r,!1);return e?o.unshift(kt(["M"],z(t[n-1]),!1)):o.unshift(kt(["M"],z(t[0]),!1)),o}function $0(t,e,r){var n=Bf(t);return n.push(["L",e,r],["L",0,r],["Z"]),n}function Pj(t,e,r,n){return t.map(function(i){return $0(e?Yf(i):ll(i),r,n)})}function Aj(t,e,r){for(var n=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=ll(a),s=void 0;if(i===0)s=$0(o,e,r);else{var c=t[i-1],l=ll(c,!0);l[0][0]="L",s=kt(kt(kt([],z(o),!1),z(l),!1),[["Z"]],!1)}n.push(s)}return n}function kj(t,e,r){for(var n=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=Yf(a),s=void 0;if(i===0)s=$0(o,e,r);else{var c=t[i-1],l=Yf(c,!0),u=a[0];l[0][0]="L",s=kt(kt(kt([],z(o),!1),z(l),!1),[kt(["M"],z(u),!1),["Z"]],!1)}n.push(s)}return n}var Tj=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var r=this.attributes.data;if(!r||(r==null?void 0:r.length)===0)return[[]];var n=Bf(r);return ct(n[0])?[n]:n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?MO(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var r=this.scales.y,n=z(r.getOptions().domain||[0,0],2),i=n[0],a=n[1];return a<0?r.map(a):r.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerCfg",{get:function(){var r=this.attributes,n=r.width,i=r.height;return{width:n,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesCfg",{get:function(){var r=this;if(this.attributes.type!=="line")throw new Error("linesCfg can only be used in line type");var n=this.attributes,i=n.isStack,a=n.smooth,o=Re(this.attributes,"area"),s=Re(this.attributes,"line"),c=this.containerCfg.width,l=this.data;if(l[0].length===0)return{lines:[],areas:[]};var u=this.scales,f=u.x,h=u.y,d=Mj(l,{type:"line",x:f,y:h}),p=[];if(o){var v=this.baseline;i?p=a?kj(d,c,v):Aj(d,c,v):p=Pj(d,a,c,v)}return{lines:d.map(function(g,m){return q({stroke:r.getColor(m),path:a?Yf(g):ll(g)},s)}),areas:p.map(function(g,m){return q({path:g,fill:r.getColor(m)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsCfg",{get:function(){var r=this;if(this.attributes.type!=="column")throw new Error("columnsCfg can only be used in column type");var n=Re(this.attributes,"column"),i=this.attributes.isStack,a=this.containerCfg.height,o=this.rawData;if(!o)return{columns:[]};i&&(o=MO(o));var s=this.createScales(o),c=s.x,l=s.y,u=z(EO(o),2),f=u[0],h=u[1],d=new Jn({domain:[0,h-(f>0?0:f)],range:[0,a]}),p=c.getBandWidth(),v=this.rawData;return{columns:o.map(function(g,m){return g.map(function(b,_){var O=p/o.length;return q(q({fill:r.getColor(m)},n),i?{x:c.map(_),y:l.map(b),width:p,height:d.map(v[m][_])}:{x:c.map(_)+O*m,y:b>=0?l.map(b):l.map(0),width:O,height:d.map(Math.abs(b))})})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(r,n){this.containerShape=ii(n,".container","rect").attr("className","container").node();var i=r.type,a="spark".concat(i),o=i==="line"?this.linesCfg:this.columnsCfg;this.sparkShape=ii(n,".".concat(a),function(){return i==="line"?new tj({className:a,style:o}):new ej({className:a,style:o})}).styles(o).node()},e.prototype.update=function(r){this.attr(Ve({},this.attributes,r)),this.render(this.attributes,this)},e.prototype.clear=function(){this.removeChild(this.sparkShape),this.sparkShape.clear(),this.sparkShape.destroy()},e.prototype.getColor=function(r){var n=this.attributes.color;return Ce(n)?n[r%n.length]:Cr(n)?n.call(null,r):n},e.prototype.createScales=function(r){var n,i,a=this.attributes,o=a.type,s=a.range,c=s===void 0?[]:s,l=this.containerCfg,u=l.width,f=l.height,h=z(EO(r),2),d=h[0],p=h[1],v=new Jn({domain:[(n=c[0])!==null&&n!==void 0?n:d,(i=c[1])!==null&&i!==void 0?i:p],range:[f,0]});if(o==="line")return{type:o,x:new Jn({domain:[0,r[0].length-1],range:[0,u]}),y:v};var g=this.attributes,m=g.isGroup,b=g.spacing;return{type:o,x:new vs({domain:r[0].map(function(_,O){return O}),range:[0,u],paddingInner:m?b:0}),y:v}},e.tag="sparkline",e.defaultOptions={style:{type:"line",width:200,height:20,isStack:!1,nice:!0,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",columnPadding:.1}},e}(sn),zO={fill:"#fff",stroke:"#bfbfbf",lineWidth:1,size:10,radius:2,strokeOpacity:1},GO={fontSize:12,fill:"#000",fillOpacity:.45,textAlign:"center",textBaseline:"middle"},$O={orient:"horizontal",type:"start",showLabel:!0},Ms=ai({labelGroup:"label-group",label:"label",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Lj=yO({render:function(t,e){var r=t.size,n=r===void 0?10:r,i=t.radius,a=i===void 0?n/4:i,o=t.orient,s=t.class,c=Vt(t,["size","radius","orient","class"]),l=n,u=l*2.4,f=$t(e).maybeAppendByClassName(Ms.iconRect,"rect").styles(q(q({},c),{width:l,height:u,radius:a,x:-l/2,y:-u/2})),h=1/3*l,d=2/3*l,p=1/4*u,v=3/4*u;f.maybeAppendByClassName("".concat(Ms.iconLine,"-1"),"line").styles(q({x1:h,x2:h,y1:p,y2:v},c)),f.maybeAppendByClassName("".concat(Ms.iconLine,"-2"),"line").styles(q({x1:d,x2:d,y1:p,y2:v},c)),f.node().setOrigin(l/2,u/2),o==="vertical"?e.setLocalEulerAngles(90):e.setLocalEulerAngles(0)}}),Cj=function(t){gt(e,t);function e(r){return t.call(this,an({},{style:$O},r))||this}return e.prototype.renderLabel=function(r){var n=this,i=this.attributes.showLabel,a=Re(this.attributes,"label"),o=z(ea(a,[]),2),s=o[0],c=o[1],l=$t(r).maybeAppendByClassName(Ms.labelGroup,"g").styles(c);xr(!!i,l,function(u){n.label=u.maybeAppendByClassName(Ms.label,"text").styles(q(q({},GO),s)),n.label.on("mousedown",function(f){f.stopPropagation()}),n.label.on("touchstart",function(f){f.stopPropagation()})})},e.prototype.renderIcon=function(r){var n=this.attributes,i=n.iconShape,a=i===void 0?function(){return new Lj({style:s})}:i,o=n.orient,s=q(q({orient:o},zO),Re(this.attributes,"icon"));this.icon=$t(r).maybeAppendByClassName(Ms.icon,a).update(s)},e.prototype.render=function(r,n){this.renderIcon(n),this.renderLabel(n)},e}(sn),WO=function(t){gt(e,t);function e(r){var n=t.call(this,Ve({},e.defaultOptions,r))||this;return n.range=[0,1],n.animation={duration:100,fill:"both"},n.onDragStart=function(i){return function(a){a.stopPropagation(),n.target=i,n.prevPos=n.getOrientVal(Ff(a));var o=n.availableSpace,s=o.x,c=o.y,l=n.attributes,u=l.x,f=l.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([s,c])-n.getOrientVal([+u,+f])),n.selectionWidth=0,document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd)}},n.onDragging=function(i){var a=n.attributes,o=a.slidable,s=a.brushable;i.stopPropagation();var c=n.getOrientVal(Ff(i)),l=c-n.prevPos;if(!!l){var u=n.getRatio(l);switch(n.target){case"start":o&&n.setValuesOffset(u);break;case"end":o&&n.setValuesOffset(0,u);break;case"selection":o&&n.setValuesOffset(u,u);break;case"track":if(!s)return;n.selectionWidth+=u,n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0);break;default:break}n.prevPos=c}},n.onDragEnd=function(){document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n.onValueChange=function(i){var a=new en("valuechange",{detail:{oldValue:i,value:n.getValues()}});n.dispatchEvent(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return Object.defineProperty(e.prototype,"values",{get:function(){return this.getAttribute("values")},set:function(r){this.setAttribute("values",this.clampValues(r))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineShapeCfg",{get:function(){var r=this.attributes.orient;if(r!=="horizontal")return null;var n=Re(this.attributes,"sparkline"),i=n.padding,a=Vt(n,["padding"]),o=z(Xn(i),4),s=o[0],c=o[1],l=o[2],u=o[3],f=this.availableSpace,h=f.width,d=f.height,p=this.attributes.trackLineWidth,v=p===void 0?0:p,g=+v;return q(q({x:g/2+u,y:g/2+s},a),{zIndex:0,width:h-g-u-c,height:d-g-s-l})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var r=this.attributes,n=r.trackLength,i=r.trackSize,a=z(this.getOrientVal([[n,i],[i,n]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes.padding,n=z(Xn(r),4),i=n[0],a=n[1],o=n[2],s=n[3],c=this.shape,l=c.width,u=c.height;return{x:s,y:i,width:l-(s+a),height:u-(i+o)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1),this.attr("values",r);var i=n===!1?!1:this.animation;Pi(this.selectionShape.node(),this.selectionCfg,i),Pi(this.startHandle.node(),this.getHandleShapeCfg("start"),i),Pi(this.endHandle.node(),this.getHandleShapeCfg("end"),i)},e.prototype.innerSetValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1);var i=this.values,a=this.clampValues(r);this.update({values:a}),n&&this.onValueChange(i)},e.prototype.renderTrack=function(r){var n=this.attributes.brushable,i=Re(this.attributes,"track");this.trackShape=$t(r).maybeAppendByClassName("slider-track","rect").styles(q(q(q({},this.shape),i),{cursor:n?"crosshair":"default"}))},e.prototype.renderSparkline=function(r){var n=this,i=this.attributes.orient,a=$t(r).maybeAppendByClassName("slider-sparkline-group","g");xr(i==="horizontal",a,function(o){var s=n.sparklineShapeCfg;o.maybeAppendByClassName("slider-sparkline",function(){return new Tj({style:s})}).call(function(c){c.node().update(s)})})},Object.defineProperty(e.prototype,"selectionCfg",{get:function(){var r=Re(this.attributes,"selection");return q(q({},r),this.calcMask())},enumerable:!1,configurable:!0}),e.prototype.renderSelection=function(r){var n=this;this.foregroundGroup=$t(r).maybeAppendByClassName("slider-foreground","g"),this.selectionShape=this.foregroundGroup.maybeAppendByClassName("slider-selection","rect").styles(this.selectionCfg);var i=function(a){var o="".concat(a,"-handle"),s=n.getHandleShapeCfg(a),c=n.foregroundGroup.maybeAppendByClassName(o,function(){return new Cj({style:s})}).style("type",a).update(s);return c};this.startHandle=i("start"),this.endHandle=i("end")},e.prototype.render=function(r,n){this.renderTrack(n),this.renderSparkline(n),this.renderSelection(n)},e.prototype.clampValues=function(r,n){var i;n===void 0&&(n=4);var a=z(this.range,2),o=a[0],s=a[1],c=z(this.getValues().map(function(v){return ws(v,n)}),2),l=c[0],u=c[1],f=z((r||[l,u]).map(function(v){return ws(v,n)}),2),h=f[0],d=f[1];h>d&&(i=z([d,h],2),h=i[0],d=i[1]);var p=d-h;return p>s-o?[o,s]:h<o?l===o&&u===d?[o,d]:[o,p+o]:d>s?u===s&&l===h?[h,s]:[s-p,s]:[h,d]},e.prototype.calcMask=function(r){var n=z(this.clampValues(r),2),i=n[0],a=n[1],o=this.availableSpace,s=o.x,c=o.y,l=o.width,u=o.height;return this.getOrientVal([{y:c,height:u,x:i*l+s,width:(a-i)*l},{x:s,width:l,y:i*u+c,height:(a-i)*u}])},e.prototype.calcHandlePosition=function(r){var n=this.availableSpace,i=n.width,a=n.height,o=z(this.clampValues(),2),s=o[0],c=o[1],l=(r==="start"?s:c)*this.getOrientVal([i,a]);return{x:this.getOrientVal([l,i/2]),y:this.getOrientVal([a/2,l])}},e.prototype.calcHandleText=function(r){var n=this.attributes,i=n.orient,a=n.formatter,o=Re(this.attributes,"handle"),s=Re(o,"label"),c=o.spacing,l=this.getHandleSize(),u=this.clampValues(),f=this.availableSpace,h=f.width,d=f.height,p=this.calcMask(),v=p.x,g=p.y,m=p.width,b=p.height,_=r==="start"?u[0]:u[1],O=a(_),E=this.appendChild(new wi({style:q(q(q({visibility:"hidden"},$a),s),{text:O})})),P=E.getBBox(),A=P.width,T=P.height;E.destroy();var C=0,L=0;if(i==="horizontal"){var N=c+l,x=N+A/2;if(r==="start"){var y=v-N-A;C=y>0?-x:x}else{var w=h-v-m-N>A;C=w?x:-x}}else{var x=c+l;r==="start"?L=g-l>T?-x:x:L=d-g-b-l>T?x:-x}return{x:C,y:L,text:O}},e.prototype.getHandleLabelShapeCfg=function(r){var n=this.attributes.showLabel;if(!n)return{};var i=Re(this.attributes,"handleLabel");return q(q({},i),this.calcHandleText(r))},e.prototype.getHandleIconShapeCfg=function(){var r=this.attributes,n=r.orient,i=r.handleIconShape,a=Re(this.attributes,"handleIcon"),o=this.getOrientVal(["ew-resize","ns-resize"]),s=this.getHandleSize();return q(q({},a),{shape:i,orient:n,cursor:o,size:s})},e.prototype.getHandleShapeCfg=function(r){var n=this.attributes,i=n.showHandle,a=n.showLabel,o=this.calcHandlePosition(r),s=o.x,c=o.y,l=this.calcHandleText(r);return q(q(q({zIndex:3,showLabel:a,visibility:i?"visible":"hidden"},ta(this.getHandleIconShapeCfg(),"icon")),ta(q(q({},this.getHandleLabelShapeCfg(r)),l),"label")),{x:s,y:c})},e.prototype.getHandleSize=function(){var r=this.attributes.handleIconSize;if(r)return r;var n=this.attributes,i=n.width,a=n.height;return Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},e.prototype.getOrientVal=function(r){var n=z(r,2),i=n[0],a=n[1],o=this.attributes.orient;return o==="horizontal"?i:a},e.prototype.setValuesOffset=function(r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var a=z(this.getValues(),2),o=a[0],s=a[1],c=[o+r,s+n].sort();i?this.setValues(c):this.innerSetValues(c,!0)},e.prototype.getRatio=function(r){var n=this.availableSpace,i=n.width,a=n.height;return r/this.getOrientVal([i,a])},e.prototype.dispatchCustomEvent=function(r,n,i){var a=this;r.on(n,function(o){o.stopPropagation(),a.dispatchEvent(new en(i,{detail:o}))})},e.prototype.bindEvents=function(){var r=this,n=this.selectionShape;this.addEventListener("wheel",this.onScroll),n.on("mousedown",this.onDragStart("selection")),n.on("touchstart",this.onDragStart("selection")),this.dispatchCustomEvent(n,"mouseenter","selectionMouseenter"),this.dispatchCustomEvent(n,"mouseleave","selectionMouseleave"),this.dispatchCustomEvent(n,"click","selectionClick"),[this.startHandle,this.endHandle].forEach(function(a){var o=a.node().attr("type");a.on("mousedown",function(s){r.onDragStart(o)(s)}),a.on("touchstart",function(s){r.onDragStart(o)(s)})});var i=this.trackShape;this.dispatchCustomEvent(i,"click","trackClick"),this.dispatchCustomEvent(i,"mouseenter","trackMouseenter"),this.dispatchCustomEvent(i,"mouseleave","trackMouseleave"),i.on("mousedown",this.onDragStart("track")),i.on("touchstart",this.onDragStart("track"))},e.prototype.onScroll=function(r){var n=this.attributes.scrollable;if(n){var i=r.deltaX,a=r.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s,!0)}},e.tag="slider",e.defaultOptions={style:q(q(q({values:[0,1],trackLength:200,trackSize:20,slidable:!0,brushable:!0,scrollable:!0,orient:"horizontal",trackZIndex:-1,trackFill:"#416180",trackOpacity:.05,selectionCursor:"move",selectionZIndex:2,selectionFill:"#5B8FF9",selectionFillOpacity:.45,sparklinePadding:1,padding:0,showHandle:!0,showLabel:!0,handleSpacing:2,formatter:function(r){return r}},ta($O,"handle")),ta(zO,"handleIcon")),ta(GO,"handleLabel"))},e}(sn),Nj=function(t){gt(e,t);function e(r){var n=t.call(this,Ve({},e.defaultOptions,r))||this;return n.range=[0,1],n.onValueChange=function(i){var a=n.style.value;if(i!==a){var o={detail:{oldValue:i,value:a}};n.dispatchEvent(new en("scroll",o)),n.dispatchEvent(new en("valuechange",o))}},n.onTrackClick=function(i){var a=n.attributes.slidable;if(!!a){var o=z(n.getLocalPosition(),2),s=o[0],c=o[1],l=z(n.padding,4),u=l[0],f=l[3],h=n.getOrientVal([s+f,c+u]),d=n.getOrientVal(Ff(i)),p=(d-h)/n.trackLength;n.setValue(p,!0)}},n.onThumbMouseenter=function(i){n.dispatchEvent(new en("thumbMouseenter",{detail:i.detail}))},n.onTrackMouseenter=function(i){n.dispatchEvent(new en("trackMouseenter",{detail:i.detail}))},n.onThumbMouseleave=function(i){n.dispatchEvent(new en("thumbMouseleave",{detail:i.detail}))},n.onTrackMouseleave=function(i){n.dispatchEvent(new en("trackMouseleave",{detail:i.detail}))},n}return Object.defineProperty(e.prototype,"padding",{get:function(){var r=this.attributes.padding;return Xn(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var r=this.attributes.value,n=z(this.range,2),i=n[0],a=n[1];return et(r,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var r=this.attributes,n=r.viewportLength,i=r.trackLength,a=i===void 0?n:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes.trackSize,n=this.trackLength,i=z(this.padding,4),a=i[0],o=i[1],s=i[2],c=i[3],l=z(this.getOrientVal([[n,r],[r,n]]),2),u=l[0],f=l[1];return{x:c,y:a,width:+u-(c+o),height:+f-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var r=this.attributes,n=r.isRound,i=r.trackSize;return n?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var r=this.attributes.isRound;if(!r)return 0;var n=this.availableSpace,i=n.width,a=n.height;return this.attributes.thumbRadius||this.getOrientVal([a,i])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(r){r===void 0&&(r=this.value);var n=this.attributes,i=n.viewportLength,a=n.contentLength,o=i/a,s=z(this.range,2),c=s[0],l=s[1],u=r*(l-c-o);return[u,u+o]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(r){var n=this.attributes,i=n.orient,a=n.trackSize,o=n.padding,s=n.slidable,c=z(Os(this.attributes,["track","thumb"]),2),l=c[0],u=c[1],f=q(q({orient:i,padding:o,slidable:s,trackSize:a,brushable:!1,showHandle:!1,values:this.getValues(),trackLength:this.trackLength,trackRadius:this.trackRadius,selectionRadius:this.thumbRadius},ta(l,"track")),ta(u,"selection"));this.slider=$t(r).maybeAppendByClassName("scrollbar",function(){return new WO({style:f})}).update(f).node()},e.prototype.render=function(r,n){this.renderSlider(n)},e.prototype.setValue=function(r,n){n===void 0&&(n=!1);var i=this.style.value,a=z(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(et(r,o,s)),n),this.onValueChange(i)},e.prototype.bindEvents=function(){var r=this;this.slider.addEventListener("trackClick",function(n){n.stopPropagation(),r.onTrackClick(n.detail)}),this.onHover()},e.prototype.getOrientVal=function(r){var n=this.attributes.orient;return n==="horizontal"?r[0]:r[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e.defaultOptions={style:{value:0,trackSize:10,isRound:!0,slidable:!0,scrollable:!0,orient:"vertical",padding:[2,2,2,2]}},e}(sn);function Hf(t,e){return Pi(t,{opacity:0},e)}function Rj(t){return t?"enter"in t||"update"in t||"exit"in t?t:{enter:t,update:t,exit:t}:{enter:!1,update:!1,exit:!1}}function W0(t,e){t?t.finished.then(e):e()}var Y0={style:{data:[],animate:{duration:100,easing:"ease-in-out-sine",fill:"both"},dataThreshold:100,showTitle:!0,titlePosition:"lb",titleFill:"black",titleFontSize:12,titleTextAlign:"center",titleSpacing:0,titleTextBaseline:"middle",showLine:!0,lineLineWidth:1,lineStroke:"black",showArrow:!0,lineArrow:new Ne({style:{path:"M 10,10 L -10,0 L 10,-10 L0,0 L10,10Z",anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}}),lineArrowOffset:15,lineArrowSize:10,showTick:!0,tickDirection:"positive",tickStroke:"black",tickLength:5,tickLineWidth:1,tickStrokeOpacity:.65,showLabel:!0,labelSpacing:0,labelDirection:"positive",labelAlign:"parallel",labelTransforms:[],showGrid:!0,gridType:"segment",gridConnect:"line",gridDirection:"positive",gridLength:0,gridControlAngles:[]}},det=Ve({},Y0,{style:{type:"arc"}}),pet=Ve({},Y0,{style:{}}),Ue=ai({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),Ps=ai({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function YO(t){return t.reduce(function(e,r,n){return"".concat(e).concat(n===0?"M":" L").concat(r[0],",").concat(r[1])},"")}function Ij(t,e,r){var n=e.connect,i=n===void 0?"line":n,a=e.center;if(i==="line")return YO(t);if(!a)return"";var o=L0(t[0],a),s=r?0:1;return t.reduce(function(c,l,u){var f=z(l,2),h=f[0],d=f[1];return u===0?"M".concat(h,",").concat(d):"".concat(c,"A").concat(o,",").concat(o,",0,0,").concat(s,",").concat(h,",").concat(d)},"")}function H0(t,e,r){return e.type==="surround"?Ij(t,e,r):YO(t)}function Dj(t,e,r){var n=r.type,i=r.connect,a=r.center,o=r.closed,s=o?" Z":"",c=z([H0(t,r),H0(e.slice().reverse(),r,!0)],2),l=c[0],u=c[1],f=z([t[0],e.slice(-1)[0]],2),h=f[0],d=f[1],p=function(b,_){return"".concat(l," ").concat(b," ").concat(u," ").concat(_," ").concat(s)};if(i==="line"||n==="surround")return p("L".concat(d.join()),"L".concat(h.join()));if(!a)throw new Error("Arc grid need to specified center");var v=z([L0(d,a),L0(h,a)],2),g=v[0],m=v[1];return p("A".concat(g,",").concat(g,",0,0,1,").concat(d.join(" ")," L").concat(d.join()),"A".concat(m,",").concat(m,",0,0,0,").concat(h.join(" ")))}function jj(t,e,r,n){var i=r.animate,a=e.map(function(o,s){return{id:o.id||"grid-line-".concat(s),path:H0(o.points,r)}});t.selectAll(Ps.line.class).data(a,function(o){return o.id}).join(function(o){return o.append("path").attr("className",Ps.line.name).styles({stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4]}).each(function(s,c){var l=Hr(q({path:s.path},n),[s,c,a]);this.attr(l)})},function(o){return o.each(function(s,c){var l=Hr(q({path:s.path},n),[s,c,a]);Pi(this,l,i.update)})},function(o){return o.each(function(){var s;return An(this,void 0,void 0,function(){return Wn(this,function(c){switch(c.label){case 0:return[4,(s=Hf(this,i.exit))===null||s===void 0?void 0:s.finished];case 1:return c.sent(),this.remove(),[2]}})})})})}function Bj(t,e,r){var n=r.animate,i=r.type,a=r.center,o=r.connect,s=r.areaFill,c=r.closed;if(!(e.length<2||!s||!o)){for(var l=Array.isArray(s)?s:[s,"transparent"],u=function(m){return l[m%l.length]},f=[],h=0;h<e.length-1;h++){var d=z([e[h].points,e[h+1].points],2),p=d[0],v=d[1],g=Dj(p,v,r);f.push({path:g,fill:u(h)})}t.selectAll(Ps.region.class).data(f,function(m,b){return b}).join(function(m){return m.append("path").each(function(b,_){var O=Hr(b,[b,_,f]);this.attr(O)}).attr("className",Ps.region.name)},function(m){return m.each(function(b,_){var O=Hr(b,[b,_,f]);Pi(this,O,n.update)})},function(m){return m.each(function(){return An(this,void 0,void 0,function(){return Wn(this,function(b){switch(b.label){case 0:return[4,Hf(this,n.exit)];case 1:return b.sent(),this.remove(),[2]}})})})})}}function Fj(t,e){var r=e.closed;return r?t.map(function(n){var i=n.points,a=z(i),o=a[0],s=a.slice(1);return q(q({},n),{points:kt(kt([],z(i),!1),[o],!1)})}):t}var zj=function(t){gt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n){var i=r.class,a=r.items,o=a===void 0?[]:a,s=r.animate,c=r.type,l=r.center,u=r.areaFill,f=r.closed,h=Vt(r,["class","items","animate","type","center","areaFill","closed"]),d=Fj(o,r),p=$t(n).maybeAppendByClassName(Ps.lineGroup,"g"),v=$t(n).maybeAppendByClassName(Ps.regionGroup,"g");jj(p,d,r,h),Bj(v,d,r)},e}(sn);function Gj(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return mat3.fromTranslation(n,r),mat3.multiply(t,n,e)}function $j(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return mat3.fromRotation(n,r),mat3.multiply(t,n,e)}function Wj(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return mat3.fromScaling(n,r),mat3.multiply(t,n,e)}function Yj(t,e,r){return mat3.multiply(t,r,e)}function vet(t,e){for(var r=t?[].concat(t):[1,0,0,0,1,0,0,0,1],n=0,i=e.length;n<i;n++){var a=e[n];switch(a[0]){case"t":Gj(r,r,[a[1],a[2]]);break;case"s":Wj(r,r,[a[1],a[2]]);break;case"r":$j(r,r,a[1]);break;case"m":Yj(r,r,a[1]);break;default:break}}return r}function Hj(t,e){return t[0]*e[1]-e[0]*t[1]}function get(t,e,r){var n=vec2.angle(t,e),i=Hj(t,e)>=0;return r?i?Math.PI*2-n:n:i?n:Math.PI*2-n}function Vj(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function HO(t,e){return Object.fromEntries(Object.entries(t).map(function(r){var n=z(r,2),i=n[0],a=n[1];return[i,Hr(a,e)]}))}function Xj(t){return t.type==="linear"?kt(kt([],z(t.startPos),!1),z(t.endPos),!1):kt(kt(kt([],z(t.angleRange),!1),z(t.center),!1),[t.radius],!1)}function V0(t,e){return!!e&&Cr(e)?t.filter(e):t}var VO=Ga(function(t,e){var r=z(e.angleRange,2),n=r[0],i=r[1];return(i-n)*t+n},function(t,e){return kt([t],z(e.angleRange),!1).join()}),Vf=Ga(function(t,e){if(e.type==="linear"){var r=z(e.startPos,2),n=r[0],i=r[1],a=z(e.endPos,2),o=a[0],s=a[1],c=z([o-n,s-i],2),l=c[0],u=c[1];return fu([0,0],[l,u])}var f=Es(VO(t,e));return[-Math.sin(f),Math.cos(f)]},function(t,e){var r=Xj(e);return e.type==="arc"&&r.push(t),r.join()});function X0(t,e,r){var n=Vf(t,r);return Vj([],n,e!=="positive")}var qj=Ga(function(t,e){var r=z(e.startPos,2),n=r[0],i=r[1],a=z(e.endPos,2),o=a[0],s=a[1],c=z([o-n,s-i],2),l=c[0],u=c[1];return[n+l*t,i+u*t]},function(t,e){return kt(kt([t],z(e.startPos),!1),z(e.endPos),!1).join()}),Uj=Ga(function(t,e){var r=e.radius,n=z(e.center,2),i=n[0],a=n[1],o=Es(VO(t,e));return[i+r*Math.cos(o),a+r*Math.sin(o)]},function(t,e){return kt(kt(kt([t],z(e.angleRange),!1),[e.radius],!1),z(e.center),!1).join()});function Xf(t,e){return e.type==="linear"?qj(t,e):Uj(t,e)}function Kj(t){return Vf(0,t)[1]===0}function Zj(t){return Vf(0,t)[0]===0}function XO(t,e){return e-t===360}function qO(t,e,r,n,i){var a=e-t,o=z([i,i],2),s=o[0],c=o[1],l=z([Es(t),Es(e)],2),u=l[0],f=l[1],h=function(L){return[r+i*Math.cos(L),n+i*Math.sin(L)]},d=z(h(u),2),p=d[0],v=d[1],g=z(h(f),2),m=g[0],b=g[1];if(XO(t,e)){var _=(f+u)/2,O=z(h(_),2),E=O[0],P=O[1];return"M".concat(p,",").concat(v," A ").concat(s,",").concat(c," 0 1,0 ").concat(E,", ").concat(P," A ").concat(s,",").concat(c," 0 1,0 ").concat(m,", ").concat(b)}var A=a>180?1:0,T=t>e?0:1,C=!1;return C?"M".concat(r,",").concat(n,",L").concat(p,",").concat(v,",A").concat(s,",").concat(c,",0,").concat(A,",").concat(T,",").concat(m,",").concat(b,",L").concat(r,",").concat(n):"M".concat(p,",").concat(v,",A").concat(s,",").concat(c,",0,").concat(A,",").concat(T,",").concat(m,",").concat(b)}function Qj(t){var e=t.attributes,r=e.angleRange,n=e.center,i=e.radius;return kt(kt(kt([],z(r),!1),z(n),!1),[i],!1)}function Jj(t,e,r,n){var i=e.angleRange,a=e.center,o=e.radius;return t.selectAll(Ue.line.class).data([{path:qO.apply(void 0,kt(kt(kt([],z(i),!1),z(a),!1),[o],!1))}],function(s,c){return c}).join(function(s){return s.append("path").attr("className",Ue.line.name).styles(q({angleRange:i,center:a,radius:o},r)).style("path",function(c){return c.path})},function(s){return s.styles(r).transition(function(){var c=this,l=M7(this,Qj(this),kt(kt(kt([],z(i),!1),z(a),!1),[o],!1),n.update);if(l){var u=function(){var f=Yr(c.style,"__keyframe_data__");c.style.path=qO.apply(void 0,kt([],z(f),!1))};l.onframe=u,l.onfinish=u}return l}).styles({angleRange:i,center:a,radius:o})},function(s){return s.remove()}).styles(r).transitions()}function tB(t,e,r){var n=e.truncRange,i=e.truncShape,a=e.lineExtension}function eB(t,e,r){r===void 0&&(r=[0,0]);var n=z([t,e,r],3),i=z(n[0],2),a=i[0],o=i[1],s=z(n[1],2),c=s[0],l=s[1],u=z(n[2],2),f=u[0],h=u[1],d=z([c-a,l-o],2),p=d[0],v=d[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),m=z([-f/g,h/g],2),b=m[0],_=m[1];return[b*p,b*v,_*p,_*v]}function UO(t){var e=z(t,2),r=z(e[0],2),n=r[0],i=r[1],a=z(e[1],2),o=a[0],s=a[1];return{x1:n,y1:i,x2:o,y2:s}}function nB(t,e,r,n){var i=e.startPos,a=e.endPos,o=e.truncRange,s=e.lineExtension,c=z([i,a],2),l=z(c[0],2),u=l[0],f=l[1],h=z(c[1],2),d=h[0],p=h[1],v=z(s?eB(i,a,s):new Array(4).fill(0),4),g=v[0],m=v[1],b=v[2],_=v[3],O=function(M){return t.selectAll(Ue.line.class).data(M,function(S,k){return k}).join(function(S){return S.append("line").attr("className",function(k){return"".concat(Ue.line.name," ").concat(k.className)}).styles(r).transition(function(k){var I=k.line;return Pi(this,UO(I),!1)})},function(S){return S.styles(r).transition(function(k){var I=k.line;return Pi(this,UO(I),n.update)})},function(S){return S.remove()}).transitions()};if(!o)return O([{line:[[u+g,f+m],[d+b,p+_]],className:Ue.line.name}]);var E=z(o,2),P=E[0],A=E[1],T=z([u+(d-u)*P,f+(p-f)*P],2),C=T[0],L=T[1],N=z([u+(d-u)*A,f+(p-f)*A],2),x=N[0],y=N[1],w=O([{line:[[u+g,f+m],[C,L]],className:Ue.lineFirst.name},{line:[[x,y],[d+b,p+_]],className:Ue.lineSecond.name}]);return tB(t,e,r),w}function rB(t,e,r,n){var i=r.showArrow,a=r.lineArrow,o=r.truncRange,s=r.lineArrowOffset,c=s===void 0?0:s,l=r.lineArrowSize,u;if(e==="arc"?u=t.select(Ue.line.class):o?u=t.select(Ue.lineSecond.class):u=t.select(Ue.line.class),!i||!a||r.type==="arc"&&XO.apply(void 0,kt([],z(r.angleRange),!1))){u.style("markerEnd",null);return}var f=Lo(a);f.attr(n),R0(f,l,!0),u.style("markerEnd",f).style("markerEndOffset",-c)}function iB(t,e,r,n){var i=e.type,a;return i==="linear"?a=nB(t,e,r,n):a=Jj(t,e,r,n),rB(t,i,e,r),a}function aB(t,e){return X0(t,e.gridDirection,e)}function KO(t){var e=t.type,r=t.gridCenter;return e==="linear"?r:r||t.center}function oB(t,e){var r=e.gridLength,n=r===void 0?0:r;return t.map(function(i){var a=i.value,o=z(Xf(a,e),2),s=o[0],c=o[1],l=z(qi([0,0],aB(a,e),n),2),u=l[0],f=l[1];return{points:[[s,c],[s+u,c+f]]}})}function sB(t,e,r){var n=r.controlAngles,i=KO(e);if(!i)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var a=z(i,2),o=a[0],s=a[1];return t.map(function(c){var l=c.value,u=z(Xf(l,e),2),f=u[0],h=u[1],d=z([f-o,h-s],2),p=d[0],v=d[1],g=[];return n.forEach(function(m){var b=Es(m),_=z([Math.cos(b),Math.sin(b)],2),O=_[0],E=_[1],P=p*O-v*E+o,A=p*E+v*O+s;g.push([P,A])}),{points:g}})}function cB(t,e,r,n,i){var a=n.type,o=n.closed,s=n.areaFill,c=n.connect,l=KO(r),u=V0(e,r.gridFilter),f=a==="segment"?oB(u,r):sB(u,r,n);t.maybeAppendByClassName(Ue.grid,function(){return new zj({})}).update(q(q({type:a,animate:i,connect:c,closed:o,center:l},n),{items:f,areaFill:Cr(s)?u.map(function(h,d){return Hr(s,[h,d,u])}):s}))}var ZO=function(){function t(e){var r=e||{},n=r.left,i=r.top,a=r.right,o=r.bottom;this.x1=n!=null?n:+Number.MAX_VALUE,this.x2=a!=null?a:-Number.MAX_VALUE,this.y1=i!=null?i:+Number.MAX_VALUE,this.y2=o!=null?o:-Number.MAX_VALUE}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},t.prototype.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},t.prototype.add=function(e,r){return e<this.x1&&(this.x1=e),r<this.y1&&(this.y1=r),e>this.x2&&(this.x2=e),r>this.y2&&(this.y2=r),this},t.prototype.rotate=function(e,r,n){var i=this.rotatedPoints(e,r,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},t.prototype.rotatedPoints=function(e,r,n){var i=this,a=i.x1,o=i.y1,s=i.x2,c=i.y2,l=Math.cos(e),u=Math.sin(e),f=r-r*l+n*u,h=n-r*u-n*l,d=[[l*a-u*o+f,u*a+l*o+h],[l*a-u*c+f,u*a+l*c+h],[l*s-u*c+f,u*s+l*c+h],[l*s-u*o+f,u*s+l*o+h]];return d.flat(1)},t.prototype.set=function(e,r,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<r?(this.y2=r,this.y1=i):(this.y1=r,this.y2=i),this},t.prototype.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},t.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},t}();function QO(t,e){var r=z(t,4),n=r[0],i=r[1],a=r[2],o=r[3],s=z(e,4),c=s[0],l=s[1],u=s[2],f=s[3],h=a-n,d=o-i,p=u-c,v=f-l,g=h*v-p*d;if(g===0)return!1;var m=g>0,b=n-c,_=i-l,O=h*_-d*b;if(O<0===m)return!1;var E=p*_-v*b;return!(E<0===m||O>g===m||E>g===m)}function ul(t,e){var r=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return r.some(function(n){return QO(e,n)})}function q0(t,e,r){r===void 0&&(r=[0,0,0,0]);var n=e.getEulerAngles()||0;e.setEulerAngles(0);var i=e.getLocalBounds(),a=i.min,o=i.max,s=i.halfExtents,c=a[0],l=s[0]*2,u=s[1]*2,f=c,h=a[1],d=o[0],p=o[1],v=u,g=0,m=0,b=f,_=h;if(e.tagName==="text"){v-=1.5;var O=e.style.textAlign,E=e.style.textBaseline;g=+e.style.dx,m=+e.style.dy,O==="center"?b=(f+d)/2:(O==="right"||O==="end")&&(b=d),E==="middle"?_=(h+p)/2:(E==="bottom"||E==="baseline")&&(_=p)}var P=z(r,4),A=P[0],T=A===void 0?0:A,C=P[1],L=C===void 0?0:C,N=P[2],x=N===void 0?T:N,y=P[3],w=y===void 0?L:y;return t.set((g+=f)-w,(m+=h)-T,g+l+L,m+v+x),e.setEulerAngles(n),t.rotatedPoints(Es(n),b,_)}var met={lineToLine:QO,intersectBoxLine:ul,bound:q0};function lB(t,e,r){var n=q0(new ZO,t,r),i=q0(new ZO,e,r),a=ul(i,[n[0],n[1],n[2],n[3]])||ul(i,[n[0],n[1],n[4],n[5]])||ul(i,[n[4],n[5],n[6],n[7]])||ul(i,[n[2],n[3],n[6],n[7]]);return a}var uB=function(t){return t!==void 0&&t!=null&&"".concat(t)!==""};function yet(t,e){var r,n;try{for(var i=__values(Object.entries(e)),a=i.next();!a.done;a=i.next()){var o=__read(a.value,2),s=o[0],c=o[1];uB(c)&&(t[s]=e[s])}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t}function U0(t,e){var r;return kt([],z(t.reduce(function(n,i,a){return!a||!r||!lB(r,i,e)?(r=i,n):(n.add(r),n.add(i),n)},new Set)),!1)}function fB(t,e,r,n){if(!(t.length<=1)){var i=e.suffix,a=i===void 0?"...":i,o=e.minLength,s=e.maxLength,c=e.step,l=e.margin,u=l===void 0?[0,0,0,0]:l,f=s7(n.getTextShape(t[0])),h=P0(c,f)||1,d=P0(o,f)||1,p=P0(s,f);(ot(p)||p===1/0)&&(p=Math.max.apply(null,t.map(function(w){return w.getBBox().width})));for(var v=300,g=Date.now(),m=t.slice(),b=z(u,4),_=b[0],O=_===void 0?0:_,E=b[1],P=E===void 0?0:E,A=b[2],T=A===void 0?O:A,C=b[3],L=C===void 0?P:C,N=function(w){if(m.forEach(function(M){n.ellipsis(n.getTextShape(M),w,a)}),m=U0(t,u),m.length<1)return{value:void 0};if(Date.now()-g>v)return{value:void 0}},x=p;x>d+h;x-=h){var y=N(x);if(typeof y=="object")return y.value}}}var hB={parity:function(t,e){var r=e.seq,n=r===void 0?2:r;return t.filter(function(i,a){return a%n?(i.style.visibility="hidden",!1):!0})}},dB=function(t){return t.filter(function(e){return g7(e)})};function pB(t,e,r,n){var i=t.length,a=e.keepHeader,o=e.keepTail;if(!(i<=1)&&!(i===2&&a&&o)){var s=hB.parity,c=function(E){return E.forEach(n.show),E},l=2,u=t.slice(),f=t.slice(),h=200,d=Date.now(),p=Math.min.apply(Math,kt([1],z(t.map(function(E){return E.getBBox().width})),!1));if(r.type==="linear"&&(Kj(r)||Zj(r))){var v=hO(t[0]).left,g=hO(t[i-1]).right,m=Math.abs(g-v)||1;l=Math.max(Math.floor(i*p/m),l)}var b,_;for(a&&(b=u.splice(0,1)[0]),o&&(_=u.splice(-1,1)[0],u.reverse());U0(dB(_?kt(kt([_],z(f),!1),[b],!1):kt([b],z(f),!1)),e==null?void 0:e.margin).length;){if(_&&!b&&l%2===0){var O=u.splice(0,1);O.forEach(n.hide)}else if(_&&b){var O=u.splice(0,1);O.forEach(n.hide)}if(f=s(c(u),{seq:l}),l++,Date.now()-d>h)return}}}function bet(t,e){var r=t.length;if(!(r<=1)){var n=e.keepHeader,i=e.keepTail;if(!(r===2&&n&&i)){var a=t.slice(),o;a.forEach(function(s,c){!c||!o||!intersect(o,s,e==null?void 0:e.margin)?o=s:c===r-1&&i?o.style.visibility="hidden":s.style.visibility="hidden"})}}}function vB(t,e,r,n){var i=e.optionalAngles,a=i===void 0?[0,45,90]:i,o=e.margin,s=e.recoverWhenFailed,c=s===void 0?!0:s,l=t.map(function(d){return+(C0(d,"rotate")||0)}),u=function(){return U0(t,o).length<1},f=function(d){return t.forEach(function(p,v){var g=Ce(d)?d[v]:d;!ot(g)&&n.rotate(p,g)})};if(!u()){for(var h=0;h<a.length;h++)if(f(a[h]),u())return;c&&f(l)}}var gB=new Map([["hide",pB],["rotate",vB],["ellipsis",fB]]);function mB(t,e,r){return e.labelTransforms?r==="ellipsis"?t.map(function(n){return n.querySelector("text")}).length>1:!0:!1}function yB(t,e,r){var n=e.labelTransforms,i=n===void 0?[]:n;!i.length||i.forEach(function(a){var o=a.type,s=gB.get(o);mB(t,e,o)&&(s==null||s(t,a,e,r))})}function xet(t,e,r){var n=Array.from(t||[]).map(function(s,c){return __assign({id:"".concat(c)},s)}),i=n.length,a=n;if(typeof e=="number"&&i>e){var o=Math.ceil(i/e);a=n.filter(function(s,c){return c%o===0||c===i-1})}return r&&a[a.length-1].value!==1&&a.push({value:1,id:"append"}),a}function _et(t,e,r){!r||t.forEach(function(n,i){var a=e[i];a&&(a.style.visibility=n.style.visibility)})}function bB(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(n){return n==="positive"?-1:1};return t.reduce(function(n,i){return n*r(i)},1)}var JO=function(t){for(var e=t;e<0;)e+=360;return e%360},K0=Ga(function(t,e){var r=z(t,2),n=r[0],i=r[1],a=z(e,2),o=a[0],s=a[1],c=z([n*o+i*s,n*s-i*o],2),l=c[0],u=c[1];return Math.atan2(u,l)},function(t,e){return kt(kt([],z(t),!1),z(e),!1).join()});function qf(t,e){return X0(t,e.labelDirection,e)}function xB(t){var e=(t+360)%180;return lr(e,-90,90)||(e+=180),e}function _B(t,e,r){var n=r.labelAlign,i=C0(e,"rotate");if(i)return+i%180;var a=0,o=qf(t.value,r),s=Vf(t.value,r);return n==="horizontal"?0:(n==="perpendicular"?a=K0([1,0],o):a=K0([s[0]<0?-1:1,0],s),xB(vO(a)))}function wB(t,e,r){var n=r.type,i=r.labelAlign,a=qf(t,r),o=JO(e),s=JO(vO(K0([1,0],a)));if([90,270].includes(s)&&!o||!(s%180)&&[90,270].includes(o))return"middle";if(n==="linear"){if(s===0&&(lr(o,0,90,!1,!0)||lr(o,0,90)||lr(o,270,360)))return"start";if(s===90){if(lr(o,0,90,!1,!0))return"start";if(lr(o,90,180)||lr(o,270,360))return"end"}if(s===270){if(lr(o,0,90,!1,!0))return"end";if(lr(o,90,180)||lr(o,270,360))return"start"}if(s===180){if(o===90)return"start";if(lr(o,0,90)||lr(o,270,360))return"end"}}else return i==="parallel"?"middle":lr(o,90,270)?lr(s,90,270)?"start":"end":lr(s,90,270)?"end":"start";return"start"}function tS(t,e,r){e.setLocalEulerAngles(+t);var n=e.__data__.value,i=wB(n,t,r),a=e.querySelector(Ue.labelItem.class);(a==null?void 0:a.nodeName)==="text"&&$t(a).style("textAlign",i)}function OB(t,e,r,n){var i=n.showTick,a=n.tickLength,o=n.tickDirection,s=n.labelDirection,c=n.labelSpacing,l=Hr(c,[t,e,r]),u=z([qf(t.value,n),bB(s,o)],2),f=u[0],h=u[1],d=h===1?Hr(i?a:0,[t,e,r]):0,p=z(hc([0,0],qi([0,0],f,l+d),Xf(t.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function SB(t,e,r,n){var i=n.labelFormatter,a=Cr(i)?function(){return Lo(Hr(i,[t,e,r,qf(t.value,n)]))}:function(){return Lo(t.label||"")};return a}function eS(t){yB(this.node().childNodes,t,{hide:function(e){e.style.visibility="hidden"},show:function(e){e.style.visibility="visible"},rotate:function(e,r){tS(+r,e,t)},ellipsis:function(e,r,n){r===void 0&&(r=1/0),e&&N0(e,r,n)},getTextShape:function(e){return e.querySelector("text")}})}function EB(t,e,r,n,i,a){var o=this,s=$t(this).append(t.element).attr("className",Ue.labelItem.name).node(),c=z(ea(HO(i,[t,e,r])),2),l=c[0],u=c[1],f=u.transform,h=Vt(u,["transform"]);(s==null?void 0:s.nodeName)==="text"&&s.attr(q({fontSize:12,fontFamily:"sans-serif",fontWeight:"normal",textAlign:"center",textBaseline:"middle"},l)),this.attr(h);var d=Pi(this,OB(t,e,r,n),a),p=function(){mO(o,f);var v=_B(t,o,n);tS(v,o,n)};return W0(d,p),d}function nS(t,e,r,n,i,a){var o=Yr(e,"_elements");if(o.length===0)return null;var s=Yr(e,"_transitions"),c=o.map(function(l){return EB.call(l,l.__data__,0,r,n,i,a)});return c.forEach(function(l,u){return s[u]=l}),c.filter(function(l){return!!l}).length===0?eS.call(t,n):Promise.all(c).then(function(){eS.call(t,n)}),c}function MB(t,e,r,n,i){var a=V0(e,r.labelFilter).map(function(o,s,c){return q({element:SB(o,s,c,r)},o)});return t.selectAll(Ue.label.class).data(a,function(o,s){return"".concat(o.value,"-").concat(o.label)}).join(function(o){return o.append("g").attr("className",Ue.label.name).call(function(s){nS(t,s,a,r,n,!1)})},function(o){return o.each(function(){$t(this).node().removeChildren()}).call(function(s){nS(t,s,a,r,n,i.update)})},function(o){return o.transition(function(){var s=this,c=Hf(this,i.exit);return W0(c,function(){$t(s).remove()}),c})}).transitions()}function rS(t,e){return X0(t,e.tickDirection,e)}var PB=Ga(function(t,e){var r=z(t,2),n=r[0],i=r[1];return[[0,0],[n*e,i*e]]},function(t,e){return kt(kt([],z(t),!1),[e],!1).join()});function AB(t,e,r,n,i){var a=i.tickLength,o=z(PB(n,Hr(a,[t,e,r])),2),s=z(o[0],2),c=s[0],l=s[1],u=z(o[1],2),f=u[0],h=u[1];return{x1:c,x2:f,y1:l,y2:h}}function kB(t,e,r,n,i){var a=i.tickFormatter,o=rS(e.value,i),s="line";return a instanceof bn?s=function(){return a}:Cr(a)&&(s=function(){return Hr(a,[e,r,n,o])}),t.append(s).attr("className",Ue.tickItem.name)}function TB(t,e,r,n,i,a,o){var s=rS(t.value,a),c=AB(t,e,r,s,a),l=c.x1,u=c.x2,f=c.y1,h=c.y2,d=z(ea(HO(o,[t,e,r])),2),p=d[0],v=d[1];n.node().nodeName==="line"&&n.styles(q({x1:l,x2:u,y1:f,y2:h},p)),i.attr(v),n.styles(p)}function iS(t,e,r,n,i,a){var o=kB($t(this),t,e,r,n);TB(t,e,r,o,this,n,i);var s=z(Xf(t.value,n),2),c=s[0],l=s[1];return Pi(this,{x:c,y:l},a)}function LB(t,e,r,n,i){var a=V0(e,r.tickFilter);return t.selectAll(Ue.tick.class).data(a,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",Ue.tick.name).transition(function(s,c){return iS.call(this,s,c,a,r,n,!1)})},function(o){return o.transition(function(s,c){return this.removeChildren(),iS.call(this,s,c,a,r,n,i.update)})},function(o){return o.transition(function(){var s=this,c=Hf(this,i.exit);return W0(c,function(){return s.remove()}),c})}).transitions()}var CB={text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"},aS=ai({text:"text"},"title");function Uf(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(e){return e[0]}):t.length>2?[t[0]]:t.split("")}function NB(t,e){var r=t.attributes,n=r.position,i=r.spacing,a=r.inset,o=t.getBBox(),s=e.getBBox(),c=Uf(n),l=z(Xn(t.attributes.text?i:0),4),u=l[0],f=l[1],h=l[2],d=l[3],p=z(Xn(a),4),v=p[0],g=p[1],m=p[2],b=p[3],_=z([d+f,u+h],2),O=_[0],E=_[1],P=z([b+g,v+m],2),A=P[0],T=P[1];if(c[0]==="l")return new _n(o.x,o.y,s.width+o.width+O+A,Math.max(s.height+T,o.height));if(c[0]==="t")return new _n(o.x,o.y,Math.max(s.width+A,o.width),s.height+o.height+E+T);var C=z([e.attributes.width||s.width,e.attributes.height||s.height],2),L=C[0],N=C[1];return new _n(s.x,s.y,L+o.width+O+A,N+o.height+E+T)}function RB(t,e){var r=Object.entries(e).reduce(function(n,i){var a=z(i,2),o=a[0],s=a[1],c=t.node().attr(o);return c||(n[o]=s),n},{});t.styles(r)}function IB(t){var e,r,n,i,a=t,o=a.width,s=a.height,c=a.position,l=z([+o/2,+s/2],2),u=l[0],f=l[1],h=z([+u,+f,"center","middle"],4),d=h[0],p=h[1],v=h[2],g=h[3],m=Uf(c);return m.includes("l")&&(e=z([0,"start"],2),d=e[0],v=e[1]),m.includes("r")&&(r=z([+o,"end"],2),d=r[0],v=r[1]),m.includes("t")&&(n=z([0,"top"],2),p=n[0],g=n[1]),m.includes("b")&&(i=z([+s,"bottom"],2),p=i[0],g=i[1]),{x:d,y:p,textAlign:v,textBaseline:g}}var oS=function(t){gt(e,t);function e(r){return r===void 0&&(r={}),t.call(this,an({},{style:CB},r))||this}return e.prototype.getAvailableSpace=function(){var r=this,n=this.attributes,i=n.width,a=n.height,o=n.position,s=n.spacing,c=n.inset,l=r.querySelector(aS.text.class);if(!l)return new _n(0,0,+i,+a);var u=l.getBBox(),f=u.width,h=u.height,d=z(Xn(s),4),p=d[0],v=d[1],g=d[2],m=d[3],b=z([0,0,+i,+a],4),_=b[0],O=b[1],E=b[2],P=b[3],A=Uf(o);if(A.includes("i"))return new _n(_,O,E,P);A.forEach(function(S,k){var I,j,F,X;S==="t"&&(I=z(k===0?[h+g,+a-h-g]:[0,+a],2),O=I[0],P=I[1]),S==="r"&&(j=z([+i-f-m],1),E=j[0]),S==="b"&&(F=z([+a-h-p],1),P=F[0]),S==="l"&&(X=z(k===0?[f+v,+i-f-v]:[0,+i],2),_=X[0],E=X[1])});var T=z(Xn(c),4),C=T[0],L=T[1],N=T[2],x=T[3],y=z([x+L,C+N],2),w=y[0],M=y[1];return new _n(_+x,O+C,E-w,P-M)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new _n(0,0,0,0)},e.prototype.render=function(r,n){var i=this,a=r,o=a.width,s=a.height,c=a.position,l=a.spacing,u=a.class,f=Vt(a,["width","height","position","spacing","class"]),h=z(ea(f),1),d=h[0],p=IB(r),v=p.x,g=p.y,m=p.textAlign,b=p.textBaseline;xr(!!f.text,n,function(_){i.title=$t(_).maybeAppendByClassName(aS.text,"text").styles(d).call(RB,{x:v,y:g,textAlign:m,textBaseline:b}).node()})},e}(sn);function DB(t,e,r){var n=r.titlePosition,i=n===void 0?"lb":n,a=r.titleSpacing,o=a===void 0?0:a,s=Uf(i),c=t.node().getBBox(),l=c.x,u=c.y,f=z(t.node().getBounds().halfExtents,2),h=f[0],d=f[1],p=z(e.node().getBounds().halfExtents,2),v=p[0],g=p[1],m=z([l+h,u+d],2),b=m[0],_=m[1],O=z([b,_],2),E=O[0],P=O[1];if(["start","end"].includes(i)&&r.type==="linear"){var A=r.startPos,T=r.endPos,C=z(i==="start"?[A,T]:[T,A],2),L=C[0],N=C[1],x=fu([0,0],[-N[0]+L[0],-N[1]+L[1]]),y=z(qi([0,0],x,o),2),w=y[0],M=y[1];return{x:L[0]+w,y:L[1]+M}}return s.includes("l")&&(E-=h+v+o),s.includes("r")&&(E+=h+v+o),s.includes("t")&&(P-=d+g+o),s.includes("b")&&(P+=d+g+o),{x:E,y:P}}function jB(t,e,r){var n=t.select(Ue.mainGroup.class);return DB(n,e,r)}function BB(t,e){var r=e.title,n=t.maybeAppendByClassName(Ue.title,function(){return Lo(r)});return[t,n]}function FB(t,e,r,n,i){var a=z(ea(i),2),o=a[0],s=a[1],c=s.transform,l=c===void 0?"":c,u=Vt(s,["transform"]);t.styles(o),e.styles(u);var f=jB(r,e,n),h=f.x,d=f.y;e.node().setPosition(h,d),mO(t,l)}function zB(t,e,r,n,i){if(!r.title)return null;var a=z(BB(t,r),2),o=a[0],s=a[1],c=function(){return FB(s,o,e,r,n)};if(!i.update)return c(),null;var l=s.node().animate([],i.update);return l?(l.onframe=function(){return c()},l.onfinish=function(){return c()}):c(),l}var Z0=function(t){gt(e,t);function e(r){return t.call(this,an({},Y0,r))||this}return e.prototype.render=function(r,n,i){var a=lO(r),o=a.type,s=a.data,c=a.class,l=a.dataThreshold,u=l===void 0?100:l,f=a.crossSize,h=a.animate,d=a.title,p=a.showTitle,v=a.titleSpacing,g=a.truncRange,m=a.truncShape,b=a.showLine,_=a.lineExtension,O=a.lineArrow,E=a.lineArrowOffset,P=a.lineArrowSize,A=a.showTick,T=a.tickDirection,C=a.tickLength,L=a.tickFilter,N=a.tickFormatter,x=a.showLabel,y=a.labelAlign,w=a.labelDirection,M=a.labelSpacing,S=a.labelFilter,k=a.labelFormatter,I=a.labelTransforms,j=a.showGrid,F=a.gridFilter,X=a.gridLength,K=Vt(a,["type","data","class","dataThreshold","crossSize","animate","title","showTitle","titleSpacing","truncRange","truncShape","showLine","lineExtension","lineArrow","lineArrowOffset","lineArrowSize","showTick","tickDirection","tickLength","tickFilter","tickFormatter","showLabel","labelAlign","labelDirection","labelSpacing","labelFilter","labelFormatter","labelTransforms","showGrid","gridFilter","gridLength"]),Q=function(){if(o==="linear"){var tn=K,Vl=tn.startPos,Jk=tn.endPos,Lm=Vt(tn,["startPos","endPos"]);return Lm}var Zs=K,Qet=Zs.angleRange,Jet=Zs.radius,tnt=Zs.center,uU=Vt(Zs,["angleRange","radius","center"]);return uU}(),dt=z(Os(Q,["title","line","tick","label","grid"]),5),Ct=dt[0],Nt=dt[1],ee=dt[2],Yt=dt[3],Rt=dt[4],Ut=m7(s,u).filter(function(tn){var Vl=tn.value;return!(g&&Vl>g[0]&&Vl<g[1])}),fe=Rj(i===void 0?h:i),ln=$t(n).maybeAppendByClassName(Ue.gridGroup,"g");xr(j,ln,function(tn){return cB(tn,Ut,r,Rt,fe)});var Ln=$t(n).maybeAppendByClassName(Ue.mainGroup,"g"),wr=Ln.maybeAppendByClassName(Ue.lineGroup,"g"),Or=xr(b,wr,function(tn){return iB(tn,r,Nt,fe)})||[],Zr=Ln.maybeAppendByClassName(Ue.tickGroup,"g"),Za=xr(A,Zr,function(tn){return LB(tn,Ut,r,ee,fe)})||[],Bi=Ln.maybeAppendByClassName(Ue.labelGroup,"g"),Qa=xr(x,Bi,function(tn){return MB(tn,Ut,r,Yt,fe)})||[],ca=$t(n).maybeAppendByClassName(Ue.titleGroup,"g"),di=xr(p,ca,function(tn){return zB(tn,$t(n),r,Ct,fe)});return kt(kt(kt(kt([],z(Or),!1),z(Za),!1),z(Qa),!1),[di],!1).filter(function(tn){return!!tn})},e}(sn),wet=function(){function t(){}return t}(),Oet=function(){function t(){}return t}(),Eet=function(){function t(){}return t}(),Q0=function(){},GB=function(t,e,r){var n=t,i=at(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(vi(n[a])||(n[a]=ct(i[o+1])?[]:{}),n=n[a]):n[a]=r}),t};function $B(t,e,r){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||t.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,e),s&&t.apply(i,a)}}var WB=$B,YB={effect:"linear",duration:200,orient:"horizontal",initPage:0,loop:!1,buttonPath:V7(0,0,6),buttonFill:"black",buttonSize:12,buttonCursor:"pointer",formatter:function(t,e){return"".concat(t,"/").concat(e)},pageNumFontSize:12,pageNumFill:"black",pageNumTextAlign:"start",pageNumTextBaseline:"middle",controllerPadding:5,controllerSpacing:5},oi=ai({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),HB=function(t){gt(e,t);function e(r){var n=t.call(this,an({},{style:YB},r))||this;return n.finishedPromise=null,n.resolveFinishedPromise=null,n.playState="idle",n.contentGroup=n.appendChild(new or({class:oi.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new or({class:oi.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return Object.defineProperty(e.prototype,"defaultPage",{get:function(){var r=this.attributes.initPage,n=r===void 0?0:r;return et(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var r=this.pageViews,n=z(w7(r.map(function(f){var h=f.getBBox(),d=h.width,p=h.height;return[d,p]})).map(function(f){return Math.max.apply(Math,kt([],z(f),!1))}),2),i=n[0],a=n[1],o=this.attributes,s=o.pageWidth,c=s===void 0?i:s,l=o.pageHeight,u=l===void 0?a:l;return{pageWidth:c,pageHeight:u}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finished",{get:function(){var r=this,n;return this.finishedPromise||(this.finishedPromise=new Promise(function(i){r.resolveFinishedPromise=function(){r.finishedPromise=null,i(r.currPage)}})),this.playState==="idle"&&((n=this.resolveFinishedPromise)===null||n===void 0||n.call(this)),this.finishedPromise},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=t.prototype.getBBox.call(this),n=r.x,i=r.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,c=o.pageHeight;return new _n(n,i,s+a.width,c)},e.prototype.goTo=function(r){var n=this,i=this.attributes,a=i.duration,o=i.effect,s=this,c=s.currPage,l=s.playState,u=s.finished,f=s.playWindow,h=s.pageViews;if(l!=="idle"||r<0||h.length<=0||r>=h.length)return{finished:this.finished};h[c].setLocalPosition(0,0),this.prepareFollowingPage(r);var d={duration:a,easing:o,fill:"both"},p=z(this.getFollowingPageDiff(r),2),v=p[0],g=p[1];return this.playState="running",Promise.all([f.animate([{transform:"translate(0, 0)"},{transform:"translate(".concat(-v,", ").concat(-g,")")}],d)].map(function(m){return m==null?void 0:m.finished})).then(function(){var m;n.innerCurrPage=r,n.playState="idle",n.setVisiblePages([r]),n.updatePageInfo(),(m=n.resolveFinishedPromise)===null||m===void 0||m.call(n)}),{finished:this.finished}},e.prototype.prev=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i<=0)return{finished:this.finished};var a=r?(i-1+n)%n:et(i-1,0,n);return this.goTo(a)},e.prototype.next=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i>=n-1)return{finished:this.finished};var a=r?(i+1)%n:et(i+1,0,n);return this.goTo(a)},e.prototype.renderClipPath=function(r){var n=this.pageShape,i=n.pageWidth,a=n.pageHeight;this.clipPath=r.maybeAppendByClassName(oi.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(r){this.playWindow.children.forEach(function(n,i){r.includes(i)?n.attr("visibility","visible"):n.attr("visibility","hidden")})},e.prototype.adjustControllerLayout=function(){var r=this,n=r.prevBtnGroup,i=r.nextBtnGroup,a=r.pageInfoGroup,o=this.attributes,s=o.orient,c=o.controllerPadding,l=a.getBBox(),u=l.width,f=l.height,h=z(s==="horizontal"?[-180,0]:[-90,90],2),d=h[0],p=h[1];n.setLocalEulerAngles(d),i.setLocalEulerAngles(p);var v=n.getBBox(),g=v.width,m=v.height,b=i.getBBox(),_=b.width,O=b.height,E=Math.max(g,u,_),P=s==="horizontal"?{offset:[[0,0],[g/2+c,0],[g+u+c*2,0]],textAlign:"start"}:{offset:[[E/2,-m-c],[E/2,0],[E/2,O+c]],textAlign:"center"},A=z(P.offset,3),T=z(A[0],2),C=T[0],L=T[1],N=z(A[1],2),x=N[0],y=N[1],w=z(A[2],2),M=w[0],S=w[1],k=P.textAlign,I=a.querySelector("text");I&&(I.style.textAlign=k),n.setLocalPosition(C,L),a.setLocalPosition(x,y),i.setLocalPosition(M,S)},e.prototype.updatePageInfo=function(){var r,n=this,i=n.currPage,a=n.pageViews,o=n.attributes.formatter;a.length<2||((r=this.pageInfoGroup.querySelector(oi.pageInfo.class))===null||r===void 0||r.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(r){var n=this.currPage;if(n===r)return[0,0];var i=this.attributes.orient,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,c=r<n?-1:1;return i==="horizontal"?[c*o,0]:[0,c*s]},e.prototype.prepareFollowingPage=function(r){var n=this,i=n.currPage,a=n.pageViews;if(this.setVisiblePages([r,i]),r!==i){var o=z(this.getFollowingPageDiff(r),2),s=o[0],c=o[1];a[r].setLocalPosition(s,c)}},e.prototype.renderController=function(r){var n=this,i=this.attributes.controllerSpacing,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,c=this.pageViews.length>=2,l=r.maybeAppendByClassName(oi.controller,"g").style("visibility",c?"visible":"hidden");if(!!c){var u=z(Os(this.attributes,["button","pageNum"]),2),f=u[0],h=u[1],d=z(ea(f),2),p=d[0],v=d[1],g=p.size,m=Vt(p,["size"]),b=l.maybeAppendByClassName(oi.prevBtnGroup,"g").styles(v);this.prevBtnGroup=b.node();var _=b.maybeAppendByClassName(oi.prevBtn,"path"),O=l.maybeAppendByClassName(oi.nextBtnGroup,"g").styles(v);this.nextBtnGroup=O.node();var E=O.maybeAppendByClassName(oi.nextBtn,"path");[_,E].forEach(function(A){A.styles(q(q({},m),{transformOrigin:"center"})),R0(A.node(),g,!0)});var P=l.maybeAppendByClassName(oi.pageInfoGroup,"g");this.pageInfoGroup=P.node(),P.maybeAppendByClassName(oi.pageInfo,"text").styles(q(q({},$a),h)),this.updatePageInfo(),l.node().setLocalPosition(o+i,s/2),b.on("click",function(){n.prev()}),O.on("click",function(){n.next()})}},e.prototype.render=function(r,n){var i=$t(n);this.renderClipPath(i),this.renderController(i),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var r=this,n=WB(function(){return r.render(r.attributes,r)},50);this.playWindow.addEventListener(le.INSERTED,n),this.playWindow.addEventListener(le.REMOVED,n)},e}(sn);function VB(t,e,r){var n=Math.round((t-r)/e);return r+n*e}function XB(t,e,r){var n=1.4,i=n*r;return[["M",t-r,e-i],["L",t+r,e-i],["L",t+r,e+i],["L",t-r,e+i],["Z"]]}var sS=1.4,cS=.4;function qB(t,e,r){var n=r,i=n*sS,a=n/2,o=n/6,s=t+i*cS;return[["M",t,e],["L",s,e+a],["L",t+i,e+a],["L",t+i,e-a],["L",s,e-a],["Z"],["M",s,e+o],["L",t+i-2,e+o],["M",s,e-o],["L",t+i-2,e-o]]}function UB(t,e,r){var n=r,i=n*sS,a=n/2,o=n/6,s=e+i*cS;return[["M",t,e],["L",t-a,s],["L",t-a,e+i],["L",t+a,e+i],["L",t+a,s],["Z"],["M",t-o,s],["L",t-o,e+i-2],["M",t+o,s],["L",t+o,e+i-2]]}Fe.registerSymbol("hiddenHandle",XB),Fe.registerSymbol("verticalHandle",qB),Fe.registerSymbol("horizontalHandle",UB);var Met=function(t,e,r){return t===void 0&&(t="horizontal"),t==="horizontal"?e:r};function KB(t,e,r,n){var i;n===void 0&&(n=4);var a=z(t,2),o=a[0],s=a[1],c=z(e,2),l=c[0],u=c[1],f=z(r,2),h=f[0],d=f[1],p=z([l,u],2),v=p[0],g=p[1],m=g-v;return v>g&&(i=z([g,v],2),v=i[0],g=i[1]),m>s-o?[o,s]:v<o?h===o&&d===g?[o,g]:[o,m+o]:g>s?d===s&&h===v?[v,s]:[s-m,s]:[ws(v,n),ws(g,n)]}function Ai(t,e,r){return t===void 0&&(t="horizontal"),t==="horizontal"?e:r}var ki=ai({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),ZB={span:[1,1],marker:function(){return new wu({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelFontFamily:"sans-serif",valueFontFamily:"sans-serif",labelTextAlign:"start",valueTextAlign:"start",labelTextBaseline:"middle",valueTextBaseline:"middle"},QB=function(t){gt(e,t);function e(r){return t.call(this,an({},{style:ZB},r))||this}return Object.defineProperty(e.prototype,"showValue",{get:function(){var r=this.attributes.value;return r?at(r)||ct(r)?r!=="":r.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var r=this.labelGroup,n=this.valueGroup,i=this.attributes.markerSize,a=i===void 0?0:i,o=r.node().getBBox(),s=o.width,c=o.height,l=n.node().getBBox(),u=l.width,f=l.height;return{markerWidth:a,labelWidth:s,valueWidth:u,height:Math.max(a,c,f)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var r=this.attributes;if(!("span"in r))return[1,1];var n=r.span,i=z(Xn(n),2),a=i[0],o=i[1],s=this.showValue?o:0,c=a+s;return[a/c,s/c]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var r,n=this.attributes,i=n.markerSize,a=n.width,o=this.actualSpace,s=o.markerWidth,c=o.height,l=this.actualSpace,u=l.labelWidth,f=l.valueWidth,h=z(this.spacing,2),d=h[0],p=h[1];if(a){var v=a-i-d-p,g=z(this.span,2),m=g[0],b=g[1];r=z([m*v,b*v],2),u=r[0],f=r[1]}var _=s+u+f+d+p;return{width:_,height:c,markerWidth:s,labelWidth:u,valueWidth:f}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var r=this.attributes.spacing;if(!r)return[0,0];var n=z(Xn(r),2),i=n[0],a=n[1];return this.showValue?[i,a]:[i,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var r=this.shape,n=r.markerWidth,i=r.labelWidth,a=r.valueWidth,o=r.width,s=r.height,c=z(this.spacing,2),l=c[0],u=c[1];return{height:s,width:o,markerWidth:n,labelWidth:i,valueWidth:a,position:[n/2,n+l,n+i+l+u]}},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(r){var n=this,i=this.attributes,a=i.marker,o=i.markerSize,s=Re(this.attributes,"marker");this.markerGroup=r.maybeAppendByClassName(ki.markerGroup,"g"),xr(!!a,this.markerGroup,function(){n.markerGroup.maybeAppendByClassName(ki.marker,a).styles(s),R0(n.markerGroup.node(),o,!0)})},e.prototype.renderLabel=function(r){var n=this.attributes.label,i=Re(this.attributes,"label");this.labelGroup=r.maybeAppendByClassName(ki.labelGroup,"g"),this.labelGroup.maybeAppendByClassName(ki.label,function(){return Lo(n)}).styles(i)},e.prototype.renderValue=function(r){var n=this,i=this.attributes.value,a=Re(this.attributes,"value");this.valueGroup=r.maybeAppendByClassName(ki.valueGroup,"g"),xr(this.showValue,this.valueGroup,function(){n.valueGroup.maybeAppendByClassName(ki.value,function(){return Lo(i)}).styles(a)})},e.prototype.renderBackground=function(r){var n=this.shape,i=n.width,a=n.height,o=Re(this.attributes,"background");this.background=r.maybeAppendByClassName(ki.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(ki.background,"rect").styles(q({width:i,height:a},o))},e.prototype.adjustLayout=function(){var r=this.layout,n=r.markerWidth,i=r.labelWidth,a=r.valueWidth,o=r.width,s=r.height,c=z(r.position,3),l=c[0],u=c[1],f=c[2],h=s/2;this.markerGroup.styles({x:l,y:h}),this.labelGroup.styles({x:u,y:h}),N0(this.labelGroup.select(ki.label.class),i),this.showValue&&(this.valueGroup.styles({x:f,y:h}),N0(this.valueGroup.select(ki.value.class),a))},e.prototype.render=function(r,n){var i=$t(n);this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.adjustLayout()},e}(sn),As=ai({page:"item-page",navigator:"navigator",item:"item"},"items"),JB={data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orient:"horizontal",click:Q0,mouseenter:Q0,mouseleave:Q0},lS=function(t,e,r){return r===void 0&&(r=!0),t?e(t):r},tF=function(t){gt(e,t);function e(r){var n=t.call(this,an({},{style:JB},r))||this;return n.navigatorShape=[0,0],n}return Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var r=this.attributes,n=r.gridRow,i=r.gridCol,a=r.data;if(!n&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return!!n&&!!i?[n,i]:n?[n,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var r=this.attributes,n=r.data,i=r.layout,a=Re(this.attributes,"item"),o=n.map(function(s,c){var l=s.id,u=l===void 0?c:l,f=s.label,h=s.value;return{id:"".concat(u),index:c,style:q({layout:i,label:f,value:h},Object.fromEntries(Object.entries(a).map(function(d){var p=z(d,2),v=p[0],g=p[1];return[v,Hr(g,[s,c,n])]})))}});return o},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var r=this,n=this.attributes,i=n.orient,a=n.width,o=n.rowPadding,s=n.colPadding,c=z(this.navigatorShape,1),l=c[0],u=z(this.grid,2),f=u[0],h=u[1],d=h*f,p=0;return this.pageViews.children.map(function(v,g){var m,b,_=Math.floor(g/d),O=g%d,E=r.ifHorizontal(h,f),P=[Math.floor(O/E),O%E];i==="vertical"&&P.reverse();var A=z(P,2),T=A[0],C=A[1],L=(a-l-(h-1)*s)/h,N=v.getBBox().height,x=z([0,0],2),y=x[0],w=x[1];return i==="horizontal"?(m=z([p,T*(N+o)],2),y=m[0],w=m[1],p=C===h-1?0:p+L+s):(b=z([C*(L+s),p],2),y=b[0],w=b[1],p=T===f-1?0:p+N+o),{page:_,index:g,row:T,col:C,pageIndex:O,width:L,height:N,x:y,y:w}})},e.prototype.getFlexLayout=function(){var r=this.attributes,n=r.width,i=r.height,a=r.rowPadding,o=r.colPadding,s=z(this.navigatorShape,1),c=s[0],l=z(this.grid,2),u=l[0],f=l[1],h=z([n-c,i],2),d=h[0],p=h[1],v=z([0,0,0,0,0,0,0,0],8),g=v[0],m=v[1],b=v[2],_=v[3],O=v[4],E=v[5],P=v[6],A=v[7];return this.pageViews.children.map(function(T,C){var L,N,x,y,w=T.getBBox(),M=w.width,S=w.height,k=P===0?0:o,I=P+k+M;if(I<=d&&lS(O,function(F){return F<f}))return L=z([P+k,A,I],3),g=L[0],m=L[1],P=L[2],{width:M,height:S,x:g,y:m,page:b,index:C,pageIndex:_++,row:E,col:O++};N=z([E+1,0,0,A+S+a],4),E=N[0],O=N[1],P=N[2],A=N[3];var j=A+a+S;return j<=p&&lS(E,function(F){return F<u})?(x=z([P,A,M],3),g=x[0],m=x[1],P=x[2],{width:M,height:S,x:g,y:m,page:b,index:C,pageIndex:_++,row:E,col:O++}):(y=z([0,0,M,0,b+1,0,0,0],8),g=y[0],m=y[1],P=y[2],A=y[3],b=y[4],_=y[5],E=y[6],O=y[7],{width:M,height:S,x:g,y:m,page:b,index:C,pageIndex:_++,row:E,col:O++})})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var r=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,n=r.call(this);return n.slice(-1)[0].page>0?(this.navigatorShape=[55,0],r.call(this)):n},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(r,n){var i=this.attributes.orient;return Ai(i,r,n)},e.prototype.flattenPage=function(r){r.querySelectorAll(As.item.class).forEach(function(n){r.appendChild(n)}),r.querySelectorAll(As.page.class).forEach(function(n){var i=r.removeChild(n);i.destroy()})},e.prototype.renderItems=function(r){var n=this.attributes,i=n.click,a=n.mouseenter,o=n.mouseleave;this.flattenPage(r);var s=this.dispatchCustomEvent.bind(this);$t(r).selectAll(As.item.class).data(this.renderData,function(c){return c.id}).join(function(c){return c.append(function(l){var u=l.style;return new QB({style:u})}).attr("className",As.item.name).on("click",function(){i==null||i(this),s("itemClick",{item:this})}).on("mouseenter",function(){a==null||a(this),s("itemMouseenter",{item:this})}).on("mouseleave",function(){o==null||o(this),s("itemMouseleave",{item:this})})},function(c){return c.each(function(l){var u=l.style;this.update(u)})},function(c){return c.remove()})},e.prototype.relayoutNavigator=function(){var r,n=this.attributes,i=n.layout,a=n.width,o=((r=this.pageViews.children[0])===null||r===void 0?void 0:r.getBBox().height)||0,s=z(this.navigatorShape,2),c=s[0],l=s[1];this.navigator.update(q({},i==="grid"?{pageWidth:a-c,pageHeight:o-l}:{}))},e.prototype.adjustLayout=function(){var r=this,n=Object.entries(y7(this.itemsLayout,"page")).map(function(a){var o=z(a,2),s=o[0],c=o[1];return{page:s,layouts:c}}),i=kt([],z(this.navigator.getContainer().children),!1);n.forEach(function(a){var o=a.layouts,s=r.pageViews.appendChild(new or({className:As.page.name}));o.forEach(function(c){var l=c.x,u=c.y,f=c.index,h=c.width,d=c.height,p=i[f];s.appendChild(p),GB(p,"__layout__",c),p.update({x:l,y:u,width:h,height:d})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(r){var n=this.attributes.orient,i=Re(this.attributes,"nav"),a=q(q({},i),{orient:n});return this.navigator=r.maybeAppendByClassName(As.navigator,function(){return new HB({})}).update(a).node(),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(r,n){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator($t(n));this.renderItems(a.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(r,n){var i=new en(r,{detail:n});this.dispatchEvent(i)},e}(sn),fl=ai({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),uS=q(q({},ta($a,"label")),{markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orient:"vertical",spacing:0,showLabel:!0,formatter:function(t){return t.toString()}}),eF=function(t){gt(e,t);function e(r){return t.call(this,an({},{style:uS},r))||this}return e.prototype.render=function(r,n){var i=$t(n).maybeAppendByClassName(fl.markerGroup,"g");this.renderMarker(i);var a=$t(n).maybeAppendByClassName(fl.labelGroup,"g");this.renderLabel(a)},e.prototype.attributeChangedCallback=function(){this.render(this.attributes,this)},e.prototype.renderMarker=function(r){var n=this,i=this.attributes,a=i.orient,o=i.markerSymbol,s=o===void 0?Ai(a,"horizontalHandle","verticalHandle"):o;xr(!!s,r,function(c){var l=Re(n.attributes,"marker"),u=q({symbol:s},l);n.marker=c.maybeAppendByClassName(fl.marker,function(){return new Fe({})}).update(u)})},e.prototype.renderLabel=function(r){var n=this,i=this.attributes,a=i.orient,o=i.spacing,s=o===void 0?0:o,c=i.showLabel,l=i.formatter;xr(c,r,function(u){var f,h=Re(n.attributes,"label"),d=h.text,p=Vt(h,["text"]),v=((f=u.select(fl.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=v.width,m=g===void 0?0:g,b=v.height,_=b===void 0?0:b,O=z(Ai(a,[0,_+s,"center","top"],[m+s,0,"start","middle"]),4),E=O[0],P=O[1],A=O[2],T=O[3];u.maybeAppendByClassName(fl.label,"text").styles(q(q({},p),{x:E,y:P,text:l(d).toString(),textAlign:A,textBaseline:T}))})},e}(sn),fS={style:{padding:0,orient:"horizontal",backgroundFill:"transparent",titleText:"",showTitle:!0,titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12}},nF=Ve({},fS,{style:{type:"category",items:[],maxCols:void 0,maxRows:void 0,spacing:[8,2],itemBackground:{padding:0,style:{fill:"transparent",active:{cursor:"pointer"}}},reverse:!1}}),rF=Ve({},fS,ta(uS,"handle"),{style:{type:"continuous",color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],slidable:!0,showHandle:!0,showLabel:!0,showIndicator:!0,labelSpacing:5,labelAlign:"value",labelDirection:"positive",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorBackgroundFill:"#262626"}}),iF=.01,Pet=.5,ur=ai({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),aF=function(t){gt(e,t);function e(r){return t.call(this,an({},nF,r))||this}return e.prototype.renderTitle=function(r,n,i){var a=this.attributes,o=a.showTitle,s=a.titleText,c=Re(this.attributes,"title"),l=z(ea(c),2),u=l[0],f=l[1];this.titleGroup=r.maybeAppendByClassName(ur.titleGroup,"g").styles(f);var h=q(q({width:n,height:i},u),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(ur.title,function(){return new oS({style:h})}).update(h)},e.prototype.renderItems=function(r,n){var i=n.x,a=n.y,o=n.width,s=n.height,c=z(Os(this.attributes,["title"]),2),l=c[1],u=z(ea(l),2),f=u[0],h=u[1],d=q(q({},f),{width:o,height:s});this.itemsGroup=r.maybeAppendByClassName(ur.itemsGroup,"g").styles(q({x:i,y:a},h)),this.items=this.itemsGroup.maybeAppendByClassName(ur.items,function(){return new tF({style:{data:[]}})}),this.items.node().update(d)},e.prototype.adjustLayout=function(){var r=this.attributes.showTitle;if(r){var n=this.title.node().getAvailableSpace(),i=n.x,a=n.y;this.itemsGroup.node().setLocalPosition(i,a)}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes,n=r.showTitle,i=r.width,a=r.height;return n?this.title.node().getAvailableSpace():new _n(0,0,i,a)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){return NB(this.title.node(),this.items.node())},e.prototype.render=function(r,n){var i=r.width,a=r.height,o=$t(n);this.renderTitle(o,i,a),this.renderItems(o,this.availableSpace),this.adjustLayout()},e}(sn),oF={formatter:function(t){return t},padding:[2,4],position:"right",labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",backgroundZIndex:-1,backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333"},J0=ai({background:"background",labelGroup:"label-group",label:"label"},"indicator"),sF=function(t){gt(e,t);function e(r){var n=t.call(this,an({},{style:q({visibility:"hidden"},oF)},r))||this;return n.point=[0,0],n.group=n.appendChild(new or({})),n.isMutationObserved=!0,n}return e.prototype.renderBackground=function(){if(!!this.label){var r=this.style,n=r.position,i=r.padding,a=z(Xn(i),4),o=a[0],s=a[1],c=a[2],l=a[3],u=this.label.node().getLocalBounds(),f=u.min,h=u.max,d=[[f[0]-l,f[1]-o],[h[0]+s,h[1]+c]],p=this.getPath(n,d),v=Re(this.attributes,"background");this.background=$t(this.group).maybeAppendByClassName(J0.background,"path").styles(q(q({},v),{path:p})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var r=this.attributes,n=r.value,i=r.formatter,a=Re(this.attributes,"label"),o=z(ea(a),2),s=o[0],c=o[1];if(this.label=$t(this.group).maybeAppendByClassName(J0.labelGroup,"g").styles(c),!!n){var l=this.label.maybeAppendByClassName(J0.label,function(){return Lo(i(n))}).style("text",i(n).toString());l.selectAll("text").styles(q(q({},$a),s))}},e.prototype.adjustLayout=function(){var r=z(this.point,2),n=r[0],i=r[1];this.group.attr("x",-n).attr("y",-i)},e.prototype.getPath=function(r,n){var i=this,a=z(n,2),o=z(a[0],2),s=o[0],c=o[1],l=z(a[1],2),u=l[0],f=l[1],h={top:[[s,c],[u,c]],right:[[u,c],[u,f]],bottom:[[u,f],[s,f]],left:[[s,f],[s,c]]},d={top:"bottom",right:"left",bottom:"top",left:"right"},p=Object.entries(h).map(function(v){var g=z(v,2),m=g[0],b=g[1];return m===d[r]?i.createCorner(b):[kt(["M"],z(b[0]),!1),kt(["L"],z(b[1]),!1)]});return p.push([["Z"]]),p.flat().filter(function(v,g,m){return g===0?!0:v[0]!=="M"})},e.prototype.createCorner=function(r,n){n===void 0&&(n=10);var i=.8,a=f7.apply(void 0,kt([],z(r),!1)),o=z(r,2),s=z(o[0],2),c=s[0],l=s[1],u=z(o[1],2),f=u[0],h=u[1],d=z(a?[f-c,[c,f]]:[h-l,[l,h]],2),p=d[0],v=z(d[1],2),g=v[0],m=v[1],b=p/2,_=p/Math.abs(p),O=n*_,E=O/2,P=O*Math.sqrt(3)/2*i,A=z([g,g+b-E,g+b,g+b+E,m],5),T=A[0],C=A[1],L=A[2],N=A[3],x=A[4];return a?(this.point=[L,l-P],[["M",T,l],["L",C,l],["L",L,l-P],["L",N,l],["L",x,l]]):(this.point=[c+P,L],[["M",c,T],["L",c,C],["L",c+P,L],["L",c,N],["L",c,x]])},e.prototype.bindEvents=function(){this.label.on(le.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout()},e}(sn);function cF(t,e){for(var r=1;r<t.length;r+=1){var n=t[r-1],i=t[r];if(e>=n&&e<=i)return[n,i]}return[e,e]}function lF(t,e,r){var n=Array.from(e),i=t.length;return new Array(i).fill(0).reduce(function(a,o,s){var c=n[s%n.length];return a+=" ".concat(t[s],":").concat(c).concat(s<i-1?" ".concat(t[s+1],":").concat(c):"")},"l(".concat(r==="horizontal"?"0":"270",")"))}function hS(t,e){var r=z(cF(t,e),2),n=r[0],i=r[1];return{tick:e>(n+i)/2?i:n,range:[n,i]}}var hl=ai({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon"),uF={type:"color",orient:"horizontal",size:30,range:[0,1],len:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"};function dS(t){var e=t.orient,r=t.size,n=t.len;return Ai(e,[n,r],[r,n])}function pS(t){var e=t.type,r=z(dS(t),2),n=r[0],i=r[1];return e==="size"?[["M",0,i],["L",0+n,0],["L",0+n,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+n,0],["L",0+n,i],["Z"]]}function fF(t){return pS(t)}function hF(t){var e=t,r=e.orient,n=e.color,i=e.block,a=e.partition,o;if(Cr(n)){var s=20;o=new Array(s).fill(0).map(function(u,f,h){return n(f/(h.length-1))})}else o=n;var c=o.length,l=o.map(function(u){return Oa(u).toString()});return c?c===1?l[0]:i?lF(a,l,r):l.reduce(function(u,f,h){return u+=" ".concat(h/(c-1),":").concat(f)},"l(".concat(Ai(r,"0","270"),")")):""}function dF(t){var e=t.orient,r=t.range;if(!r)return[];var n=z(dS(t),2),i=n[0],a=n[1],o=z(r,2),s=o[0],c=o[1],l=Ai(e,s*i,0),u=Ai(e,0,s*a),f=Ai(e,c*i,i),h=Ai(e,a,c*a);return[["M",l,u],["L",l,h],["L",f,h],["L",f,u],["Z"]]}function pF(t,e,r){t.maybeAppendByClassName(hl.track,"path").styles(q({path:pS(e)},r))}function vF(t,e,r){var n=hF(e),i=t.maybeAppendByClassName(hl.selection,"path").styles(q({path:fF(e),fill:n},r)),a=i.maybeAppendByClassName(hl.clipPath,"path").styles({path:dF(e)}).node();i.style("clip-path",a)}var gF=yO({render:function(t,e){var r=z(Os(t,["selection","track"]),2),n=r[0],i=r[1],a=$t(e).maybeAppendByClassName(hl.trackGroup,"g");pF(a,t,i);var o=$t(e).maybeAppendByClassName(hl.selectionGroup,"g");vF(o,t,n)}},q({},uF)),mF=Ga(function(t){return{min:Math.min.apply(Math,kt([],z(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,kt([],z(t.map(function(e){return e.value})),!1))}},function(t){return t.map(function(e){return e.id})}),yF=function(t){gt(e,t);function e(r){var n=t.call(this,an({},rF,r))||this;return n.eventToOffsetScale=new Jn({}),n.innerRibbonScale=new Jn({}),n.cacheLabelBBox=null,n.cacheHandleBBox=null,n.onHovering=function(i){var a=n.attributes,o=a.data,s=a.block;i.stopPropagation();var c=n.getValueByCanvasPoint(i);if(s){var l=hS(o.map(function(f){var h=f.value;return h}),c).range;n.showIndicator((l[0]+l[1])/2,"".concat(l[0],"-").concat(l[1])),n.dispatchIndicated(c,l)}else{var u=n.getTickValue(c);n.showIndicator(u),n.dispatchIndicated(u)}},n.onDragStart=function(i){return function(a){a.stopPropagation(),n.attributes.slidable&&(n.target=i,n.prevValue=n.getTickValue(n.getValueByCanvasPoint(a)),document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseleave",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd))}},n.onDragging=function(i){var a=n.target;n.updateMouse();var o=z(n.selection,2),s=o[0],c=o[1],l=n.getTickValue(n.getValueByCanvasPoint(i)),u=l-n.prevValue;a==="start"?s!==l&&n.updateSelection(l,c):a==="end"?c!==l&&n.updateSelection(s,l):a==="ribbon"&&u!==0&&(n.prevValue=l,n.updateSelection(u,u,!0))},n.onDragEnd=function(){n.style.cursor="default",document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("touchmove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n}return Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.7,.9)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=this.attributes,n=r.width,i=r.height;return new _n(0,0,n,i)},e.prototype.render=function(r,n){var i=this;this.renderTitle($t(n));var a=this.title.node().getAvailableSpace(),o=a.x,s=a.y,c=r.showLabel,l=$t(n).maybeAppendByClassName(ur.contentGroup,"g").styles({x:o,y:s}),u=l.maybeAppendByClassName(ur.labelGroup,"g").styles({zIndex:1});xr(!!c,u,function(h){i.renderLabel(h)});var f=l.maybeAppendByClassName(ur.ribbonGroup,"g");this.handlesGroup=l.maybeAppendByClassName(ur.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(f),this.renderIndicator(l),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var r=this.attributes.data;return mF(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var r=this.range,n=r.min,i=r.max;return this.innerRibbonScale.update({domain:[n,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var r=z(this.selection,2),n=r[0],i=r[1],a=this.ribbonScale;return[a.map(n),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var r=this.range,n=r.min,i=r.max,a=this.attributes.defaultValue,o=a===void 0?[n,i]:a,s=z(o,2),c=s[0],l=s[1];return[c,l]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(r,n){return Ai(this.style.orient,typeof r=="function"?r():r,typeof n=="function"?n():n)},e.prototype.renderTitle=function(r){var n=this.attributes,i=n.showTitle,a=n.titleText,o=a===void 0?"":a,s=n.width,c=n.height,l=Re(this.attributes,"title"),u=q(q({width:s,height:c},l),{text:i?o:""});this.title=r.maybeAppendByClassName(ur.title,function(){return new oS({style:u})}).update(u)},Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var r=this.attributes.labelShowTick;return r?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var r=this.attributes,n=r.orient,i=r.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[n][i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var r,n=this.attributes.showLabel;if(!n)return new _n(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((r=this.label.querySelector(Ue.labelGroup.class))===null||r===void 0?void 0:r.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new _n(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var r=this.attributes,n=r.showLabel,i=r.labelSpacing,a=i===void 0?0:i;if(!n)return{width:0,height:0,size:0,len:0};var o=this.labelBBox,s=o.width,c=o.height,l=this.ifHorizontal(c,s)+a+this.labelFixedSpacing,u=this.ifHorizontal(s,c);return{width:s,height:c,size:l,len:u}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var r=this.attributes.showHandle,n=this.title.node().getAvailableSpace(),i=n.width,a=n.height,o=this.labelShape,s=o.size,c=o.len,l=z(this.ifHorizontal([a,i],[i,a]),2),u=l[0],f=l[1],h=r?this.handleShape:{size:0,len:0},d=h.size,p=h.len,v=this.handleOffsetRatio,g=0,m=this.labelPosition;["bottom","right"].includes(m)?g=Math.min(u-s,(u-d)/v):u*(1-v)>d?g=Math.max(u-s,0):g=Math.max((u-s-d)/v,0);var b=Math.max(p,c),_=f-b,O=z(this.ifHorizontal([_,g],[g,_]),2),E=O[0],P=O[1],A=["top","left"].includes(m)?s:0,T=z(this.ifHorizontal([b/2,A],[A,b/2]),2),C=T[0],L=T[1];return new _n(C,L,E,P)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var r=this.ribbonBBox,n=r.width,i=r.height;return this.ifHorizontal({size:i,len:n},{size:n,len:i})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(r){var n=this.attributes,i=n.type,a=n.orient,o=n.color,s=n.block,c=n.data,l=Re(this.attributes,"ribbon"),u=this.range,f=u.min,h=u.max,d=this.ribbonBBox,p=d.x,v=d.y,g=this.ribbonShape,m=g.len,b=g.size;this.ribbon=r.maybeAppendByClassName(ur.ribbon,function(){return new gF({})}).update(q({x:p,y:v,len:m,size:b,type:i,orient:a,color:o,block:s,partition:c.map(function(_){return(_.value-f)/(h-f)}),range:this.ribbonRange},l))},e.prototype.getHandleClassName=function(r){return"".concat(ur.prefix("".concat(r,"-handle")))},e.prototype.renderHandles=function(){var r=this,n=this.attributes,i=n.showHandle,a=n.orient,o=Re(this.attributes,"handle"),s=o.formatter,c=Vt(o,["formatter"]),l=z(this.selection,2),u=l[0],f=l[1],h=q({orient:a},c),d=this;this.handlesGroup.selectAll(ur.handle.class).data(i?[{value:u,type:"start"},{value:f,type:"end"}]:[],function(p){return p.type}).join(function(p){return p.append(function(){return new eF({})}).attr("className",function(v){return"".concat(ur.handle," ").concat(r.getHandleClassName(v.type))}).styles(h).style("labelText",function(v){return v.value}).each(function(v){var g=$t(this);v.type==="start"?d.startHandle=g:d.endHandle=g})},function(p){return p.styles(h).style("labelText",function(v){return v.value})},function(p){return p.remove()})},e.prototype.adjustHandles=function(){var r=z(this.selection,2),n=r[0],i=r[1];this.setHandlePosition("start",n),this.setHandlePosition("end",i)},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new _n(0,0,0,0);var r=this.startHandle.node().getBBox(),n=r.width,i=r.height,a=this.endHandle.node().getBBox(),o=a.width,s=a.height,c=z([Math.max(n,o),Math.max(i,s)],2),l=c[0],u=c[1];return this.cacheHandleBBox=new _n(0,0,l,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var r=this.handleBBox,n=r.width,i=r.height,a=z(this.ifHorizontal([i,n],[n,i]),2),o=a[0],s=a[1];return{width:n,height:i,size:o,len:s}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(r,n){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,c=this.ribbonShape.size,l=this.getOffset(n),u=z(this.ifHorizontal([o+l,s+c*this.handleOffsetRatio],[o+c*this.handleOffsetRatio,s+l]),2),f=u[0],h=u[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(r))).node();d==null||d.attr("formatter",i),d==null||d.setLocalPosition(f,h)},e.prototype.renderIndicator=function(r){var n=Re(this.attributes,"indicator");this.indicator=r.maybeAppendByClassName(ur.indicator,function(){return new sF({style:n})}).update(n)},Object.defineProperty(e.prototype,"labelData",{get:function(){var r=this,n=this.attributes.data;return n.reduce(function(i,a,o,s){var c,l,u=(c=a==null?void 0:a.id)!==null&&c!==void 0?c:o.toString();if(i.push(q(q({},a),{id:u,index:o,type:"value",label:(l=a==null?void 0:a.label)!==null&&l!==void 0?l:a.value.toString(),value:r.ribbonScale.map(a.value)})),o<s.length-1){var f=s[o+1],h=z([a.value,f.value],2),d=h[0],p=h[1],v=(d+p)/2;i.push(q(q({},a),{id:u,index:o,type:"range",range:[d,p],label:[d,p].join("~"),value:r.ribbonScale.map(v)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var r=z(["center","middle"],2),n=r[0],i=r[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?n="end":a==="right"&&(n="start"),{labelTextAlign:n,labelTextBaseline:i}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(r){var n=Re(this.attributes,"label"),i=n.formatter,a=n.filtrate,o=n.filter,s=n.align,c=n.labelDirection,l=n.tickLength,u=n.showTick,f=u===void 0?!1:u,h=Vt(n,["formatter","filtrate","filter","align","labelDirection","tickLength","showTick"]),d=z(Os(h,["tick"]),2),p=d[0],v=d[1],g=q(q(q({type:"linear",startPos:[0,0],endPos:[0,0],data:this.labelData,showLine:!1,showGrid:!1,showTick:f,tickDirection:c,labelTransform:"rotate(0)"},this.labelStyle),Object.fromEntries(Object.entries(p).map(function(_){var O=z(_,2),E=O[0],P=O[1];return["tick".concat(bO(E)),P]}))),Object.fromEntries(Object.entries(v).map(function(_){var O=z(_,2),E=O[0],P=O[1];return["label".concat(bO(E)),P]}))),m={tickFilter:function(_,O,E){return(_==null?void 0:_.type)!=="value"?!1:a?a(_,_.index,E.filter(function(P){return P.type!=="value"})):!0},labelFilter:function(_,O,E){return(_==null?void 0:_.type)!==s?!1:a?a(_,_.index,E.filter(function(P){return P.type===s})):!0},labelFormatter:i},b=q(q({},g),m);this.label=r.maybeAppendByClassName(ur.label,function(){return new Z0({style:b})}).node(),this.label.update(b,!1)},Object.defineProperty(e.prototype,"labelAxisCfg",{get:function(){var r=this.attributes,n=r.labelDirection,i=r.labelShowTick,a=r.labelSpacing,o=this.ribbonShape.size,s=this.labelPosition,c=this.labelFixedSpacing,l=z([0,0,0],3),u=l[0],f=l[1],h=l[2],d=o+a;return i?(h=d,f=c,n==="positive"?s==="right"?(u=d,h=d):s==="bottom"&&(u=h):n==="negative"&&(s==="top"||s==="left")&&(u=o)):n==="positive"?s==="right"?f=d:s==="bottom"&&(u=o+c,f=a):n==="negative"&&(s==="left"||s==="top")&&(f=a),{offset:u,spacing:f,tickLength:h}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var r=this.attributes.showLabel;if(!!r){var n=this.ribbonBBox,i=n.x,a=n.y,o=n.width,s=n.height,c=this.labelAxisCfg,l=c.offset,u=c.spacing,f=c.tickLength,h=z(this.ifHorizontal([[i,a+l],[i+o,a+l]],[[i+l,a+s],[i+l,a]]),2),d=h[0],p=h[1];this.label.update({startPos:d,endPos:p,tickLength:f,labelSpacing:u},!1)}},e.prototype.bindEvents=function(){var r=this,n,i,a=new Map;a.set("ribbon",this.ribbon),a.set("start",this.startHandle),a.set("end",this.endHandle),a.forEach(function(o,s){o==null||o.on("mousedown",r.onDragStart(s)),o==null||o.on("touchstart",r.onDragStart(s))}),(n=this.startHandle)===null||n===void 0||n.on("mouseover",function(){return r.updateMouse()}),(i=this.endHandle)===null||i===void 0||i.on("mouseover",function(){return r.updateMouse()}),this.ribbon.on("mousemove",this.onHovering),this.addEventListener("mouseout",this.hideIndicator)},e.prototype.showIndicator=function(r,n){var i;n===void 0&&(n="".concat(r));var a=this.attributes.showIndicator;if(!a||typeof r!="number"){this.hideIndicator();return}var o=this.range,s=o.min,c=o.max,l=this.ribbonBBox,u=l.x,f=l.y,h=et(r,s,c),d=this.getOffset(h),p=this.ifHorizontal([d+u,f],[u,d+f]);this.indicator.update({visibility:"visible",position:this.ifHorizontal("top","left"),value:n}),(i=this.indicator.node()).setLocalPosition.apply(i,kt([],z(p),!1))},e.prototype.hideIndicator=function(){var r;(r=this.indicator)===null||r===void 0||r.style("visibility","hidden")},e.prototype.updateMouse=function(){this.style.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(r,n){this.updateSelection(r,n)},e.prototype.updateSelection=function(r,n,i){var a;i===void 0&&(i=!1);var o=z(this.selection,2),s=o[0],c=o[1],l=z([r,n],2),u=l[0],f=l[1];i&&(u+=s,f+=c);var h=this.range,d=h.min,p=h.max;a=z(KB([d,p],[u,f],this.selection),2),u=a[0],f=a[1],this.update({defaultValue:[u,f]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var r=this.attributes.step,n=r===void 0?1:r,i=this.range,a=i.min,o=i.max;return Le(n)?ws((o-a)*iF,0):n},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(r){var n=this.attributes,i=n.data,a=n.block,o=this.range.min;return a?hS(i.map(function(s){var c=s.value;return c}),r).tick:VB(r,this.step,o)},e.prototype.getValueByCanvasPoint=function(r,n){n===void 0&&(n=!1);var i=this.range,a=i.min,o=i.max,s=z(this.ribbon.node().getPosition(),2),c=s[0],l=s[1],u=this.ifHorizontal(c,l),f=this.ifHorizontal.apply(this,kt([],z(Ff(r)),!1)),h=f-u,d=et(this.getOffset(h,!0),a,o);return d},e.prototype.getOffset=function(r,n){n===void 0&&(n=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.len,c=this.eventToOffsetScale;return c.update({domain:[a,o],range:[0,s]}),n?c.invert(r):c.map(r)},e.prototype.dispatchSelection=function(){var r=new en("valuechange",{detail:{value:this.selection}});this.dispatchEvent(r)},e.prototype.dispatchIndicated=function(r,n){var i=new en("indicate",{detail:{value:r,range:n}});this.dispatchEvent(i)},Me([Ss(100)],e.prototype,"dispatchSelection",null),Me([Ss(100)],e.prototype,"dispatchIndicated",null),e}(sn);function bF(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):e[n]===void 0?"":e[n]})}var xF=bF,_F=function(t){return t instanceof Element||t instanceof HTMLDocument},vS=_F,dl,tv,gS,ev;function wF(){dl=document.createElement("table"),tv=document.createElement("tr"),gS=/^\s*<(\w+|!)[^>]*>/,ev={tr:document.createElement("tbody"),tbody:dl,thead:dl,tfoot:dl,td:tv,th:tv,"*":document.createElement("div")}}function mS(t){dl||wF();var e=gS.test(t)&&RegExp.$1;(!e||!(e in ev))&&(e="*");var r=ev[e];t=typeof t=="string"?t.replace(/(^\s*)|(\s*$)/g,""):t,r.innerHTML=""+t;var n=r.childNodes[0];return n&&r.contains(n)&&r.removeChild(n),n}var Vr,Tn={CONTAINER:"tooltip",TITLE:"tooltip-title",LIST:"tooltip-list",LIST_ITEM:"tooltip-list-item",NAME:"tooltip-list-item-name",MARKER:"tooltip-list-item-marker",NAME_LABEL:"tooltip-list-item-name-label",VALUE:"tooltip-list-item-value",CROSSHAIR_X:"tooltip-crosshair-x",CROSSHAIR_Y:"tooltip-crosshair-y"},yS={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},OF=(Vr={},Vr[".".concat(Tn.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},Vr[".".concat(Tn.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},Vr[".".concat(Tn.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},Vr[".".concat(Tn.LIST_ITEM)]={"list-style-type":"none","margin-top":"12px",display:"flex","line-height":"1em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},Vr[".".concat(Tn.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},Vr[".".concat(Tn.NAME)]={display:"flex","align-items":"center","max-width":"216px"},Vr[".".concat(Tn.NAME_LABEL)]=q({flex:1},yS),Vr[".".concat(Tn.VALUE)]=q({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},yS),Vr[".".concat(Tn.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},Vr[".".concat(Tn.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},Vr),SF=function(t){gt(e,t);function e(r){var n=t.call(this,Ve({},e.defaultOptions,r))||this;return n.visibility="visible",n.initShape(),n.render(n.attributes,n),n}return Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"position",{set:function(r){var n=z(r,2),i=n[0],a=n[1];this.attr({x:i,y:a}),this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementSize",{get:function(){var r=this.element.offsetWidth,n=this.element.offsetHeight;return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var r=this.attributes.items;return r.map(function(n,i){var a=n.name,o=a===void 0?"":a,s=n.value,c=n.color,l=c===void 0?"black":c,u=n.index,f=Vt(n,["name","value","color","index"]);return q({name:o,value:s,color:l,index:u!=null?u:i},f)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var r=this.attributes.template,n=[];return this.items.forEach(function(i){n.push(mS(xF(r.item,i)))}),n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customContent",{get:function(){var r=this.attributes.customContent;if(at(r))return d7(r);if(vS(r))return r},enumerable:!1,configurable:!0}),e.prototype.render=function(r,n){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.update=function(r){this.attr(Ve({},this.attributes,r)),this.render(this.attributes,this)},e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.destroy=function(){var r,n;(r=this.element)===null||r===void 0||r.remove(),(n=this.customContent)===null||n===void 0||n.remove()},e.prototype.show=function(){this.visibility="visible",this.element.style.visibility="visible"},e.prototype.hide=function(){this.visibility="hidden",this.element.style.visibility="hidden"},e.prototype.initShape=function(){var r=this.attributes.template;this.element=mS(r.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderHTMLTooltipElement=function(){var r,n,i=this.attributes,a=i.title,o=i.enterable,s=this.element,c=this.customContent;if(this.element.style.pointerEvents=o?"auto":"none",this.clear(),c)s.appendChild(c);else{var l=this.attributes.template;a?(s.innerHTML=l.title,s.getElementsByClassName(Tn.TITLE)[0].innerHTML=a):(n=(r=s.getElementsByClassName(Tn.TITLE))===null||r===void 0?void 0:r[0])===null||n===void 0||n.remove();var u=this.HTMLTooltipItemsElements,f=document.createElement("ul");f.className=Tn.LIST,u.forEach(function(d){f.appendChild(d)}),this.element.appendChild(f)}var h=this.attributes.style;l7(s,h),this.element.style.visibility=this.visibility},e.prototype.getRelativeOffsetFromCursor=function(r){var n=this.attributes,i=n.position,a=n.offset,o=(r||i).split("-"),s={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,l=c.width,u=c.height,f=[-l/2,-u/2];return o.forEach(function(h){var d=z(f,2),p=d[0],v=d[1],g=z(s[h],2),m=g[0],b=g[1];f=[p+(l/2+a[0])*m,v+(u/2+a[1])*b]}),f},e.prototype.setOffsetPosition=function(r){var n=z(r,2),i=n[0],a=n[1],o=this.attributes,s=o.x,c=s===void 0?0:s,l=o.y,u=l===void 0?0:l,f=o.container,h=f.x,d=f.y;this.element.style.left="".concat(c+h+i,"px"),this.element.style.top="".concat(u+d+a,"px")},e.prototype.updatePosition=function(){this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor()))},e.prototype.autoPosition=function(r){var n=z(r,2),i=n[0],a=n[1],o=this.attributes,s=o.x,c=o.y,l=o.autoPosition,u=o.bounding;if(!l)return[i,a];var f=this.element,h=f.offsetWidth,d=f.offsetHeight,p=z([s+i,c+a],2),v=p[0],g=p[1],m=this.attributes.position,b={left:"right",right:"left",top:"bottom",bottom:"top"},_=u.x,O=u.y,E=u.width,P=u.height,A={left:v<_,right:v+h>_+E,top:g<O,bottom:g+d>O+P},T=[];m.split("-").forEach(function(L){A[L]?T.push(b[L]):T.push(L)});var C=T.join("-");return this.getRelativeOffsetFromCursor(C)},e.tag="tooltip",e.defaultOptions={style:{x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],follow:!0,enterable:!1,autoPosition:!0,items:[],container:{x:0,y:0},bounding:{x:0,y:0,width:0,height:0},template:{container:'<div class="'.concat(Tn.CONTAINER,'"></div>'),title:'<div class="'.concat(Tn.TITLE,'"></div>'),item:'<li class="'.concat(Tn.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(Tn.NAME,`">
          <span class="`).concat(Tn.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(Tn.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(Tn.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:OF}},Me([Ss(100)],e.prototype,"updatePosition",null),e}(sn),bS={default:{sizeStyle:{width:44,height:22,radius:11},tagStyle:{textStyle:{fontSize:12,lineHeight:16,fill:"#fff"},padding:0},markerStyle:{size:11}},small:{sizeStyle:{width:28,height:16,radius:8},tagStyle:{textStyle:{fontSize:10,lineHeight:14,fill:"#fff"},padding:0},markerStyle:{size:8}},mini:{sizeStyle:{width:20,height:14,radius:7},tagStyle:{textStyle:{fontSize:7,lineHeight:10,fill:"#fff"},padding:0},markerStyle:{size:7}}},EF="#1890FF",MF="#00000040";function xS(t,e,r){e===void 0&&(e=0),r===void 0&&(r=!0);var n=Number(t.style.height)-e*2;return{x:r?Number(t.style.width)+Number(t.style.x)-e-n:Number(t.style.x)+e,y:Number(t.style.y)+e,width:n,height:n,radius:n/2}}function PF(t,e,r,n){var i=e.width,a=e.height;return r===void 0&&(r=0),n===void 0&&(n=!0),{x:n?Number(t.x)+r:Number(t.width)+Number(t.x)-i,y:Number(t.y)+(Number(t.height)-a)/2}}var Aet=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return e.prototype.render=function(r,n){var i=this,a=r.size,o=a===void 0?"default":a,s=r.spacing,c=r.disabled,l=r.checked,u=r.unCheckedChildren,f=r.checkedChildren,h=$t(n).maybeAppendByClassName("switch-content","g").node(),d=h.getLocalBounds(),p=Yr(bS,o,bS.default),v=p.sizeStyle,g=p.tagStyle,m=c?"no-drop":"pointer",b=l?EF:MF,_=v,O=l?f:u;(f||u)&&$t(h).maybeAppendByClassName("switch-tag",function(){return new j0({})}).call(function(A){var T=A.node();T.update(Ve({cursor:m,backgroundStyle:null,text:!1,marker:!1},g,O));var C=T==null?void 0:T.getLocalBounds(),L=C.max,N=C.min,x=L[0]-N[0]+v.radius,y=L[1]-N[1],w=Math.max(x+v.height+2,v.width);_=q(q({},v),{width:w}),T.update(PF({x:d.min[0],y:d.min[1],width:w,height:_.height},{width:x,height:y},_.radius,l))});var E=$t(h).maybeAppendByClassName("switch-background","rect").styles(q({zIndex:(h.style.zIndex||0)-1,x:d.min[0],y:d.min[1],fill:b,cursor:m,fillOpacity:c?.4:1},_)).node(),P=$t(h).maybeAppendByClassName("switch-background-stroke","rect").styles(q({zIndex:(h.style.zIndex||0)-2,x:d.min[0],y:d.min[1],stroke:b,lineWidth:0},_)).node();$t(h).maybeAppendByClassName("switch-handle","rect").styles({fill:"#fff",cursor:m}).call(function(A){var T,C,L=A.node(),N=xS(E,s,l),x=xS(E,s,!l);L.attr("x")&&!AO(N,x)&&i.checked!==l?(L.attr(x),(T=L.getAnimations()[0])===null||T===void 0||T.cancel(),(C=P.getAnimations()[0])===null||C===void 0||C.cancel(),L.animate([{x:x.x},{x:N.x}],{duration:120,fill:"both"}),P.animate([{lineWidth:0,strokeOpacity:.5},{lineWidth:14,strokeOpacity:0}],{duration:400,easing:"ease-on"})):L.attr(N)}),this.checked=!!l},e.tag="switch",e.defaultOptions={style:{x:0,y:0,spacing:2,checked:!0,disabled:!1}},e}(sn),Kf={tagText:"",lineStroke:"#416180",lineStrokeOpacity:.45,lineLineWidth:1,lineLineDash:[5,5]},AF=an({},Kf,{type:"line",tagPosition:"start",tagAlign:"center",tagVerticalAlign:"bottom"}),kF=an({},Kf,{type:"circle",defaultRadius:0}),TF=an({},Kf,{type:"polygon",defaultRadius:0,startAngle:0}),nv=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return Object.defineProperty(e.prototype,"localPointer",{get:function(){var r=z(this.getPosition(),2),n=r[0],i=r[1],a=z(this.pointer,2),o=a[0],s=a[1];return[o-n,s-i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagCfg",{get:function(){var r=Re(this.attributes,"tag"),n=r.position,i=Vt(r,["position"]);return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crosshairCfg",{get:function(){var r=Re(this.attributes,"line");return q(q({},r),{path:this.crosshairPath})},enumerable:!1,configurable:!0}),e.prototype.render=function(r,n){var i=this,a=$t(n).maybeAppendByClassName(".crosshair-group","g").node();this.shapesGroup=a,this.tagShape=$t(a).maybeAppend(".crosshair-tag",function(){return new j0({className:"crosshair-tag",style:i.tagCfg})}).node(),this.crosshairShape=$t(a).maybeAppendByClassName(".crosshair-path","path").node().attr(this.crosshairCfg),this.adjustLayout()},e.prototype.update=function(r){r===void 0&&(r={}),this.attr(Ve({},this.attributes,r)),this.render(this.attributes,this)},e.prototype.setPointer=function(r){this.pointer=r},e.tag="crosshair-base",e.defaultOptions={style:Kf},e}(sn),ket=function(t){gt(e,t);function e(r){return t.call(this,an({},e.defaultOptions,r))||this}return Object.defineProperty(e.prototype,"crosshairPath",{get:function(){var r=this.attributes,n=z(r.startPos,2),i=n[0],a=n[1],o=z(r.endPos,2),s=o[0],c=o[1],l=[["M",0,0],["L",s-i,c-a],["Z"]];return l},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localPointer",{get:function(){if(!this.pointer)return this.attributes.startPos;var r=z(this.getPosition(),2),n=r[0],i=r[1],a=z(this.pointer,2),o=a[0],s=a[1];return[o-n,s-i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){var r=this.attributes,n=z(r.startPos,2),i=n[0],a=n[1],o=z(r.endPos,2),s=o[0],c=o[1];return i===s&&a!==c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagShapeSpace",{get:function(){var r=T0(this.tagShape),n=r.width,i=r.height;return{width:n,height:i}},enumerable:!1,configurable:!0}),e.prototype.update=function(r){t.prototype.update.call(this,r)},e.prototype.setPointer=function(r){t.prototype.setPointer.call(this,r),this.adjustPosition()},e.prototype.setText=function(r){this.tagShape.update({text:r}),this.adjustTag()},e.prototype.adjustLayout=function(){this.adjustPosition(),this.adjustTag()},e.prototype.adjustPosition=function(){var r=z(this.localPointer,2),n=r[0],i=r[1],a=z(this.attributes.startPos,2),o=a[0],s=a[1],c=this.getOrientVal([o,i],[n,s]);this.shapesGroup.setLocalPosition(c)},e.prototype.adjustTag=function(){var r=this.attributes,n=r.tagText,i=r.tagPosition,a=z(r.startPos,2),o=a[0],s=a[1],c=z(r.endPos,2),l=c[0],u=c[1];if(!n||n===""){this.tagShape.hide();return}this.tagShape.show();var f=this.tagShapeSpace,h=f.width,d=f.height,p=z(this.getOrientVal({start:[-h/2,d/2],end:[l-o+h/2,d/2]},{start:[0,0],end:[0,u-s+d]})[i],2),v=p[0],g=p[1];this.tagShape.setLocalPosition(v,g)},e.prototype.getOrientVal=function(r,n){return this.isVertical?n:r},e.tag="line-crosshair",e.defaultOptions={style:AF},Me([Ss(20)],e.prototype,"setPointer",null),e}(nv),Tet=function(t){gt(e,t);function e(r){return t.call(this,an({},e.defaultOptions,r))||this}return Object.defineProperty(e.prototype,"crosshairPath",{get:function(){return this.createCirclePath()},enumerable:!1,configurable:!0}),e.prototype.update=function(r){t.prototype.update.call(this,r)},e.prototype.setPointer=function(r){var n=z(r,2),i=n[0],a=n[1];t.prototype.setPointer.call(this,[i,a]);var o=z(this.localPointer,2),s=o[0],c=o[1],l=z(this.attributes.center,2),u=l[0],f=l[1],h=this.createCirclePath(Math.pow(Math.pow(s-u,2)+Math.pow(c-f,2),.5));this.crosshairShape.attr({path:h})},e.prototype.adjustLayout=function(){this.tagShape.hide()},e.prototype.createCirclePath=function(r){var n=this.attributes,i=z(n.center,2),a=i[0],o=i[1],s=n.defaultRadius;return D0(a,o,r||s)},e.tag="circle-crosshair",e.defaultOptions={style:kF},Me([Ss(20)],e.prototype,"setPointer",null),e}(nv),Let=function(t){gt(e,t);function e(r){return t.call(this,an({},e.defaultOptions,r))||this}return Object.defineProperty(e.prototype,"crosshairPath",{get:function(){return this.createPolygonPath()},enumerable:!1,configurable:!0}),e.prototype.update=function(r){t.prototype.update.call(this,r)},Object.defineProperty(e.prototype,"points",{get:function(){for(var r=this.attributes,n=r.startAngle,i=r.sides,a=Math.PI*2/i,o=[1,0],s=[],c=0;c<i;c+=1)s.push(iL([0,0],o,[0,0],n/180*Math.PI+a*c));return s},enumerable:!1,configurable:!0}),e.prototype.setPointer=function(r){var n=z(r,2),i=n[0],a=n[1];t.prototype.setPointer.call(this,[i,a]);var o=z(this.localPointer,2),s=o[0],c=o[1],l=this.attributes.center,u=z(this.intersection([s,c]),2),f=u[0],h=u[1];if(!(!f||!h)){var d=pO(l,[s,c])/pO(l,[f,h]),p=this.createPolygonPath(d);this.crosshairShape.attr({path:p})}},e.prototype.adjustLayout=function(){this.tagShape.hide()},e.prototype.createPolygonPath=function(r){var n=this.attributes,i=n.defaultRadius,a=z(n.center,2),o=a[0],s=a[1],c=this.points.map(function(l,u){var f=z(l,2),h=f[0],d=f[1],p=z(qi([0,0],[h,d],r||i),2),v=p[0],g=p[1];return[u===0?"M":"L",o+v,s+g]});return c.push(["Z"]),c},e.prototype.intersection=function(r){for(var n,i=z(r,2),a=i[0],o=i[1],s=this.points,c=z(this.attributes.center,2),l=c[0],u=c[1],f,h,d=1;d<=s.length;d+=1){var p=z(s[d-1],2),v=p[0],g=p[1],m=z(s[d%s.length],2),b=m[0],_=m[1],O=v7([a,o],[l,u],[v+l,g+u],[b+l,_+u]);O.length!==0&&(n=z(O,2),f=n[0],h=n[1])}return[f,h]},e.tag="polygon-crosshair",e.defaultOptions={style:TF},Me([Ss(20)],e.prototype,"setPointer",null),e}(nv),LF=function(t){gt(e,t);function e(r){var n=t.call(this,an({},e.defaultOptions,r))||this;return n.update({}),n}return Object.defineProperty(e.prototype,"decorationType",{get:function(){var r=this.attributes.type;return!r||r==="none"||!Ce(r)?"none":r.map(function(n){return Ce(n)?n:[n,"solid"]})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doubleSpacing",{get:function(){var r=this.attributes.style.lineWidth;return r*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hangingRate",{get:function(){var r=this.attributes.hangingRate;return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dashedCfg",{get:function(){var r=this.attributes.style.lineWidth;return{lineDash:[r*2,r]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dottedCfg",{get:function(){var r=this.attributes.style.lineWidth;return{lineDash:[r,r]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"solidCfg",{get:function(){return{lineDash:[0,0]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorationCfg",{get:function(){var r=this,n=this.attributes.style,i=this.decorationType;return i==="none"?[]:i.map(function(a){var o=z(a,2),s=o[0],c=o[1];if(c==="wavy")return q({path:r.getWavyPath(s)},n);if(c==="double")return q({path:r.getDoubleLinePath(s)},n);var l={solid:r.solidCfg,dashed:r.dashedCfg,dotted:r.dottedCfg};return q(q({path:r.getLinePath(s)},n),l[c])})},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n=this;this.attr(an({},this.attributes,r)),this.clear(),this.decorationCfg.forEach(function(i){n.appendChild(new Ne({style:i}))})},e.prototype.clear=function(){this.removeChildren()},e.prototype.getLinePos=function(r){var n,i,a,o=z(this.hangingRate,3),s=o[0],c=o[1],l=o[2],u=this.attributes,f=u.height,h=u.fontSize,d=z([0,0],2),p=d[0],v=d[1];return r==="overline"?(n=z([0,f*s-h/2],2),p=n[0],v=n[1]):r==="line-through"?(i=z([0,f*c],2),p=i[0],v=i[1]):(a=z([0,f*l+h/2],2),p=a[0],v=a[1]),[p,v]},e.prototype.getLinePath=function(r){var n=this.attributes.width,i=z(this.getLinePos(r),2),a=i[0],o=i[1];return[["M",a,o],["L",a+n,o]]},e.prototype.getDoubleLinePath=function(r){var n,i,a,o=this.doubleSpacing,s=this.attributes.width,c=z(this.getLinePos(r),2),l=c[0],u=c[1],f=z([0,0],2),h=f[0],d=f[1];return r==="line-through"&&(n=z([-.5,.5],2),h=n[0],d=n[1]),r==="underline"?(i=z([0,1],2),h=i[0],d=i[1]):r==="overline"&&(a=z([1,0],2),h=a[0],d=a[1]),[["M",l,u+o*h],["L",l+s,u+o*h],["M",l,u+o*d],["L",l+s,u+o*d]]},e.prototype.getWavyPath=function(r){return[]},e.tag="decoration",e.defaultOptions={style:{width:0,height:0,type:"none",hangingRate:[.5,.55,.5],style:{lineWidth:1,stroke:"#000"}}},e}(bn),Cet=function(t){gt(e,t);function e(r){var n=t.call(this,an({},e.defaultOptions,r))||this;return n.init(),n}return Object.defineProperty(e.prototype,"textWidth",{get:function(){var r=this;return $(this.renderText.split(`
`).map(function(n){return _s(n,r.font)}))||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return T0(this.textShape).height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var r=this.attributes.width;return r==="auto"||r===void 0||r===0?this.textWidth:r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var r=this.attributes.height;return ct(r)&&r!==0?r:T0(this.textShape).height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){var r=this.attributes,n=r.lineHeight,i=r.fontSize;return!n||n===0?i:n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"capitalizeWord",{get:function(){var r=this.attributes.text;return r.split(`
`).map(function(n){return n.split(" ").map(function(i){return cO(i,"capitalize")}).join(" ")}).join(`
`)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var r=this.attributes,n=r.transform,i=r.text;return n==="capitalize"?this.capitalizeWord:cO(i,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ellipsisText",{get:function(){var r=this,n=this.text,i=this.attributes,a=i.width,o=i.overflow,s=o==="ellipsis"?"...":o;return n.split(`
`).map(function(c){return o7(c,ct(a)?a:1/0,r.font,s)}).join(`
`)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderText",{get:function(){var r=this.attributes.width,n=this.attributes.overflow;return n&&!["none","clip","wrap"].includes(n)&&ct(r)?this.ellipsisText:this.text},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){var r=this.attributes.verticalAlign;return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return SO(this.attributes,["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","letterSpacing","leading"])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontColor",{get:function(){var r=this.attributes.fontColor;return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){var r=this.attributes.overflow;return r==="wrap"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){var r=this,n=r.width,i=r.wordWrap;return i?n:1/0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textCfg",{get:function(){var r=this,n=r.renderText,i=r.lineHeight,a=r.wordWrap,o=r.wordWrapWidth,s=r.fontColor;return q(q(q({},$a),this.font),{fill:s,wordWrap:a,lineHeight:i,wordWrapWidth:o,text:n,textAlign:"start",textBaseline:"middle"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundCfg",{get:function(){var r=this,n=r.width,i=r.height,a=this.attributes.backgroundStyle;return q({x:0,y:0,width:n,height:i},a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorationLineWidth",{get:function(){var r=this.attributes.fontSize;return Math.floor(Math.log10(r)*2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorationCfg",{get:function(){var r=this.attributes,n=r.decoration,i=r.fontSize,a=this,o=a.decorationLineWidth,s=a.fontColor;return this.textShape.getLineBoundingRects().map(function(c){return an({},{fontSize:i,style:{stroke:s,lineWidth:o}},n,c)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clipRectCfg",{get:function(){var r=this.height,n=this.attributes.width;return{width:n,height:r}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initShape(),this.update({})},e.prototype.update=function(r){this.attr(an({},this.attributes,r)),this.render()},e.prototype.render=function(){var r=this;this.clear(),this.backgroundShape.attr(this.backgroundCfg),this.textShape.attr(this.textCfg),this.layout(),this.decorationGroup.removeChildren(),this.decorationCfg.forEach(function(n){r.decorationGroup.appendChild(new LF({style:n}))})},e.prototype.clear=function(){var r;this.backgroundShape.style.clipPath=null,(r=this.clipRect)===null||r===void 0||r.destroy()},e.prototype.initShape=function(){this.backgroundShape=new Br({name:"background",style:{width:0,height:0}}),this.decorationGroup=new or({name:"decoration-group"}),this.textShape=new wi({name:"text",style:this.textCfg}),this.textShape.appendChild(this.decorationGroup),this.backgroundShape.appendChild(this.textShape),this.appendChild(this.backgroundShape)},e.prototype.overflow=function(){var r=this.wordWrap,n=this.attributes,i=n.width,a=n.overflow;!a||a==="none"||r||!ct(i)||a==="clip"&&(this.clipRect=new Br({name:"clip-rect",style:this.clipRectCfg}),this.backgroundShape.style.clipPath=this.clipRect,this.backgroundShape.appendChild(this.clipRect))},e.prototype.adjustTextAlign=function(){var r=this.textWidth,n=this.attributes,i=n.width,a=n.textAlign;if(!!ct(i)){var o=0;a==="start"?o=0:a==="center"?o=(this.width-r)/2:o=this.width-r,this.textShape.attr({x:o})}},e.prototype.adjustVerticalAlign=function(){var r=this,n=r.verticalAlign,i=r.textHeight,a=0;n==="top"?a=i/2:n==="middle"?a=this.height/2:a=this.height-i/2,this.textShape.attr({y:a})},e.prototype.layout=function(){this.adjustTextAlign(),this.adjustVerticalAlign(),this.overflow()},e.tag="paragraph",e.defaultOptions={style:{text:"",fontColor:"#000",fontFamily:"sans-serif",fontSize:12,fontWeight:"normal",fontVariant:"normal",letterSpacing:0,leading:0,fontStyle:"normal",decoration:{type:"none",style:{}},overflow:"none",backgroundStyle:{},transform:"none",tooltip:!1,tooltipWait:300}},e}(sn);function rv(t,e){for(var r in e)e.hasOwnProperty(r)&&r!=="constructor"&&e[r]!==void 0&&(t[r]=e[r])}function iv(t,e,r,n){return e&&rv(t,e),r&&rv(t,r),n&&rv(t,n),t}var CF=q(q({},$a),{fill:"rgba(0,0,0,0.45)",fontSize:10,textAlign:"start",textBaseline:"middle",overflow:"clip"}),_S={default:{width:12,height:12,radius:2,stroke:"#dadada",lineWidth:1,fill:"#ffffff",cursor:"pointer"},selected:{width:12,height:12,radius:2,stroke:"#3471F9",lineWidth:1,fill:"#3471F9",cursor:"pointer"}},NF=[["M",3,6],["L","5","8.5"],["L","8.5","4"]],RF={path:NF,lineWidth:1,cursor:"pointer"};function IF(t,e){var r=t.getLocalBounds();return{x:r.halfExtents[0]?r.max[0]+(e||0):t.style.x,y:r.halfExtents[1]?(r.min[1]+r.max[1])/2:t.style.y}}var Net=function(t){gt(e,t);function e(r){return t.call(this,Ve({},e.defaultOptions,r))||this}return e.prototype.render=function(r,n){var i=r.label,a=r.boxStyle,o=r.checkedStyle,s=r.checked,c=r.spacing;this.checked=!!s;var l=ii(n,".checkbox-content","g").attr("className","checkbox-content").node(),u=iv({},this.checked?_S.selected:_S.default,a),f=iv({},RF,o);this.checkboxBoxShape=ii(l,".checkbox-box","rect").styles(q({className:"checkbox-box",zIndex:(l.style.zIndex||0)-1},u)).node(),ii(this.checkboxBoxShape,".checkbox-checked","path").styles(q({className:"checkbox-box-checked",stroke:"#fff"},f));var h=IF(this.checkboxBoxShape,Number(c)),d=h.x,p=h.y;ii(l,".checkbox-label","text").styles(q({className:"checkbox-label",x:d,y:p},i))},e.tag="checkbox",e.defaultOptions={style:{x:0,y:0,label:q({text:""},CF),spacing:4,checked:!1}},e}(sn),he,DF="gui-poptip",ae={CONTAINER:"gui-poptip",ARROW:"gui-poptip-arrow",TEXT:"gui-poptip-text"},wS=(he={},he[".".concat(ae.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},he[".".concat(ae.TEXT)]={"text-align":"center"},he[".".concat(ae.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},he[".".concat(ae.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},he[".".concat(ae.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},he[".".concat(ae.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},he[".".concat(ae.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},he[".".concat(ae.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},he[".".concat(ae.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},he[".".concat(ae.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},he[".".concat(ae.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},he[".".concat(ae.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},he[".".concat(ae.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},he[".".concat(ae.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},he[".".concat(ae.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},he[".".concat(ae.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},he["[data-position='top'] .".concat(ae.ARROW)]={bottom:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},he["[data-position='left'] .".concat(ae.ARROW)]={right:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},he["[data-position='right'] .".concat(ae.ARROW)]={left:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},he["[data-position='bottom'] .".concat(ae.ARROW)]={top:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},he["[data-position='top-left'] .".concat(ae.ARROW)]={left:"10px",bottom:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},he["[data-position='top-right'] .".concat(ae.ARROW)]={right:"10px",bottom:"-2px"},he[".".concat(ae.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},he["[data-position='left-top'] .".concat(ae.ARROW)]={right:"-2px",top:"8px"},he[".".concat(ae.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},he["[data-position='left-bottom'] .".concat(ae.ARROW)]={right:"-2px",bottom:"8px"},he[".".concat(ae.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},he["[data-position='right-top'] .".concat(ae.ARROW)]={left:"-2px",top:"8px"},he[".".concat(ae.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},he["[data-position='right-bottom'] .".concat(ae.ARROW)]={left:"-2px",bottom:"8px"},he[".".concat(ae.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},he["[data-position='bottom-left'] .".concat(ae.ARROW)]={top:"-2px",left:"8px"},he[".".concat(ae.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},he["[data-position='bottom-right'] .".concat(ae.ARROW)]={top:"-2px",right:"8px"},he),jF=void 0;function BF(t,e,r,n,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[t,e];var o=r.getBoundingClientRect(),s=o.x,c=o.y,l=o.width,u=o.height;switch(n){case"top":return i?[s+l/2,c]:[t,c];case"left":return i?[s,c+u/2]:[s,e];case"bottom":return i?[s+l/2,c+u]:[t,c+u];case"right":return i?[s+l,c+u/2]:[s+l,e];case"top-right":case"right-top":return[s+l,c];case"left-bottom":case"bottom-left":return[s,c+u];case"right-bottom":case"bottom-right":return[s+l,c+u];case"top-left":case"left-top":default:return[s,c]}}var FF=function(t){var e;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e||(e=t.apply(jF,r)),e}};function zF(t){var e=t&&document.getElementById(t);return e||(e=document.createElement("div"),e.setAttribute("id",t),document.body.appendChild(e)),e}function GF(t){var e=FF(zF)(t);return e}var Ret=function(t){gt(e,t);function e(r){var n=t.call(this,Ve({style:{id:DF}},e.defaultOptions,r))||this;return n.visibility="visible",n.map=new Map,n.domStyles="",n.initShape(),n.render(n.attributes,n),n}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),e.prototype.render=function(r,n){this.visibility=this.style.visibility,this.updatePoptipElement()},e.prototype.update=function(r){this.attr(Ve({},this.style,r)),this.render(this.attributes,this)},e.prototype.bind=function(r,n){var i=this;if(!!r){var a=this.style.text,o=function(c){var l=r,u=i.style,f=a;if(n){var h=typeof n=="function"?n.call(null,c):n,d=h.html,p=h.target,v=Vt(h,["html","target"]);u=iv({},i.style,v),(p||p===!1)&&(l=p),typeof d=="string"&&(f=d)}var g=u.position,m=u.arrowPointAtCenter,b=u.follow,_=u.offset;if(l){var O=c,E=O.clientX,P=O.clientY,A=z(BF(E,P,l,g,m,b),2),T=A[0],C=A[1];i.showTip(T,C,{text:f,position:g,offset:_})}else i.hideTip()},s=function(){i.hideTip()};r.addEventListener("mousemove",o),r.addEventListener("mouseleave",s),this.map.set(r,[o,s])}},e.prototype.unbind=function(r){if(this.map.has(r)){var n=z(this.map.get(r)||[],2),i=n[0],a=n[1];i&&r.removeEventListener("mousemove",i),a&&r.removeEventListener("mouseleave",a),this.map.delete(r)}},e.prototype.clear=function(){this.container.innerHTML=""},e.prototype.destroy=function(){var r=this,n;kt([],z(this.map.keys()),!1).forEach(function(i){return r.unbind(i)}),(n=this.container)===null||n===void 0||n.remove()},e.prototype.showTip=function(r,n,i){var a=Yr(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),r&&n&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(r,n,o),typeof a=="string"){var c=this.container.querySelector(".".concat(ae.TEXT));c&&(c.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},e.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},e.prototype.getContainer=function(){return this.container},e.prototype.getClassName=function(){var r=this.style.containerClassName;return"".concat(ae.CONTAINER).concat(r?" ".concat(r):"")},e.prototype.initShape=function(){var r=this,n=this.style.id;this.container=GF(n),this.container.setAttribute("class",this.getClassName()),this.container.addEventListener("mousemove",function(){return r.showTip()}),this.container.addEventListener("mouseleave",function(){return r.hideTip()})},e.prototype.updatePoptipElement=function(){var r=this.container;this.clear();var n=this.style,i=n.id,a=n.template,o=n.text;this.container.setAttribute("id",i),this.container.setAttribute("class",this.getClassName());var s='<span class="'.concat(ae.ARROW,'"></span>');r.innerHTML=s,at(a)?r.innerHTML+=a:a&&vS(a)&&r.appendChild(a),o&&(r.getElementsByClassName(ae.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},e.prototype.applyStyles=function(){var r=an({},wS,this.style.domStyles),n=Object.entries(r).reduce(function(a,o){var s=z(o,2),c=s[0],l=s[1],u=Object.entries(l).reduce(function(f,h){var d=z(h,2),p=d[0],v=d[1];return"".concat(f).concat(p,": ").concat(v,";")},"");return"".concat(a).concat(c,"{").concat(u,"}")},"");if(this.domStyles!==n){this.domStyles=n;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=n,this.container.appendChild(i)}},e.prototype.setOffsetPosition=function(r,n,i){i===void 0&&(i=this.style.offset);var a=z(i,2),o=a[0],s=o===void 0?0:o,c=a[1],l=c===void 0?0:c;this.container.style.left="".concat(r+s,"px"),this.container.style.top="".concat(n+l,"px")},e.tag="poptip",e.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:wS,template:'<div class="'.concat(ae.TEXT,'"></div>')}},e}(sn),$F=function(t){gt(e,t);function e(r){var n=t.call(this,r)||this;n.layoutEvents=[le.BOUNDS_CHANGED,le.INSERTED,le.REMOVED],n.$margin=Xn(0),n.$padding=Xn(0);var i=r.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,c=s===void 0?0:s;return n.margin=o,n.padding=c,n.isMutationObserved=!0,n.bindEvents(),n}return Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(r){this.$margin=Xn(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(r){this.$padding=Xn(r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=this.attributes,n=r.x,i=n===void 0?0:n,a=r.y,o=a===void 0?0:a,s=r.width,c=r.height,l=z(this.$margin,4),u=l[0],f=l[1],h=l[2],d=l[3];return new _n(i-d,o-u,s+d+f,c+u+h)},e.prototype.appendChild=function(r,n){return r.isMutationObserved=!0,t.prototype.appendChild.call(this,r,n),r},e.prototype.getAvailableSpace=function(){var r=this.attributes,n=r.width,i=r.height,a=z(this.$padding,4),o=a[0],s=a[1],c=a[2],l=a[3],u=z(this.$margin,4),f=u[0],h=u[3];return new _n(l+h,o+f,n-l-s,i-o-c)},e.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(n){return!n.isConnected}))try{var r=_7(this.getAvailableSpace(),this.children.map(function(n){return n.getBBox()}),this.attributes);this.children.forEach(function(n,i){var a=r[i],o=a.x,s=a.y;n.attr({x:o,y:s})})}catch(n){}},e.prototype.bindEvents=function(){var r=this;this.layoutEvents.forEach(function(n){r.addEventListener(n,function(i){i.target.isMutationObserved=!0,r.layout()})})},e.prototype.destroy=function(){this.removeAllEventListeners()},e.prototype.attributeChangedCallback=function(r,n,i){r==="margin"?this.margin=n:r==="padding"&&(this.padding=n),this.layout()},e}(or),av=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function WF(t){const{min:[e,r],max:[n,i]}=t.getLocalBounds();let a=0,o=0;return e>0&&(a=e),n<0&&(a=n),r>0&&(o=r),i<0&&(o=i),[a,o]}function YF(t,e=[]){const[r=0,n=0,i=r,a=n]=e,o=t.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:c,halfExtents:l}=t.getLocalBounds(),[u,f]=c,[h,d]=l;return o.setEulerAngles(s),{x:u-a,y:f-r,width:h*2+a+n,height:d*2+r+i}}const HF=(t,e,r)=>{const n=xn(t,e),i=xn(e,r),a=xn(r,t);return(Math.pow(n,2)+Math.pow(i,2)-Math.pow(a,2))/(2*n*i)};function VF(t,e,r,n){const[[i,a],[o,s]]=e,[c,l]=WF(t);if(i===o&&a===s)return To()([[0,0],[c,l]]);const u=[[i-o,a-s]].concat(r.length?r:[0,0]),f=[n[0]-o,n[1]-s],[h,d]=u;if(HF(f,h,d)>0){const p=(()=>{const{min:v,max:g}=t.getLocalBounds(),m=h[0]+(h[1]-f[1])*(h[1]-0)/(h[0]-f[0]);return g[0]<f[0]?Math.min(g[0],m):Math.max(v[0],m)})();u.splice(1,1,[p,0])}return To()(u)}const OS=al(t=>{const e=t.attributes,{class:r,transform:n,rotate:i,x:a,y:o,x0:s=a,y0:c=o,background:l,connector:u,startMarker:f,endMarker:h,coordCenter:d}=e,p=av(e,["class","transform","rotate","x","y","x0","y0","background","connector","startMarker","endMarker","coordCenter"]),v=Wt(p,"background"),{padding:g}=v,m=av(v,["padding"]),b=Wt(p,"connector"),{points:_=[]}=b,O=av(b,["points"]),E=[[+s,+c],[+a,+o]],P=ie(t).maybeAppend("text","text").call(qt,p).node(),A=ie(t).maybeAppend("background","rect").style("zIndex",-1).call(qt,YF(P,g)).call(qt,l?m:{}).node(),T=VF(A,E,_,d),C=f&&new Fe({id:"startMarker",style:Object.assign({x:0,y:0},Wt(p,"startMarker"))}),L=h&&new Fe({id:"endMarker",style:Object.assign({x:0,y:0},Wt(p,"endMarker"))});ie(t).maybeAppend("connector","path").style("path",T).style("markerStart",C).style("markerEnd",L).call(qt,u?O:{})});var SS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ES=t=>{const e=SS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=SS(Gn(a,o,s,c),[]),{color:u,text:f="",fontSize:h,rotate:d=0,transform:p=""}=n,v={text:String(f),stroke:u,fill:u,fontSize:h},[[g,m]]=r;return ie(new OS).style("x",g).style("y",m).call(qt,l).style("transform",`${p}rotate(${+d}deg)`).style("coordCenter",i.getCenter()).call(qt,v).call(qt,e).node()}};ES.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ov=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function XF(t){const e=t/Math.sqrt(2),r=t*Math.sqrt(2),[n,i]=[-e,e-r],[a,o]=[0,0],[s,c]=[e,e-r];return[["M",n,i],["A",t,t,0,1,1,s,c],["L",a,o],["Z"]]}function qF(t){const{min:e,max:r}=t.getLocalBounds();return[(e[0]+r[0])*.5,(e[1]+r[1])*.5]}const UF=al(t=>{const e=t.attributes,{class:r,x:n,y:i}=e,a=ov(e,["class","x","y"]),o=Wt(a,"marker"),{size:s=24}=o,c=()=>XF(s/2),l=ie(t).maybeAppend("marker",()=>new Fe({})).call(h=>h.node().update(Object.assign({symbol:c},o))).node(),[u,f]=qF(l);ie(t).maybeAppend("text","text").style("x",u).style("y",f).call(qt,a)}),MS=t=>{const e=ov(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=Gn(a,o,s,c),{defaultColor:u}=l,f=ov(l,["defaultColor"]),{color:h,text:d=""}=n,p={text:String(d),stroke:h||u,fill:h||u},[[v,g]]=r;return ie(new UF).call(qt,f).style("x",v).style("y",g).call(qt,p).call(qt,e).node()}};MS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function sv(t,e,r){var n=null,i=rn(!0),a=null,o=rl,s=null,c=m0(l);t=typeof t=="function"?t:t===void 0?_w:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?ww:rn(+r);function l(f){var h,d,p,v=(f=xw(f)).length,g,m=!1,b,_=new Array(v),O=new Array(v);for(a==null&&(s=o(b=c())),h=0;h<=v;++h){if(!(h<v&&i(g=f[h],h,f))===m)if(m=!m)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=d;--p)s.point(_[p],O[p]);s.lineEnd(),s.areaEnd()}m&&(_[h]=+t(g,h,f),O[h]=+e(g,h,f),s.point(n?+n(g,h,f):_[h],r?+r(g,h,f):O[h]))}if(b)return s=null,b+""||null}function u(){return To().defined(i).curve(o).context(a)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),n=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),l):t},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rn(+f),l):n},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),r=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),l):e},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rn(+f),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rn(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),l):o},l.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),l):a},l}function KF(){var t=sv().curve(yw),e=t.curve,r=t.lineX0,n=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return il(r())},delete t.lineX0,t.lineEndAngle=function(){return il(n())},delete t.lineX1,t.lineInnerRadius=function(){return il(i())},delete t.lineY0,t.lineOuterRadius=function(){return il(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(w0(o)):e()._curve},t}var PS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const AS=al(t=>{const{areaPath:e,connectPath:r,areaStyle:n,connectStyle:i}=t.attributes;ie(t).maybeAppend("connect-path",()=>new Ne({})).style("d",r).call(qt,i),ie(t).maybeAppend("area-path",()=>new Ne({})).style("d",e).call(qt,n)});function ZF(t,e){const r=[],n=[],i=[];let a=!1,o=null;const s=t.length/2;for(let c=0;c<s;c++){const l=t[c],u=t[c+s];if([...l,...u].some(f=>!e(f)))a=!0;else{if(r.push(l),n.push(u),a&&o){a=!1;const[f,h]=o;i.push([f,l,h,u])}o=[l,u]}}return[r.concat(n),i]}const si=t=>{const{curve:e,gradient:r=!1,defined:n=o=>!Number.isNaN(o)&&o!==void 0&&o!==null,connectNulls:i=!1}=t,a=PS(t,["curve","gradient","defined","connectNulls"]);return(o,s,c,l)=>{const{mark:u,shape:f,defaultShape:h}=s,d=Gn(l,u,f,h),{defaultColor:p}=d,v=PS(d,["defaultColor"]),{color:g=p,seriesColor:m,seriesX:b,seriesY:_}=s,O=hw(c,s),E=r&&m?uw(m,b,_,r):g,P=Object.assign(Object.assign(Object.assign(Object.assign({},v),{stroke:E,fill:E}),O&&{transform:O}),a),[A,T]=ZF(o,n),C=Wt(P,"connect"),L=!!T.length,N=x=>ie(new Ne({})).style("d",x).call(qt,P).node();if(vn(c)){const x=y=>{const w=c.getCenter(),M=y.slice(0,y.length/2),S=y.slice(y.length/2);return KF().angle((k,I)=>ys(br(M[I],w))).outerRadius((k,I)=>xn(M[I],w)).innerRadius((k,I)=>xn(S[I],w)).defined((k,I)=>[...M[I],...S[I]].every(n)).curve(e)(S)};return!L||i&&!Object.keys(C).length?N(x(A)):L&&!i?N(x(o)):ie(new AS).style("areaStyle",P).style("connectStyle",Object.assign(Object.assign({},C),a)).style("areaPath",x(o)).style("connectPath",T.map(x).join("")).node()}else{const x=y=>{const w=y.slice(0,y.length/2),M=y.slice(y.length/2);return Vn(c)?sv().y((S,k)=>w[k][1]).x1((S,k)=>w[k][0]).x0((S,k)=>M[k][0]).defined((S,k)=>[...w[k],...M[k]].every(n)).curve(e)(w):sv().x((S,k)=>w[k][0]).y1((S,k)=>w[k][1]).y0((S,k)=>M[k][1]).defined((S,k)=>[...w[k],...M[k]].every(n)).curve(e)(w)};return!L||i&&!Object.keys(C).length?N(x(A)):L&&!i?N(x(o)):ie(new AS).style("areaStyle",P).style("connectStyle",Object.assign(Object.assign({},C),a)).style("areaPath",x(o)).style("connectPath",T.map(x).join("")).node()}}};si.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const kS=t=>(e,r,n,i)=>{const a=vn(n)?gw:rl;return si(Object.assign({curve:a},t))(e,r,n,i)};kS.props=Object.assign({},si.props);var QF=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const TS=t=>{const{alpha:e=.5}=t,r=QF(t,["alpha"]);return(n,i,a,o)=>{const s=vn(a)?kw:Pw;return si(Object.assign({curve:s.alpha(e)},r))(n,i,a,o)}};TS.props=Object.assign({},si.props);const LS=t=>(e,r,n,i)=>si(Object.assign({curve:Lw},t))(e,r,n,i);LS.props=Object.assign({},si.props);const CS=t=>(e,r,n,i)=>si(Object.assign({curve:Cw},t))(e,r,n,i);CS.props=Object.assign({},si.props);const NS=t=>(e,r,n,i)=>si(Object.assign({curve:Nw},t))(e,r,n,i);NS.props=Object.assign({},si.props);var RS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const IS=t=>{const{arrowSize:e}=t,r=RS(t,["arrowSize"]);return(n,i,a,o)=>{const{mark:s,shape:c,defaultShape:l}=i,u=Gn(o,s,c,l),{defaultColor:f}=u,h=RS(u,["defaultColor"]),{color:d=f,transform:p}=i,[v,g]=n,m=Mi();if(m.moveTo(...v),m.lineTo(...g),e){const[b,_]=lw(v,g,{arrowSize:e});m.moveTo(...g),m.lineTo(...b),m.moveTo(...g),m.lineTo(..._)}return ie(new Ne).call(qt,h).style("d",m.toString()).style("stroke",d).style("transform",p).call(qt,r).node()}};IS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var DS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const jS=t=>{const e=DS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=Gn(a,o,s,c),{defaultColor:u}=l,f=DS(l,["defaultColor"]),{color:h=u,transform:d}=n,[p,v]=r,g=Mi();return g.moveTo(p[0],p[1]),g.bezierCurveTo(p[0]/2+v[0]/2,p[1],p[0]/2+v[0]/2,v[1],v[0],v[1]),ie(new Ne).call(qt,f).style("d",g.toString()).style("stroke",h).style("transform",d).call(qt,e).node()}};jS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var BS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function JF(t,e,r,n){const i=Mi();if(vn(r)){const a=r.getCenter(),o=xn(t,a),c=(xn(e,a)-o)*n+o;return i.moveTo(t[0],t[1]),nl(i,t,e,a,c),i.lineTo(e[0],e[1]),i}return Vn(r)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*n,t[1]),i.lineTo(t[0]+(e[0]-t[0])*n,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*n),i.lineTo(e[0],t[1]+(e[1]-t[1])*n),i.lineTo(e[0],e[1]),i)}const FS=t=>{const{cornerRatio:e=1/3}=t,r=BS(t,["cornerRatio"]);return(n,i,a,o)=>{const{mark:s,shape:c,defaultShape:l}=i,u=Gn(o,s,c,l),{defaultColor:f}=u,h=BS(u,["defaultColor"]),{color:d=f,transform:p}=i,[v,g]=n,m=JF(v,g,a,e);return ie(new Ne).call(qt,h).style("d",m.toString()).style("stroke",d).style("transform",p).call(qt,r).node()}};FS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var zS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const GS=t=>{const e=zS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=Gn(a,o,s,c),{defaultColor:u}=l,f=zS(l,["defaultColor"]),{color:h=u,transform:d}=n,[p,v]=r,g=Mi();if(g.moveTo(p[0],p[1]),vn(i)){const m=i.getCenter();g.quadraticCurveTo(m[0],m[1],v[0],v[1])}else{const m=aw(p,v),b=xn(p,v)/2;nl(g,p,v,m,b)}return ie(new Ne).call(qt,f).style("d",g.toString()).style("stroke",h).style("transform",d).call(qt,e).node()}};GS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var $S=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const WS=t=>{const e=$S(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=Gn(a,o,s,c),{defaultColor:u}=l,f=$S(l,["defaultColor"]),{color:h=u,src:d="",size:p=32,transform:v=""}=n,{width:g=p,height:m=p}=e,[[b,_]]=r,O=b-Number(g)/2,E=_-Number(m)/2;return ie(new Eu).call(qt,f).style("x",O).style("y",E).style("width",p).style("height",p).style("img",d).style("stroke",h).style("transform",v).call(qt,e).node()}};WS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var YS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function tz(t,e){const r=Mi();if(vn(e)){const n=e.getCenter(),i=[...t,t[0]],a=i.map(o=>xn(o,n));return i.forEach((o,s)=>{if(s===0){r.moveTo(o[0],o[1]);return}const c=a[s],l=t[s-1],u=a[s-1];u!==void 0&&Math.abs(c-u)<1e-10?nl(r,l,o,n,c):r.lineTo(o[0],o[1])}),r.closePath(),r}return TD(r,t)}const HS=t=>{const e=YS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c,color:l,transform:u}=n,f=Gn(a,o,s,c),{defaultColor:h}=f,d=YS(f,["defaultColor"]),p=tz(r,i);return ie(new Ne).call(qt,d).style("d",p.toString()).style("stroke",l||h).style("fill",l||h).style("transform",u).call(qt,e).node()}};HS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var VS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function ez(t,e){const[r,n,i,a]=t,o=Mi();if(vn(e)){const s=e.getCenter(),c=xn(s,r);return o.moveTo(r[0],r[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),nl(o,i,a,s,c),o.quadraticCurveTo(s[0],s[1],n[0],n[1]),nl(o,n,r,s,c),o.closePath(),o}return o.moveTo(r[0],r[1]),o.bezierCurveTo(r[0]/2+i[0]/2,r[1],r[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+n[0]/2,a[1],a[0]/2+n[0]/2,n[1],n[0],n[1]),o.lineTo(r[0],r[1]),o.closePath(),o}const XS=t=>{const e=VS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c,color:l,transform:u}=n,f=Gn(a,o,s,c),{defaultColor:h}=f,d=VS(f,["defaultColor"]),p=ez(r,i);return ie(new Ne).call(qt,d).style("d",p.toString()).style("fill",l||h).style("stroke",l||h).style("transform",u).call(qt,e).node()}};XS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function nz(t,e){const r=Mi();if(!vn(e))r.moveTo(...t[0]),r.lineTo(...t[1]),r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(...t[4]),r.lineTo(...t[5]),r.lineTo(...t[6]),r.lineTo(...t[7]),r.closePath(),r.moveTo(...t[8]),r.lineTo(...t[9]),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(...t[12]),r.lineTo(...t[13]);else{const n=e.getCenter(),[i,a]=n,o=Ji(br(t[0],n)),s=Ji(br(t[1],n)),c=xn(n,t[2]),l=xn(n,t[3]),u=xn(n,t[8]),f=xn(n,t[10]),h=xn(n,t[11]);r.moveTo(...t[0]),r.arc(i,a,c,o,s),r.arc(i,a,c,s,o,!0),r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(...t[4]),r.arc(i,a,l,o,s),r.lineTo(...t[6]),r.arc(i,a,f,s,o,!0),r.closePath(),r.moveTo(...t[8]),r.arc(i,a,u,o,s),r.arc(i,a,u,s,o,!0),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(...t[12]),r.arc(i,a,h,o,s),r.arc(i,a,h,s,o,!0)}return r}const US=t=>{const e=qS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c,color:l,transform:u}=n,f=Gn(a,o,s,c),{defaultColor:h,fill:d=h,stroke:p=h}=f,v=qS(f,["defaultColor","fill","stroke"]),g=nz(r,i);return ie(new Ne).call(qt,v).style("d",g.toString()).style("stroke",p).style("fill",l||d).style("transform",u).call(qt,e).node()}};US.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var KS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function rz(t,e){if(!vn(e))return To().x(n=>n[0]).y(n=>n[1])(t);const r=e.getCenter();return y0()({startAngle:0,endAngle:Math.PI*2,outerRadius:xn(t[0],r),innerRadius:xn(t[1],r)})}function iz(t,e){if(!vn(t))return e;const[r,n]=t.getCenter();return`translate(${r}, ${n}) ${e||""}`}const cv=t=>{const e=KS(t,[]);return(r,n,i,a)=>{const{mark:o,shape:s,defaultShape:c}=n,l=Gn(a,o,s,c),{defaultColor:u,lineWidth:f}=l,h=KS(l,["defaultColor","lineWidth"]),{color:d=u,size:p=f}=n,v=rz(r,i),g=iz(i,n.transform);return ie(new Ne({})).call(qt,h).style("d",v).style("stroke",d).style("lineWidth",p).style("transform",g).call(qt,e).node()}};cv.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var lv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function az(t,e,r){return[["M",t,e],["L",t+2*r,e-r],["L",t+2*r,e+r],["Z"]]}function oz(t){return To().x(e=>e[0]).y(e=>e[1])(t)}const sz=al(t=>{const e=t.attributes,{points:r,class:n,endMarker:i=!0,direction:a}=e,o=lv(e,["points","class","endMarker","direction"]),s=Wt(o,"endMarker"),c=oz(r);ie(t).maybeAppend("connector","path").style("path",c).style("markerEnd",i?new Fe({className:"marker",style:Object.assign(Object.assign({},s),{symbol:az})}):null).call(qt,o)});function cz(t,e,r,n=0){const[[i,a],[o,s]]=e;if(Vn(t)){const h=r,d=i+h,p=o+h,v=d+n;return[[d,a],[v,a],[v,s],[p,s]]}const c=-r,l=a+c,u=s+c,f=l+-n;return[[i,l],[i,f],[o,f],[o,u]]}const ZS=t=>{const{offset:e=0,connectLength1:r}=t,n=lv(t,["offset","connectLength1"]);return(i,a,o,s)=>{const{mark:c,shape:l,defaultShape:u}=a,f=Gn(s,c,l,u),{defaultColor:h,connectLength1:d=r}=f,p=lv(f,["defaultColor","connectLength1"]),{color:v,transform:g}=a,m=cz(o,i,e,d);return ie(new sz).call(qt,p).style("points",m).style("stroke",v||h).style("transform",g).call(qt,n).node()}};ZS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function lz(t){return t.replace(/-(\w)/g,function(e,r){return r.toUpperCase()})}function uz(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function fz(t,e,r,n){const i=e.length/2,a=e.slice(0,i),o=e.slice(i);let s=us(a,(d,p)=>Math.abs(d[1]-o[p][1]));s=Math.max(Math.min(s,i-2),1);const c=d=>[a[d][0],(a[d][1]+o[d][1])/2],l=c(s),u=c(s-1),f=c(s+1),h=Ji(br(f,u))/Math.PI*180;return{x:l[0],y:l[1],transform:`rotate(${h}deg)`,textAlign:"center",textBaseline:"middle"}}function QS(t,e,r,n){const{bounds:i}=r,[[a,o],[s,c]]=i,l=s-a,u=c-o,f=h=>{const{x:d,y:p}=h,v=K2(r.x,l),g=K2(r.y,u);return Object.assign(Object.assign({},h),{x:(v||d)+a,y:(g||p)+o})};return f(t==="left"?{x:0,y:u/2,textAnchor:"start",textBaseline:"middle"}:t==="right"?{x:l,y:u/2,textAnchor:"end",textBaseline:"middle"}:t==="top"?{x:l/2,y:0,textAnchor:"center",textBaseline:"top"}:t==="bottom"?{x:l/2,y:u,textAnchor:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAnchor:"start",textBaseline:"top"}:t==="top-right"?{x:l,y:0,textAnchor:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:u,textAnchor:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:l,y:u,textAnchor:"end",textBaseline:"bottom"}:{x:l/2,y:u/2,textAnchor:"center",textBaseline:"middle"})}function JS(t,e,r,n){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=r,c=n.getCenter(),l=bs(n,e,[i,a]),{innerRadius:u,outerRadius:f,startAngle:h,endAngle:d}=l,p=t==="inside"?(h+d)/2:d,v=uv(p,o,s),g=(()=>{const[m,b]=e,_=u+(f-u)*.5,[O,E]=t==="inside"?pl(c,p,_):aw(m,b);return{x:O,y:E}})();return Object.assign(Object.assign({},g),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:v})}function pl(t,e,r){return[t[0]+Math.sin(e)*r,t[1]-Math.cos(e)*r]}function uv(t,e,r){if(!e)return 0;const n=r?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+n}function hz(t,e,r,n){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:c=.5,offset:l=0}=r,u=bs(n,e,[i,a]),{startAngle:f,endAngle:h}=u,d=n.getCenter(),p=(f+h)/2,g={textAlign:"center",textBaseline:"middle",rotate:uv(p,o,s)},{innerRadius:m,outerRadius:b}=u,O=m+(b-m)*c+l,[E,P]=pl(d,p,O);return Object.assign({x:E,y:P},g)}function tE(t,e,r,n){const{bounds:i}=r,[a]=i;return{x:a[0],y:a[1]}}function na(t,e,r,n){const{bounds:i}=r;return i.length===1?tE(t,e,r,n):(Dc(n)?JS:ss(n)?hz:QS)(t,e,r,n)}function dz(t,e,r,n,i){const[a,o]=pl(t,e,r),[s,c]=pl(t,e,n),l=Math.sin(e)>0?1:-1;return[[a,o],[s,c],[s+l*i,c]]}function eE(t,e,r){const n=bs(r,t,[e.y,e.y1]),{innerRadius:i,outerRadius:a}=n;return i+(a-i)}function nE(t,e,r){const n=bs(r,t,[e.y,e.y1]),{startAngle:i,endAngle:a}=n;return(i+a)/2}function fv(t,e,r,n){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:c=o,connectorLength2:l=0,connectorDistance:u=0}=r,f=n.getCenter(),h=nE(e,r,n),d=Math.sin(h)>0?1:-1,p=uv(h,i,a),v={textAlign:d>0||Dc(n)?"start":"end",textBaseline:"middle",rotate:p},g=eE(e,r,n),m=g+(s?c:o),[[b,_],[O,E],[P,A]]=dz(f,h,g,m,s?l:0),T=s?+u*d:0,C=P+T,L=A,N={connector:s,connectorPoints:[[O-C,E-L],[P-C,A-L]]};return Object.assign(Object.assign({x0:b,y0:_,x:P+T,y:A},v),N)}function pz(t,e,r,n){const{bounds:i}=r;return i.length===1?tE(t,e,r,n):(Dc(n)?JS:ss(n)?fv:QS)(t,e,r,n)}var vz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function gz(t,e,r,n){if(!ss(n))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=r,s=vz(fv("outside",e,r,n),[]),c=n.getCenter(),l=eE(e,r,n),u=nE(e,r,n),f=l+i+a,h=Math.sin(u)>0?1:-1,d=c[0]+(f+ +o)*h,{x:p}=s,v=d-p;return s.x+=v,s.connectorPoints[0][0]-=v,s}var mz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function yz(t,e,r,n){if(!ss(n))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=r,s=mz(fv("outside",e,r,n),[]),{x0:c,y0:l}=s,u=n.getCenter(),h=iI(n)+i,d=ys([c-u[0],l-u[1]]),p=Math.sin(d)>0?1:-1,[v,g]=pl(u,d,h);return s.x=v+(a+o)*p,s.y=g,s}var rE=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function bz(t,e){return t!==void 0?t:ss(e)?"inside":Vn(e)?"right":"top"}function xz(t,e,r,n,i){const{position:a}=e,o=bz(a,r),s=n[o==="inside"?"innerLabel":"label"],c=Object.assign({},s,e),l=D[lz(o)];if(!l)throw new Error(`Unknown position: ${o}`);return Object.assign(Object.assign({},s),l(o,t,c,r,i))}const iE=t=>(e,r,n,i)=>{const{text:a,x:o,y:s}=r,c=rE(r,["text","x","y"]),l=xz(e,r,n,i,t),{rotate:u=0,transform:f=""}=l,h=rE(l,["rotate","transform"]);return ie(new OS).call(qt,h).style("text",`${a}`).style("transform",`${f}rotate(${+u}deg)`).style("coordCenter",n.getCenter()).call(qt,c).node()};iE.props={};var aE=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const hv=t=>{const{arrow:e,colorAttribute:r}=t,n=aE(t,["arrow","colorAttribute"]);return(i,a,o,s)=>{const{mark:c,shape:l,defaultShape:u}=a,f=Gn(s,c,l,u),{stroke:h}=f,d=aE(f,["stroke"]),{d:p,color:v}=a;return ie(new Ne).call(qt,d).style("d",p).style(r,v).call(qt,n).node()}};hv.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const oE=t=>hv(Object.assign({colorAttribute:"fill"},t));oE.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const sE=t=>hv(Object.assign({fill:"none",colorAttribute:"stroke"},t));sE.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var _z=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const cE=t=>{const{render:e}=t,r=_z(t,["render"]);return(n,i,a,o)=>{const[[s,c]]=n;return e(Object.assign(Object.assign({},r),{x:s,y:c}))}};cE.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ke={BLACK:"#000",WHITE:"#fff",STROKE:"#416180"},wz="transparent",lE=t=>{const e="#5B8FF9",r={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:ke.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:wz,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:ke.BLACK,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:ke.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:ke.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:ke.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:ke.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:ke.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:ke.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:ke.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:ke.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:ke.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:ke.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{titleFill:ke.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,lineStroke:ke.BLACK,lineStrokeOpacity:.45,lineLineWidth:.5,lineArrow:null,tickStroke:ke.BLACK,tickStrokeOpacity:.25,tickLineWidth:1,tickLength:4,labelFill:ke.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,labelAlign:"horizontal",gridStroke:ke.BLACK,gridStrokeOpacity:.05,gridLineWidth:.5,gridLineDash:[0,0],titleTransformOrigin:"center"},axisTop:{titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelSpacing:8,labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisBottom:{titleSpacing:10,titleTextBaseline:"bottom",labelSpacing:12,labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"},axisLeft:{titleTextBaseline:"middle",titleSpacing:10,titlePosition:"left",titleTransformOrigin:"center",titleTransform:"translate(50%, 0) rotate(-90)",labelSpacing:4,labelDirection:"positive",labelAutoRotate:!1,tickDirection:"positive",gridDirection:"negative"},axisRight:{titleTextBaseline:"top",titleSpacing:0,titlePosition:"right",titleTransformOrigin:"center",titleTransform:"translate(-50%, 0) rotate(-90)",labelSpacing:4,labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisLinear:{titlePosition:"top",titleSpacing:0,gridDirection:"negative",gridConnect:"arc",gridType:"surround",girdClosed:!0},axisRadar:{titlePosition:"start",showTick:!1,showLabel:!1,gridType:"surround",girdClosed:!0,gridStrokeOpacity:.3},legend:{padding:8,showTitle:!1,titleFill:ke.BLACK,titleFillOpacity:.45,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemLabelFill:ke.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemValueFill:ke.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",itemBackgroundFill:"transparent",navButtonFill:ke.BLACK,navButtonFillOpacity:.65,navPageNumFill:ke.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,backgroundFill:"transparent"},continuousLegend:{labelFill:ke.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"normal",handleWidth:10,handleHeight:12,handleMarkerFill:ke.BLACK,handleMarkerFillOpacity:.6,handleMarkerStroke:ke.BLACK,handleMarkerStrokeOpacity:.25,handleMarkerLineWidth:1,handleLabelFill:ke.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",labelShowTick:!0,labelSpacing:8},label:{fill:ke.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:null,offset:12,connectorStroke:ke.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:ke.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:null,offset:0},slider:{trackSize:16,backgroundFill:ke.STROKE,backgroundFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:ke.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:ke.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[2,2,2,2],trackSize:10,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,trackStroke:"none",thumbFill:"#000",thumbFillOpacity:.15,thumbStroke:"none",thumbHighlightedFillOpacity:.2},title:{titleFill:ke.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:ke.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},r,t)};lE.props={};const Se={BLACK:"#fff",WHITE:"#000",STROKE:"#416180"},Oz="#141414",dv=t=>{const e="#5B8FF9",r={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:Se.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:Oz,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:Se.BLACK,lineWidth:1}},text:{text:{fill:Se.BLACK,fillOpacity:.65,fontSize:12,strokeWidth:0,connectorStroke:Se.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:Se.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:Se.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:Se.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:Se.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:Se.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:Se.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:Se.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:Se.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:Se.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{titleFill:Se.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,lineStroke:Se.BLACK,lineStrokeOpacity:.45,lineLineWidth:.5,lineArrow:null,tickStroke:Se.BLACK,tickStrokeOpacity:.25,tickLineWidth:1,tickLength:4,labelFill:Se.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,labelAlign:"horizontal",gridStroke:Se.BLACK,gridStrokeOpacity:.05,gridLineWidth:.5,gridLineDash:[0,0],titleTransformOrigin:"center"},axisTop:{titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelSpacing:8,labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisBottom:{titleSpacing:10,titleTextBaseline:"bottom",labelSpacing:12,labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"},axisLeft:{titleTextBaseline:"middle",titleSpacing:10,titlePosition:"left",titleTransformOrigin:"center",titleTransform:"translate(50%, 0) rotate(-90)",labelSpacing:4,labelDirection:"positive",labelAutoRotate:!1,tickDirection:"positive",gridDirection:"negative"},axisRight:{titleTextBaseline:"top",titleSpacing:0,titlePosition:"right",titleTransformOrigin:"center",titleTransform:"translate(-50%, 0) rotate(-90)",labelSpacing:4,labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisLinear:{titlePosition:"top",titleTextBaseline:"bottom",gridDirection:"negative",gridConnect:"arc",gridType:"surround",girdClosed:!0},axisRadar:{titlePosition:"start",showTick:!1,showLabel:!1,gridType:"surround",girdClosed:!0,gridStrokeOpacity:.3},legend:{padding:8,showTitle:!1,titleFill:Se.BLACK,titleFillOpacity:.45,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemLabelFill:Se.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemValueFill:Se.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",itemBackgroundFill:"transparent",navButtonFill:Se.BLACK,navButtonFillOpacity:.45,navPageNumFill:Se.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,backgroundFill:"transparent"},continuousLegend:{labelFill:Se.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"normal",handleWidth:10,handleHeight:12,handleMarkerFill:Se.BLACK,handleMarkerFillOpacity:.6,handleMarkerStroke:Se.BLACK,handleMarkerStrokeOpacity:.25,handleMarkerLineWidth:1,handleLabelFill:Se.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},label:{fill:Se.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:null,offset:12,connectorStroke:Se.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:Se.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:null,offset:0},slider:{trackSize:16,backgroundFill:Se.STROKE,backgroundFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:Se.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:Se.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:Se.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:Se.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},r,t)};dv.props={},dv.props={};const Ie={BLACK:"#000",WHITE:"#fff",STROKE:"#888"},Sz="transparent",uE=t=>{const e="#4e79a7",r={defaultColor:e,defaultCategory10:"tableau10",defaultCategory20:"tableau10",defaultSize:1,elementActiveStroke:Ie.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:Sz,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1,connectStroke:"#aaa"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0,connectFill:Ie.BLACK,connectFillOpacity:.1}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:"#1D2129",lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:10,strokeWidth:0,connectorStroke:Ie.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:Ie.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:Ie.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:Ie.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:Ie.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:Ie.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:Ie.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:Ie.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:Ie.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:Ie.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{titleFill:Ie.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:12,line:!0,lineStroke:"#888",lineStrokeOpacity:1,lineLineWidth:1,lineArrow:null,tickStroke:Ie.STROKE,tickStrokeOpacity:1,tickLineWidth:1,tickLength:5,labelFill:Ie.BLACK,labelFillOpacity:1,labelFontSize:10,labelAutoRotate:!1,labelFontWeight:"normal",labelSpacing:4,labelAlign:"horizontal",gridStroke:"#ddd",gridStrokeOpacity:1,gridLineWidth:1,gridLineDash:[0,0],titleTransformOrigin:"center"},axisTop:{titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisBottom:{titleSpacing:4,titleTextBaseline:"bottom",labelSpacing:8,labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"},axisLeft:{titleTextBaseline:"middle",titleSpacing:4,titlePosition:"left",titleTransformOrigin:"center",titleTransform:"translate(50%, 0) rotate(-90) translate(0, -50%)",labelSpacing:4,labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"},axisRight:{titleTextBaseline:"top",titleSpacing:0,titlePosition:"right",titleTransformOrigin:"center",titleTransform:"translate(-50%, 0) rotate(-90)",labelSpacing:4,labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"},axisLinear:{titlePosition:"top",titleTextBaseline:"bottom",gridDirection:"negative",gridConnect:"arc",gridType:"surround",girdClosed:!0},axisRadar:{titlePosition:"start",showTick:!1,showLabel:!1,gridType:"surround",girdClosed:!0,gridStrokeOpacity:.3},legend:{padding:8,showTitle:!1,titleFill:Ie.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:4,itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,4],itemLabelFill:Ie.BLACK,itemLabelFillOpacity:1,itemLabelFontSize:10,itemLabelFontWeight:"normal",itemValueFill:Ie.BLACK,itemValueFillOpacity:1,itemValueFontSize:10,itemValueFontWeight:"normal",itemBackgroundFill:"transparent",navButtonFill:Ie.BLACK,navButtonFillOpacity:.45,navButtonSize:6,navPageNumFill:Ie.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:10,backgroundFill:"transparent"},continuousLegend:{showTitle:!1,labelFill:Ie.BLACK,labelFillOpacity:.45,labelFontSize:10,labelFontWeight:"normal",handleWidth:10,handleHeight:12,handleMarkerFill:Ie.BLACK,handleMarkerFillOpacity:.6,handleMarkerStroke:Ie.BLACK,handleMarkerStrokeOpacity:.25,handleMarkerLineWidth:1,handleLabelFill:Ie.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal"},label:{fill:Ie.BLACK,fillOpacity:.65,fontSize:10,fontWeight:"normal",stroke:null,offset:12,connectorStroke:Ie.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:Ie.WHITE,fontSize:10,fillOpacity:.85,fontWeight:"normal",stroke:null,offset:0},slider:{trackSize:16,backgroundFill:Ie.STROKE,backgroundFillOpacity:.05,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:Ie.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:Ie.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:Ie.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:Ie.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},r,t)};uE.props={};function Ez(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Mz(t){return t=Zf(Math.abs(t)),t?t[1]:NaN}function Pz(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Az(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pv(t){if(!(e=kz.exec(t)))throw new Error("invalid format: "+t);var e;return new vv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pv.prototype=vv.prototype;function vv(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tz(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var fE;function Lz(t,e){var r=Zf(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(fE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Zf(t,Math.max(0,e+a-1))[0]}function hE(t,e){var r=Zf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var dE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ez,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hE(t*100,e),r:hE,s:Lz,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pE(t){return t}var vE=Array.prototype.map,gE=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Cz(t){var e=t.grouping===void 0||t.thousands===void 0?pE:Pz(vE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pE:Az(vE.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(f){f=pv(f);var h=f.fill,d=f.align,p=f.sign,v=f.symbol,g=f.zero,m=f.width,b=f.comma,_=f.precision,O=f.trim,E=f.type;E==="n"?(b=!0,E="g"):dE[E]||(_===void 0&&(_=12),O=!0,E="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var P=v==="$"?r:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=v==="$"?n:/[%p]/.test(E)?o:"",T=dE[E],C=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(N){var x=P,y=A,w,M,S;if(E==="c")y=T(N)+y,N="";else{N=+N;var k=N<0||1/N<0;if(N=isNaN(N)?c:T(Math.abs(N),_),O&&(N=Tz(N)),k&&+N==0&&p!=="+"&&(k=!1),x=(k?p==="("?p:s:p==="-"||p==="("?"":p)+x,y=(E==="s"?gE[8+fE/3]:"")+y+(k&&p==="("?")":""),C){for(w=-1,M=N.length;++w<M;)if(S=N.charCodeAt(w),48>S||S>57){y=(S===46?i+N.slice(w+1):N.slice(w))+y,N=N.slice(0,w);break}}}b&&!g&&(N=e(N,1/0));var I=x.length+N.length+y.length,j=I<m?new Array(m-I+1).join(h):"";switch(b&&g&&(N=e(j+N,j.length?m-y.length:1/0),j=""),d){case"<":N=x+N+y+j;break;case"=":N=x+j+N+y;break;case"^":N=j.slice(0,I=j.length>>1)+x+N+y+j.slice(I);break;default:N=j+x+N+y;break}return a(N)}return L.toString=function(){return f+""},L}function u(f,h){var d=l((f=pv(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Mz(h)/3)))*3,v=Math.pow(10,-p),g=gE[8+p/3];return function(m){return d(v*m)+g}}return{format:l,formatPrefix:u}}var Qf,ks,Nz;Rz({thousands:",",grouping:[3],currency:["$",""]});function Rz(t){return Qf=Cz(t),ks=Qf.format,Nz=Qf.formatPrefix,Qf}var Iz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Dz(t){return class extends wc{constructor(e){super(e),this.descriptor=t}connectedCallback(){var e,r;(r=(e=this.descriptor).render)===null||r===void 0||r.call(e,this.attributes,this)}update(e={}){var r,n;this.attr(bt({},this.attributes,e)),(n=(r=this.descriptor).render)===null||n===void 0||n.call(r,this.attributes,this)}}}function mE(t,e,r){return t.querySelector(e)?ie(t).select(e):ie(t).append(r)}function Jf(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function yE(t,e){const r={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};if(e)return Object.assign(Object.assign({},r),e);let{flexDirection:n,justifyContent:i,alignItems:a}=r;const o={top:["row","center","center"],bottom:["row","center","center"],left:["colunm","center","center"],right:["colunm","center","center"],center:["column","center","center"]};return t in o&&([n,i,a]=o[t]),{display:"flex",flexDirection:n,justifyContent:i,alignItems:a}}class bE extends $F{update(e){var r,n;this.attr(e);const{width:i,height:a}=e,o=Iz(e,["width","height"]);(n=(r=this.children)===null||r===void 0?void 0:r[0])===null||n===void 0||n.update(o)}}function vl(t,e){var r;return(r=t.filter(n=>n.getOptions().name===e))===null||r===void 0?void 0:r[0]}var th=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function gv(t){const{innerWidth:e,innerHeight:r}=t.getOptions();return[e,r]}function jz(t){return t.map(e=>{var{value:r}=e,n=th(e,["value"]);return Object.assign({value:1-r},n)})}function Bz(t,e){const{width:r,height:n}=e.getOptions();return i=>{if(!E2(e))return i;const a=t==="bottom"?[i,1]:[0,i],o=e.map(a);if(t==="bottom"){const s=o[0];return new Jn({domain:[0,r],range:[0,1]}).map(s)}else if(t==="left"){const s=o[1];return new Jn({domain:[0,n],range:[0,1]}).map(s)}return i}}function Fz(t,e,r){if(t.getTicks)return t.getTicks();if(!r)return e;const[n,i]=Ba(e,o=>+o),{tickCount:a}=t.getOptions();return r(n,i,a)}function Iet(t){return t==="horizontal"||t===0}function zz(t){return t==="vertical"||t===-Math.PI/2}function Gz(t){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function $z(t,e){const r=e.getOptions(),{innerWidth:n,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:c}=r,[l,u,f]=t==="left"||t==="right"?[a,o,i]:[s,c,n],h=new Jn({domain:[0,1],range:[l/f,1-u/f]});return d=>h.map(d)}function xE(t,e,r,n,i,a,o,s){var c;(r!==void 0||a!==void 0)&&t.update(Object.assign(Object.assign({},r&&{tickCount:r}),a&&{tickMethod:a}));const l=Fz(t,e,a),u=i?l.filter(i):l,f=((c=t.getFormatter)===null||c===void 0?void 0:c.call(t))||n,h=$z(o,s),d=Bz(o,s);if(vn(s)||Vn(s)){const p=u.map((v,g,m)=>{var b,_;const O=((b=t.getBandWidth)===null||b===void 0?void 0:b.call(t,v))/2||0,E=h(t.map(v)+O);return{value:Vn(s)&&((_=t.getTicks)===null||_===void 0?void 0:_.call(t))?1-E:E,label:f(v,g,m),id:String(g)}});return Dc(s)&&o==="center"?jz(p):p}return u.map((p,v,g)=>{var m;const b=((m=t.getBandWidth)===null||m===void 0?void 0:m.call(t,p))/2||0;return{value:d(h(t.map(p)+b)),label:`${f(Gz(p),v,g)}`,id:String(v)}})}function Wz(t,e){const[r,n]=gv(e);return t.includes("bottom")||t.includes("top")?n:r}function Yz(t,e){const r=[];return t&&r.push({type:"hide"}),e&&r.push({type:"rotate",optionalAngles:[0,30,45,60,90]}),r}function Hz(t,e,r,n,i){const{x:a,y:o,width:s,height:c}=e,l=[a+s/2,o+c/2],u=Math.min(s,c)/2,[f,h]=Tp(i),[d,p]=gv(i),v=Math.min(d,p)/2,g={center:l,radius:u,angleRange:[f,h],titleFillOpacity:0,titlePosition:"inner",showLine:!1,showTick:!0,gridLength:(n-r)*v};if(t==="inner"){const[m,b]=gv(i),_=Math.min(m,b)/2;return Object.assign(Object.assign({},g),{labelAlign:"perpendicular",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",labelSpacing:8,tickDirection:"negative",gridDirection:"positive"})}function Vz(t,e,r){return M2(e)||jc(e)?!1:t===void 0?!!r.getTicks:t}function Xz(t,e,r,n){const{x:i,y:a,width:o,height:s}=r;if(t==="bottom")return{startPos:[i,a],endPos:[i+o,a]};if(t==="left")return{startPos:[i+o,a],endPos:[i+o,a+s]};if(t==="right")return{endPos:[i,a+s],startPos:[i,a]};if(t==="top")return{startPos:[i,a+s],endPos:[i+o,a+s]};if(t==="center"){if(e==="vertical")return{startPos:[i+o,a],endPos:[i+o,a+s],showLine:!0};if(e==="horizontal")return{startPos:[i,a+s],endPos:[i+o,a+s],showLine:!0};if(typeof e=="number"){const[c,l]=n.getCenter(),[u,f]=nf(n),[h,d]=Tp(n),p=s/2,v=u*p,g=f*p,[m,b]=[c+i,l+a],[_,O]=[Math.cos(e),Math.sin(e)],E=[m+g*_,b+g*O],P=[m+v*_,b+v*O];return{startPos:E,endPos:P,gridClosed:d-h===360,gridCenter:[c+i,a+l],gridControlAngles:new Array(3).fill(0).map((A,T,C)=>(d-h)/(C.length-1)*T)}}}return{}}const qz=t=>{const{order:e,size:r,position:n,orientation:i,labelFormatter:a=p=>`${p}`,tickFilter:o,tickCount:s,tickMethod:c,title:l,grid:u=!1,important:f={},style:h}=t,d=th(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","title","grid","important","style"]);return([p],v,g,m)=>{const{bbox:b}=v,{domain:_}=p.getOptions(),O=xE(p,_,s,a,o,c,n,g),[E,P]=nf(g),A=Hz(n,b,E,P,g),{axis:T}=m;return new Z0({style:bt({},T,A,Object.assign(Object.assign({type:"arc",data:O,title:Jf(l),showGrid:u},d),f))})}};function Uz(t,e,r,n,i,a){const o=r.axis;let s=r.axisLinear;return["top","right","bottom","left"].includes(i)&&(s=r[`axis${X2(i)}`]),Object.assign({},o,s)}function Kz(t,e,r,n,i,a){const o=Uz(t,e,r,n,i,a);return i==="bottom"?Object.assign(Object.assign({},o),{titlePosition:t.getTicks?"right-bottom":"bottom",titleTransformOrigin:"center",titleTransform:t.getTicks?"translate(-100%, 0)":void 0}):i==="center"?Object.assign(Object.assign({},o),{labelDirection:n==="right"?"negative":"positive",labelTransform:n==="center"?"translate(50%, 0)":"",tickDirection:n==="right"?"negative":"positive",labelSpacing:n==="center"?0:4,titleSpacing:zz(a)?10:0,tick:n==="center"?!1:void 0}):o}const Zz=t=>{const{direction:e="left",important:r={},labelFormatter:n=v=>`${v}`,order:i,orientation:a,position:o,size:s,tickCount:c,tickFilter:l,tickMethod:u,title:f,transform:h,style:d}=t,p=th(t,["direction","important","labelFormatter","order","orientation","position","size","tickCount","tickFilter","tickMethod","title","transform","style"]);return([v],g,m,b)=>{const{bbox:_}=g,{domain:O}=v.getOptions(),E=xE(v,O,c,n,l,u,o,m),P=Kz(v,m,b,e,o,a),{labelAutoRotate:A=!0,labelAutoHide:T=!1,label:C=!0,tick:L=!0,line:N=!1,grid:x}=Object.assign({},P,p),y=Vz(x,m,v),w=Wz(o,m),M=Xz(o,a,_,m),{showLine:S=N}=M,k=th(M,["showLine"]),I=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P),d),{type:"linear",data:E,title:Jf(f),showLabel:C,labelTransforms:Yz(T,A),showGrid:y,showTick:L,gridLength:w}),p),{showLine:!0}),S?null:{lineOpacity:0}),k),r);return new Z0({className:"axis",style:I})}},_E=t=>e=>{const{labelFormatter:r=a=>`${a}`}=e,n=typeof r=="string"?ks(r):r,i=Object.assign(Object.assign({},e),{labelFormatter:n});return(...a)=>t(i)(...a)},Ya=_E(Zz),wE=_E(qz);Ya.props={defaultPosition:"center",defaultSize:45,defaultOrder:0},wE.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0};const OE=t=>Ya(t);OE.props=Object.assign(Object.assign({},Ya.props),{defaultPosition:"bottom"});function Det(){}const SE=t=>Ya(t);SE.props=Object.assign(Object.assign({},Ya.props),{defaultPosition:"left"});var Qz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Jz(t){const e=t%(Math.PI*2);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function tG(t,e,r,n){const{radar:i}=t,{scales:[{name:a}]}=n,[o,s]=Tp(r),{axisRadar:c={}}=e;return Object.assign(Object.assign({},c),{showGrid:a==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((l,u)=>(s-o)/i.count*u)})}const EE=t=>{const{important:e={}}=t,r=Qz(t,["important"]);return(n,i,a,o)=>Ya(Object.assign(Object.assign(Object.assign({},r),Jz(t.orientation)),{important:Object.assign(Object.assign({},tG(t,o,a,i)),e)}))(n,i,a,o)};EE.props=Object.assign(Object.assign({},Ya.props),{defaultPosition:"center"});var eG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function cn(t,e){const r=i=>{if(typeof i!="string")return i;const a=`${t}.${i}`;return e[a]||sf(`Unknown Component: ${a}`)};return[i=>{const{type:a}=i,o=eG(i,["type"]);return r(a)(Object.assign({},o))},r]}var nG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function rG(t,e,r){const[n,i]=[e||100,r||100];switch(t){case"top":case"bottom":case"top-left":case"top-right":case"bottom-left":case"bottom-right":return[1,i];case"left":case"right":return[n,1];default:return[e,r]}}function ME(t,e,r,n,i={}){const[a]=cn("shape",e);return()=>a({type:`point.${t}`})([[0,0],[0,0]],Object.assign({size:6},i),r,n)}function iG(t,e,r,n,i){const a=vl(t,"shape"),{itemMarker:o}=e;if(a&&!o){const{range:s}=a.getOptions();return(c,l)=>ME(s[l],r,n,i,{color:c.color})}return typeof o=="function"?o:(s,c)=>ME(o||"point",r,n,i,{color:s.color})}function aG(t){const e=vl(t,"opacity");if(e){const{range:r}=e.getOptions();return(n,i)=>r[i]}}function oG(t,e,r,n,i){const{labelFormatter:a=l=>`${l}`}=e,o={itemMarker:iG(t,e,r,n,i),itemMarkerOpacity:aG(t)},s=typeof a=="string"?ks(a):a,c=vl(t,"color");return Object.assign(Object.assign({},o),{data:c.getOptions().domain.map(l=>({id:l,label:s(l),color:c.map(l)}))})}const PE=t=>{const{order:e,size:r,position:n,orientation:i,itemMarker:a,labelFormatter:o,dx:s=0,dy:c=0,title:l,gridCol:u,gridRow:f,layout:h}=t,d=nG(t,["order","size","position","orientation","itemMarker","labelFormatter","dx","dy","title","gridCol","gridRow","layout"]);return(p,v,g,m)=>{var b,_,O;const{library:E,bbox:P}=v,{x:A,y:T,width:C,height:L}=P,N=yE(n,(O=(_=(b=v.scales)===null||b===void 0?void 0:b[0])===null||_===void 0?void 0:_.guide)===null||O===void 0?void 0:O.layout),[x,y]=rG(n,f,u),w=Object.assign({orient:["right","left","center"].includes(n)?"vertical":"horizontal",width:C,height:L,gridCol:u!=null?u:y,gridRow:f!=null?f:x,rowPadding:0,colPadding:8,titleText:Jf(l)},oG(p,t,E,g,m)),{legend:M={}}=m,S=new bE({style:Object.assign({x:A+s,y:T+c,width:C,height:L},N)});return S.appendChild(new aF({className:"legend-category",style:Object.assign({},M,w,d)})),S}};PE.props={defaultPosition:"top",defaultOrder:1,defaultSize:40};var sG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function cG(t,e){const r=vl(t,"color"),{domain:n,range:i}=r.getOptions(),{length:a=Ti.props.defaultLength}=e,[o,s]=[n[0],n.slice(-1)[0]];if(r instanceof gs){const l=r.thresholds;if(r instanceof Pf||r instanceof Af)return{data:[o,...l,s].map((f,h)=>({value:f/s,label:f})),color:i};const u=[-1/0,...l,1/0].map((f,h)=>({value:h,label:f}));return{data:u,color:i,labelFilter:(f,h)=>h>0&&h<u.length-1}}const c=vl(t,"opacity");return{data:r.getTicks().map(l=>({value:l})),color:new Array(a).fill(0).map((l,u)=>{const f=(s-o)/(a-1)*u+o,h=r.map(f),d=c?c.map(f):1;return h.replace(/rgb[a]*\(([\d]{1,3}), ([\d]{1,3}), ([\d]{1,3})[\S\s]*\)/,(p,v,g,m)=>`rgba(${v}, ${g}, ${m}, ${d})`)})}}function lG(t){const{position:e="top",size:r,length:n=Ti.props.defaultLength}=t,i={left:["vertical",r,n],right:["vertical",r,n],top:["horizontal",n,r],bottom:["horizontal",n,r]},[a,o,s]=i[e];return{orient:a,width:o,height:s}}const Ti=t=>{const{title:e,dx:r=0,dy:n=0,position:i,layout:a,labelFormatter:o}=t,s=sG(t,["title","dx","dy","position","layout","labelFormatter"]);return(c,l,u,f)=>{var h,d,p;const{bbox:v}=l,{x:g,y:m,width:b,height:_}=v,O=yE(i,(p=(d=(h=l.scales)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.guide)===null||p===void 0?void 0:p.layout),E=new bE({style:Object.assign({x:g+r,y:m+n,width:b,height:_},O)}),{continuousLegend:P={}}=f;return E.appendChild(new yF({style:Object.assign({},P,Object.assign(Object.assign({x:g,y:m,titleText:Jf(e),titleFontSize:12,showHandle:!1,showIndicator:!1,labelAlign:"value",labelFormatter:typeof o=="string"?A=>ks(o)(A.label):o},lG(t)),cG(c,t)),s)})),E}};Ti.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200};const AE=t=>(...e)=>Ti(Object.assign({},{block:!0},t))(...e);AE.props=Object.assign(Object.assign({},Ti.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const kE=t=>Ti(Object.assign({},{type:"size",block:!0,labelShowTick:!1},t));kE.props=Object.assign(Object.assign({},Ti.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const TE=t=>Ti(Object.assign({},{type:"size",labelShowTick:!1,labelFilter:(e,r,n)=>r===0||r===n.length-1},t));TE.props=Object.assign(Object.assign({},Ti.props),{defaultPosition:"top",defaultOrientation:"horizontal"});function LE(t,e,r,n){switch(n){case"center":return{x:t+r/2,y:e,textAlign:"middle"};case"right":return{x:t+r,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const uG=Dz({render(t,e){const{x:r,y:n,width:i,title:a,subtitle:o,spacing:s=2,align:c="left",style:l}=t,u=Wt(l,"title"),f=Wt(l,"subtitle"),d=mE(e,".title","text").attr("className","title").call(qt,Object.assign(Object.assign(Object.assign({},LE(0,n,i,c)),{fontSize:14,textBaseline:"top",text:a}),u)).node().getLocalBounds();mE(e,".sub-title","text").attr("className","sub-title").call(p=>{if(!o)return p.node().remove();p.node().attr(Object.assign(Object.assign(Object.assign({},LE(0,d.max[1]+s,i,c)),{fontSize:12,textBaseline:"top",text:o}),f))})}}),CE=t=>(e,r,n,i)=>{const{x:a,y:o,width:s,height:c}=r.bbox;return new uG({style:bt({},{style:i.title},Object.assign({x:a,y:o,width:s,height:c},t))})};CE.props={defaultPosition:"top",defaultOrder:2,defaultSize:36};function fG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gl(t){let e,r,n;t.length!==2?(e=gn,r=(s,c)=>gn(t(s),c),n=(s,c)=>t(s)-c):(e=t===gn||t===fG?t:hG,r=t,n=t);function i(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const f=l+u>>>1;r(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const f=l+u>>>1;r(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function o(s,c,l=0,u=s.length){const f=i(s,c,l,u-1);return f>l&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function hG(){return 0}const NE=gl(gn),dG=NE.right,pG=NE.left,vG=gl(c6).center;var gG=dG;function mG(t,e,r){return Math.min(r,Math.max(e,t))}function ml(t){return t.getBandWidth}function yl(t,e,r){if(!ml(t))return t.invert(e);const{adjustedRange:n}=t,{domain:i}=t.getOptions(),a=r?-1:0,o=t.getStep(),s=r?n:n.map(u=>u+o),c=pG(s,e),l=mG(c+a,0,i.length-1);return i[l]}function mv(t,e){if(!ml(t))return Si(e);const{domain:r}=t.getOptions(),[n,i]=e,a=r.indexOf(n),o=r.indexOf(i);return r.slice(a,o+1)}var yG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const bl=t=>{const{orient:e,labelFormatter:r,size:n,style:i}=t,a=yG(t,["orient","labelFormatter","size","style"]);return([o],s,c,l)=>{var u;const{bbox:f}=s,{x:h,y:d,width:p,height:v}=f,{slider:g={}}=l,m=((u=o.getFormatter)===null||u===void 0?void 0:u.call(o))||(_=>_),b=typeof r=="string"?ks(r):r;return new WO({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:h,y:d,trackLength:e==="horizontal"?p:v,orient:e,formatter:_=>{const O=b||m,E=yl(o,_,!0);return O(E)}},i),a))})}};bl.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const RE=t=>bl(Object.assign(Object.assign({},t),{orient:"horizontal"}));RE.props=Object.assign(Object.assign({},bl.props),{defaultPosition:"bottom"});const IE=t=>bl(Object.assign(Object.assign({},t),{orient:"vertical"}));IE.props=Object.assign(Object.assign({},bl.props),{defaultPosition:"left"});var bG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const xl=t=>{const{orient:e,labelFormatter:r,style:n}=t,i=bG(t,["orient","labelFormatter","style"]);return(a,o,s,c)=>{const{bbox:l}=o,{x:u,y:f,width:h,height:d}=l,{scrollbar:p={}}=c;return new Nj({className:"scrollbar",style:Object.assign({},p,Object.assign(Object.assign(Object.assign(Object.assign({},n),{x:u,y:f,trackLength:e==="horizontal"?h:d}),i),{orient:e,value:0,contentLength:1500,viewportLength:e==="horizontal"?h:d}))})}};xl.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const DE=t=>xl(Object.assign(Object.assign({},t),{orient:"horizontal"}));DE.props=Object.assign(Object.assign({},xl.props),{defaultPosition:"bottom"});const jE=t=>xl(Object.assign(Object.assign({},t),{orient:"vertical"}));jE.props=Object.assign(Object.assign({},xl.props),{defaultPosition:"left"});class Ts{constructor(e){this.$value=e}static of(e){return new Ts(e)}call(e,...r){return this.$value=e(this.$value,...r),this}value(){return this.$value}}function ci(t,e,r){return Ts.of({}).call(yv,t).call(yv,e).call(yv,r).value()}function yv(t,e){for(const[r,n]of Object.entries(e))n!==void 0&&(t[r]=e[r]);return t}function Ls(t,e){const r={};for(const n of e){const i=t.style[n];i&&(r[n]=i)}return r}const Cs=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"],bv=t=>(r,n,i,a,o)=>{const[s]=r,{height:c}=s.getBoundingClientRect(),{transform:l,fillOpacity:u,strokeOpacity:f,opacity:h}=s.style,[d,p]=Vn(a)?[[0,c],`scale(1, ${1e-4})`]:[[0,0],`scale(${1e-4}, 1)`],v=[{transform:`${l} ${p}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${p}`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h}];s.setOrigin(d);const g=s.animate(v,ci(o,i,t));return g.finished.then(()=>s.setOrigin(0,0)),g},xG=t=>(r,n,i,a,o)=>{const[s]=r,{height:c}=s.getBoundingClientRect(),{transform:l,fillOpacity:u,strokeOpacity:f,opacity:h}=s.style,[d,p]=Vn(a)?[[0,c],`scale(1, ${1e-4})`]:[[0,0],`scale(${1e-4}, 1)`],v=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${p}`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h,offset:.99},{transform:`${l} ${p}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];s.setOrigin(d);const g=s.animate(v,ci(o,i,t));return g.finished.then(()=>s.setOrigin(0,0)),g},BE=t=>(r,n,i,a,o)=>{const[s]=r,{height:c}=s.getBoundingClientRect(),{transform:l,fillOpacity:u,strokeOpacity:f,opacity:h}=s.style,[d,p]=Vn(a)?[[0,0],`scale(${1e-4}, 1)`]:[[0,c],`scale(1, ${1e-4})`],v=[{transform:`${l} ${p}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${p}`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h}];s.setOrigin(d);const g=s.animate(v,ci(o,i,t));return g.finished.then(()=>s.setOrigin(0,0)),g},_G=t=>(r,n,i,a,o)=>{const[s]=r,{height:c}=s.getBoundingClientRect(),{transform:l,fillOpacity:u,strokeOpacity:f,opacity:h}=s.style,[d,p]=Vn(a)?[[0,0],`scale(${1e-4}, 1)`]:[[0,c],`scale(1, ${1e-4})`],v=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${p}`.trimStart(),fillOpacity:u,strokeOpacity:f,opacity:h,offset:.99},{transform:`${l} ${p}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];s.setOrigin(d);const g=s.animate(v,ci(o,i,t));return g.finished.then(()=>s.setOrigin(0,0)),g},FE=t=>(e,r,n,i,a)=>{const[o]=e,{fillOpacity:s,strokeOpacity:c,opacity:l}=o.style,u=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:s,strokeOpacity:c,opacity:l}];return o.animate(u,ci(a,n,t))};FE.props={};const zE=t=>(e,r,n,i,a)=>{const[o]=e,{fillOpacity:s,strokeOpacity:c,opacity:l}=o.style,u=[{fillOpacity:s,strokeOpacity:c,opacity:l},{fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(u,ci(a,n,t))};zE.props={};function xv(t){const{min:e,max:r}=t.getLocalBounds(),[n,i]=e,[a,o]=r,s=o-i,c=a-n;return[n,i,c,s]}function wG(t){const[e,r,n,i]=t;return`
    M ${e} ${r}
    L ${e+n} ${r}
    L ${e+n} ${r+i}
    L ${e} ${r+i}
    Z
  `}function OG(t,e){const[r,n,i,a]=xv(t),o=a/i,s=Math.ceil(Math.sqrt(e/o)),c=Math.ceil(e/s),l=[],u=a/c;let f=0,h=e;for(;h>0;){const d=Math.min(h,s),p=i/d;for(let v=0;v<d;v++){const g=r+v*p,m=n+f*u;l.push(wG([g,m,p,u]))}h-=d,f+=1}return l}function SG(t="pack"){return typeof t=="function"?t:OG}function EG(t,e,r){const[n,i,a,o]=xv(t);GE(e,t);const[s,c,l,u]=xv(e),f=n-s,h=i-c,d=a/l,p=o/u,v=[Object.assign({transform:`translate(${f}, ${h}) scale(${d}, ${p})`},Ls(t,Cs)),Object.assign({transform:"translate(0, 0) scale(1, 1)"},Ls(e,Cs))];return e.animate(v,r)}function GE(t,e){t.__data__=e.__data__,t.className=e.className,e.parentNode.replaceChild(t,e)}function MG(t,e){const{nodeName:r}=t;if(r==="path")return t;const n=new Ne({style:Object.assign(Object.assign({},Ls(t,Cs)),{d:e})});return GE(n,t),n}function $E(t,e){const r=t.indexOf(e),n=t.lastIndexOf(e);return r===n}function PG(t){return!$E(t,"m")||!$E(t,"M")}function WE(t){const e=$y(t);if(!!e&&!PG(e))return e}function _v(t,e,r,n){const{nodeName:i}=e,{nodeName:a}=r,o=WE(e),s=WE(r);if(i===a&&i!=="path"||(o===void 0||s===void 0))return EG(e,r,n);const u=MG(t,o),f=[Object.assign({path:o},Ls(e,Cs)),Object.assign({path:s},Ls(r,Cs))],h=u.animate(f,n);return u.style.transform="scale(1, 1)",u.style.transform="none",h}function AG(t,e,r,n){t.style.visibility="hidden";const i=n(t,e.length);return e.map((a,o)=>{const s=new Ne({style:Object.assign({path:i[o]},Ls(t,Cs))});return _v(a,s,a,r)})}function kG(t,e,r,n){const i=n(e,t.length),{fillOpacity:a,strokeOpacity:o,opacity:s}=e.style,c=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],l=e.animate(c,r);return[...t.map((f,h)=>{const d=new Ne({style:{path:i[h],fill:e.style.fill}});return _v(f,f,d,r)}),l]}const YE=t=>(e,r,n,i,a)=>{const o=SG(t.split),s=ci(a,n,t),{length:c}=e,{length:l}=r;if(c===1&&l===1||c>1&&l>1){const[u]=e,[f]=r;return _v(u,u,f,s)}if(c===1&&l>1){const[u]=e;return AG(u,r,s,o)}if(c>1&&l===1){const[u]=r;return kG(e,u,s,o)}return null};YE.props={};const HE=t=>(CL.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:wt.NUMBER}),(r,n,i,a,o)=>{const[s]=r;if(!vn(a))return bv(t)(r,n,i,a,o);const c=a.getCenter(),{__data__:l,style:u}=s,{radius:f=0,inset:h=0,fillOpacity:d,strokeOpacity:p,opacity:v}=u,{points:g,y:m,y1:b}=l,_=y0().cornerRadius(f).padAngle(h*Math.PI/180),O=bs(a,g,[m,b]),{startAngle:E,endAngle:P}=O,A=new Ne({}),T=N=>{A.attr({d:_(N),transform:`translate(${c[0]}, ${c[1]})`});const x=$y(A);return A.style.transform="none",x},C=[{waveInArcAngle:E+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:E+1e-4,fillOpacity:d,strokeOpacity:p,opacity:v,offset:.01},{waveInArcAngle:P,fillOpacity:d,strokeOpacity:p,opacity:v}],L=s.animate(C,ci(o,i,t));return L.onframe=function(){s.style.path=T(Object.assign(Object.assign({},O),{endAngle:Number(s.style.waveInArcAngle)}))},L.onfinish=function(){s.style.path=T(Object.assign(Object.assign({},O),{endAngle:P}))},L});HE.props={};const TG=t=>(r,n,i,a,o)=>{const[s]=r,{transform:c,fillOpacity:l,strokeOpacity:u,opacity:f}=s.style,h=[{transform:`${c} scale(${1e-4})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${c} scale(${1e-4})`.trimStart(),fillOpacity:l,strokeOpacity:u,opacity:f,offset:.01},{transform:`${c} scale(1)`.trimStart(),fillOpacity:l,strokeOpacity:u,opacity:f}],{width:d,height:p}=s.getBoundingClientRect();s.setOrigin([d/2,p/2]);const v=s.animate(h,ci(o,i,t));return v.finished.then(()=>s.setOrigin(0,0)),v},LG=t=>(r,n,i,a,o)=>{const[s]=r,{transform:c,fillOpacity:l,strokeOpacity:u,opacity:f}=s.style,h=[{transform:`${c} scale(1)`.trimStart()},{transform:`${c} scale(${1e-4})`.trimStart(),fillOpacity:l,strokeOpacity:u,opacity:f,offset:.99},{transform:`${c} scale(${1e-4})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}],{width:d,height:p}=s.getBoundingClientRect();s.setOrigin([d/2,p/2]);const v=s.animate(h,ci(o,i,t));return v.finished.then(()=>s.setOrigin(0,0)),v},VE=t=>(e,r,n,i,a)=>{var o,s;const[c]=e,l=((s=(o=c).getTotalLength)===null||s===void 0?void 0:s.call(o))||0,u=[{lineDash:[0,l]},{lineDash:[l,0]}];return c.animate(u,ci(a,n,t))};VE.props={};const XE=t=>(e,r,n,i,a)=>{const[o]=e,{height:s,width:c}=o.getBoundingClientRect(),l=new Ne({style:{path:`M0,0L${c},0L${c},${s}L0,${s}Z`}});o.appendChild(l),o.style.clipPath=l;const u=bv(t)([l],r,n,i,a);return u.finished.then(()=>{l.remove(),o.style.clipPath=null}),u};XE.props={};const qE=t=>(e,r,n,i,a)=>{const[o]=e,{height:s,width:c}=o.getBoundingClientRect(),l=new Ne({style:{path:`M0,0L${c},0L${c},${s}L0,${s}Z`}});o.appendChild(l),o.style.clipPath=l;const u=BE(t)([l],r,n,i,a);return u.finished.then(()=>{l.remove(),o.style.clipPath=null}),u};qE.props={};var _l=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Ha(t){return ie(t).selectAll(`.${lt}`).nodes().filter(e=>!e.__removed__)}function UE(t,e){return wv(t,e).flatMap(({container:r})=>Ha(r))}function wv(t,e){return e.filter(r=>r!==t&&r.options.parentKey===t.options.key)}function ra(t){return ie(t).select(`.${vt}`).node()}function Ov(t,e){const{offsetX:r,offsetY:n}=e,i=t.getBounds(),{min:[a,o],max:[s,c]}=i,l=r<a||r>s,u=n<o||n>c;return l||u?null:[r-a,n-o]}function Sv(t,e){const{offsetX:r,offsetY:n}=e,[i,a,o,s]=CG(t);return[Math.min(o,Math.max(i,r))-i,Math.min(s,Math.max(a,n))-a]}function CG(t){const e=t.getRenderBounds(),{min:[r,n],max:[i,a]}=e;return[r,n,i,a]}function KE(t){return e=>e.__data__.color}function Ev(t){const{x:e}=t.scale;return r=>{const{x:n}=r.__data__;return e.invert(n)}}function Ns(t){const e=Array.isArray(t)?t:[t],r=new Map(e.flatMap(n=>Array.from(n.markState.keys()).map(a=>[eh(n.key,a.key),a.data])));return n=>{const{index:i,markKey:a,viewKey:o}=n.__data__;return r.get(eh(o,a))[i]}}function ia(t,e=(n,i)=>n,r=(n,i,a)=>n.setAttribute(i,a)){const n="__states__",i="__ordinal__",a=u=>{const{[n]:f=[],[i]:h={}}=u,d=f.reduce((p,v)=>Object.assign(Object.assign({},p),t[v]),h);if(Object.keys(d).length!==0){for(const[p,v]of Object.entries(d)){const g=u.getAttribute(p),m=e(v,u);r(u,p,m),p in h||(h[p]=g)}u[i]=h}},o=u=>{u[n]||(u[n]=[])};return{setState:(u,...f)=>{o(u),u[n]=[...f],a(u)},removeState:(u,...f)=>{o(u);for(const h of f){const d=u[n].indexOf(h);h!==-1&&u[n].splice(d,1)}a(u)},hasState:(u,f)=>(o(u),u[n].indexOf(f)!==-1)}}function NG(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function eh(t,e){return`${t},${e}`}function Rs(t,e){const n=(Array.isArray(t)?t:[t]).flatMap(a=>a.marks.map(o=>[eh(a.key,o.key),o.state])),i={};for(const a of e){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=n.reduce((c,l)=>{const[u,f={}]=l,h=NG(f[o])?s:f[o];for(const[d,p]of Object.entries(h)){const v=c[d],g=(m,b,_,O)=>{const E=eh(O.__data__.viewKey,O.__data__.markKey);return u!==E?v==null?void 0:v(m,b,_,O):typeof p!="function"?p:p(m,b,_,O)};c[d]=g}return c},{})}return i}function wl(t,e){const r=new Map(t.map((i,a)=>[i,a])),n=e?t.map(e):t;return(i,a)=>{if(typeof i!="function")return i;const o=r.get(a),s=e?e(a):a;return i(s,o,n,a)}}function ZE(t){var{link:e=!1,valueof:r=(u,f)=>u,coordinate:n}=t,i=_l(t,["link","valueof","coordinate"]);const a="element-link";if(!e)return[()=>{},()=>{}];const o=u=>u.__data__.points,s=(u,f)=>{const[,h,d]=u,[p,,,v]=f;return[h,p,v,d]};return[u=>{var f;if(u.length<=1)return;const h=Si(u,(d,p)=>{const{x:v}=d.__data__,{x:g}=p.__data__;return v-g});for(let d=1;d<h.length;d++){const p=Mi(),v=h[d-1],g=h[d],[m,b,_,O]=s(o(v),o(g));p.moveTo(...m),p.lineTo(...b),p.lineTo(..._),p.lineTo(...O),p.closePath();const E=Fa(i,C=>r(C,v)),{fill:P=v.getAttribute("fill")}=E,A=_l(E,["fill"]),T=new Ne({className:a,style:Object.assign({d:p.toString(),fill:P,zIndex:-2},A)});(f=v.link)===null||f===void 0||f.remove(),v.parentNode.appendChild(T),v.link=T}},u=>{var f;(f=u.link)===null||f===void 0||f.remove(),u.link=null}]}function QE(t,e,r){const n=i=>{const{transform:a}=t.style;return a?`${a} ${i}`:i};if(vn(r)){const{points:i}=t.__data__,[a,o]=Vn(r)?x0(i):i,s=r.getCenter(),c=br(a,s),l=br(o,s),u=Ji(c),f=iw(c,l),h=u+f/2,d=e*Math.cos(h),p=e*Math.sin(h);return n(`translate(${d}, ${p})`)}return Vn(r)?n(`translate(${e}, 0)`):n(`translate(0, ${-e})`)}function JE(t){var{background:e,scale:r,coordinate:n,valueof:i}=t,a=_l(t,["background","scale","coordinate","valueof"]);const o="element-background";if(!e)return[()=>{},()=>{}];const s=(g,m,b)=>{const _=g.invert(m),O=m+g.getBandWidth(_)/2,E=g.getStep(_)/2,P=E*b;return[O-E+P,O+E-P]},c=(g,m)=>{const{x:b}=r;if(!ml(b))return[0,1];const{__data__:_}=g,{x:O}=_,[E,P]=s(b,O,m);return[E,P]},l=(g,m)=>{const{y:b}=r;if(!ml(b))return[0,1];const{__data__:_}=g,{y:O}=_,[E,P]=s(b,O,m);return[E,P]},u=(g,m)=>{const{padding:b}=m,[_,O]=c(g,b),[E,P]=l(g,b),A=[[_,E],[O,E],[O,P],[_,P]].map(N=>n.map(N)),{__data__:T}=g,{y:C,y1:L}=T;return dw(A,{y:C,y1:L},n,m)},f=(g,m)=>{const{transform:b="scale(1.2, 1.2)",transformOrigin:_="center center",stroke:O=""}=m,E=_l(m,["transform","transformOrigin","stroke"]),P=Object.assign({transform:b,transformOrigin:_,stroke:O},E),A=g.cloneNode(!0);for(const[T,C]of Object.entries(P))A.style[T]=C;return A},h=()=>{const{x:g,y:m}=r;return[g,m].some(ml)};return[g=>{g.background&&g.background.remove();const m=Fa(a,L=>i(L,g)),{fill:b="#CCD6EC",fillOpacity:_=.3,zIndex:O=-2,padding:E=.001}=m,P=_l(m,["fill","fillOpacity","zIndex","padding"]),A=Object.assign(Object.assign({},P),{fill:b,fillOpacity:_,zIndex:O,padding:E}),C=(h()?u:f)(g,A);C.className=o,g.parentNode.appendChild(C),g.background=C},g=>{var m;(m=g.background)===null||m===void 0||m.remove(),g.background=null},g=>g.className===o]}function Is(t,e){const n=t.getRootNode().defaultView.getContextService().getDomElement();n!=null&&n.style&&(n.style.cursor=e)}function RG(t){Is(t,"default")}var IG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function DG(t,{elements:e,datum:r,groupKey:n=u=>u,link:i=!1,background:a=!1,delay:o=60,scale:s,coordinate:c,state:l={}}){var u;const f=e(t),h=new Set(f),d=nn(f,n),p=wl(f,r),[v,g]=ZE(Object.assign({elements:f,valueof:p,link:i,coordinate:c},Wt(l.active,"link"))),[m,b,_]=JE(Object.assign({scale:s,coordinate:c,background:a,valueof:p},Wt(l.active,"background"))),O=bt(l,{active:Object.assign({},((u=l.active)===null||u===void 0?void 0:u.offset)&&{transform:(...w)=>{const M=l.active.offset(...w),[,S]=w;return QE(f[S],M,c)}})}),{setState:E,removeState:P,hasState:A}=ia(O,p);let T;const C=w=>{const{target:M}=w;if(!h.has(M))return;T&&clearTimeout(T);const S=n(M),k=d.get(S),I=new Set(k);for(const j of f)I.has(j)?A(j,"active")||E(j,"active"):(E(j,"inactive"),g(j)),j!==M&&b(j);m(M),v(k)},L=()=>{T&&clearTimeout(T),T=setTimeout(()=>{N(),T=null},o)},N=()=>{for(const w of f)P(w,"active","inactive"),b(w),g(w)},x=w=>{const{target:M}=w;a&&!_(M)||!a&&!h.has(M)||(o>0?L():N())},y=()=>{N()};return t.addEventListener("pointerover",C),t.addEventListener("pointerout",x),t.addEventListener("pointerleave",y),()=>{t.removeEventListener("pointerover",C),t.removeEventListener("pointerout",x),t.removeEventListener("pointerleave",y);for(const w of f)b(w),g(w)}}function Mv(t){var{delay:e,createGroup:r,background:n=!1,link:i=!1}=t,a=IG(t,["delay","createGroup","background","link"]);return o=>{const{container:s,view:c,options:l}=o,{scale:u,coordinate:f}=c,h=ra(s);return DG(h,Object.assign({elements:Ha,datum:Ns(c),groupKey:r?r(c):void 0,coordinate:f,scale:u,state:Rs(l,[["active",n?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:n,link:i,delay:e},a))}}function jG(t){return Mv(Object.assign(Object.assign({},t),{createGroup:Ev}))}function BG(t){return Mv(Object.assign(Object.assign({},t),{createGroup:KE}))}var FG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function zG(t,{elements:e,datum:r,groupKey:n=u=>u,link:i=!1,single:a=!1,coordinate:o,background:s=!1,scale:c,state:l={}}){var u;const f=e(t),h=new Set(f),d=nn(f,n),p=wl(f,r),[v,g]=ZE(Object.assign({link:i,elements:f,valueof:p,coordinate:o},Wt(l.selected,"link"))),[m,b]=JE(Object.assign({background:s,coordinate:o,scale:c,valueof:p},Wt(l.selected,"background"))),_=bt(l,{selected:Object.assign({},((u=l.selected)===null||u===void 0?void 0:u.offset)&&{transform:(...N)=>{const x=l.selected.offset(...N),[,y]=N;return QE(f[y],x,o)}})}),{setState:O,removeState:E,hasState:P}=ia(_,p),A=()=>{for(const N of f)E(N,"selected","unselected"),g(N),b(N)},T=N=>{if(P(N,"selected"))A();else{const x=n(N),y=d.get(x),w=new Set(y);for(const M of f)w.has(M)?O(M,"selected"):(O(M,"unselected"),g(M)),M!==N&&b(M);v(y),m(N)}},C=N=>{const x=n(N),y=d.get(x),w=new Set(y);if(P(N,"selected")){if(!f.some(S=>!w.has(S)&&P(S,"selected")))return A();for(const S of y)O(S,"unselected"),g(S),b(S)}else{const M=y.some(S=>P(S,"selected"));for(const S of f)w.has(S)?O(S,"selected"):P(S,"selected")||O(S,"unselected");!M&&i&&v(y),m(N)}},L=N=>{const{target:x}=N;return h.has(x)?a?T(x):C(x):A()};return t.addEventListener("click",L),()=>{t.removeEventListener("click",L);for(const N of f)g(N)}}function Pv(t){var{createGroup:e,background:r=!1,link:n=!1}=t,i=FG(t,["createGroup","background","link"]);return a=>{const{container:o,view:s,options:c}=a,{coordinate:l,scale:u}=s,f=ra(o);return zG(f,Object.assign({elements:Ha,datum:Ns(s),groupKey:e?e(s):void 0,coordinate:l,scale:u,state:Rs(c,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:n},i))}}function GG(t){return Pv(Object.assign(Object.assign({},t),{createGroup:Ev}))}function $G(t){return Pv(Object.assign(Object.assign({},t),{createGroup:KE}))}var WG=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},YG=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function HG(t){const{transform:e=[]}=t,r=e.find(i=>i.type==="normalizeY");if(r)return r;const n={type:"normalizeY"};return e.push(n),t.transform=e,n}function VG(t,e,r){const[n]=Array.from(t.entries()).filter(([i])=>i.type===e).map(([i])=>{const{encode:a}=i,o=s=>{const c=a[s];return[s,c?c.value:void 0]};return Object.fromEntries(r.map(o))});return n}function XG(t){var{wait:e=20,leading:r,trailing:n=!1,labelFormatter:i=o=>`${o}`}=t,a=YG(t,["wait","leading","trailing","labelFormatter"]);return o=>{const{options:s,view:c,container:l,update:u}=o,{markState:f,scale:h,coordinate:d}=c,p=VG(f,"line",["x","y","series"]);if(!p)return;const{y:v,x:g,series:m=[]}=p,b=v.map((K,Q)=>Q),_=Si(b.map(K=>g[K])),O=bt({},s),E=O.marks.find(K=>K.type==="line"),A=Zn(Ap(b,K=>Zn(K,Q=>+v[Q])/ni(K,Q=>+v[Q]),K=>m[K]).values()),T=[1/A,A];bt(E,{scale:{y:{domain:T}}});const C=ra(l),L=l.getElementsByClassName(lt),N=l.getElementsByClassName(ne),y=nn(N,K=>K.__data__.key.split("-")[0]),w=new Oc({style:Object.assign({x1:0,y1:0,x2:0,y2:C.getAttribute("height"),stroke:"black",lineWidth:1},Wt(a,"rule"))}),M=new wi({style:Object.assign({x:0,y:C.getAttribute("height"),text:"",fontSize:10},Wt(a,"label"))});w.append(M),C.appendChild(w);const S=(K,Q,dt)=>{const[Ct]=K.invert(dt),Nt=Q.invert(Ct);return _[vG(_,Nt)]},k=(K,Q)=>{w.setAttribute("x1",K[0]),w.setAttribute("x2",K[0]),M.setAttribute("text",i(Q))};let I;const j=K=>WG(this,void 0,void 0,function*(){const{x:Q}=h,dt=S(d,Q,K);k(K,dt);const Ct=HG(E);Ct.groupBy="color",Ct.basis=(ee,Yt)=>{const Rt=ee[gl(Ut=>g[+Ut]).center(ee,dt)];return Yt[Rt]};for(const ee of O.marks)ee.animate=!1;I=(yield u(O)).view}),F=K=>{const{scale:Q,coordinate:dt}=I,{x:Ct,y:Nt}=Q,ee=S(dt,Ct,K);k(K,ee);for(const Yt of L){const{seriesIndex:Rt,key:Ut}=Yt.__data__,fe=Rt[gl(Bi=>g[+Bi]).center(Rt,ee)],ln=[0,Nt.map(1)],Ln=[0,Nt.map(v[fe]/v[Rt[0]])],[,wr]=dt.map(ln),[,Or]=dt.map(Ln),Zr=wr-Or;Yt.setAttribute("transform",`translate(0, ${Zr})`);const Za=y.get(Ut)||[];for(const Bi of Za)Bi.setAttribute("dy",Zr)}},X=Lc(K=>{const Q=Ov(C,K);!Q||F(Q)},e,{leading:r,trailing:n});return j([0,0]),C.addEventListener("pointerenter",X),C.addEventListener("pointermove",X),C.addEventListener("pointerleave",X),()=>{w.remove(),C.removeEventListener("pointerenter",X),C.removeEventListener("pointermove",X),C.removeEventListener("pointerleave",X)}}}function qG(t){const{coordinate:e={}}=t,{transform:r=[]}=e,n=r.find(a=>a.type==="fisheye");if(n)return n;const i={type:"fisheye"};return r.push(i),e.transform=r,t.coordinate=e,i}function UG({wait:t=30,leading:e,trailing:r=!1}){return n=>{const{options:i,update:a,container:o}=n,s=ra(o),c=bt({},i);for(const u of c.marks)u.animate=!1;const l=Lc(u=>{const f=Ov(s,u);if(!f)return;const[h,d]=f,p=qG(c);p.focusX=h,p.focusY=d,p.isVisual=!0,a(c)},t,{leading:e,trailing:r});return s.addEventListener("pointerenter",l),s.addEventListener("pointermove",l),s.addEventListener("pointerleave",l),()=>{s.removeEventListener("pointerenter",l),s.removeEventListener("pointermove",l),s.removeEventListener("pointerleave",l)}}}function nh(t,e){let r=0,n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++r,n+=a)}if(r)return n/r}var Ol=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function KG(t){return t.getRootNode().defaultView.getConfig().container}function ZG(t,e,r){const n=t.getBounds(),{min:[i,a],max:[o,s]}=n,c=new SF({className:"tooltip",style:{x:e,y:r,container:{x:0,y:0},items:[],bounding:{x:i,y:a,width:o-i,height:s-a},title:" ",position:"bottom-right",offset:[10,10],style:{".tooltip":{},".tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}}}});return KG(t).appendChild(c.HTMLTooltipElement),c}function tM(t,e,r,n,i,a){const{tooltipElement:o=ZG(t,r,n)}=t,{items:s,title:c}=e;o.show(),o.position=[r,n],o.update(Object.assign({items:s,title:c},i!==void 0&&{customContent:i(a,{items:s,title:c})})),t.tooltipElement=o}function eM(t){const{tooltipElement:e}=t;e&&e.hide()}function nM(t){const{tooltipElement:e}=t;e&&(e.destroy(),t.tooltipElement=void 0)}function QG(t){const{__data__:e}=t,{title:r,items:n=[]}=e,i=n.map(a=>{var{color:o=rM(t)}=a,s=Ol(a,["color"]);return Object.assign(Object.assign({},s),{color:o})});return Object.assign(Object.assign({},r&&{title:r}),{items:i})}function JG(t,e){const{color:r,series:n}=t,{color:i,series:a}=e,o=s=>s&&s.invert&&!(s instanceof Sf)&&!(s instanceof Of);return o(r)?r.invert(i):o(n)?n.invert(a):null}function rM(t){const e=t.getAttribute("fill"),r=t.getAttribute("stroke"),{__data__:n}=t,{color:i=e||r}=n;return i}function jet(t){return isStrictObject(t)?t:t==null?{value:t}:{value:`${t}`}}function t$(t){const e=new Map(t.map(r=>[r instanceof Date?+r:r,r]));return Array.from(e.values())}function iM(t,e,r=t.map(n=>n.__data__)){const n=t$(r.map(a=>a.title)).filter(zn),i=r.flatMap((a,o)=>{const s=t[o],{items:c=[],title:l}=a;return c.map(u=>{var{color:f=rM(s),name:h}=u,d=Ol(u,["color","name"]);return Object.assign(Object.assign({},d),{color:f,name:JG(e,a)||h||l})})});return Object.assign(Object.assign({},n.length>0&&{title:n.join(",")}),{items:i})}function e$(t,e,r){var{height:n,startX:i,startY:a}=r,o=Ol(r,["height","startX","startY"]);const s=e.map(v=>v[0]),c=nh(s),l=c+i,u=c+i,f=a,h=n-a,d=()=>{const v=new Oc({style:Object.assign({x1:l,x2:u,y1:f,y2:h,lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},o)});return t.appendChild(v),v},p=t.ruleY||d();p.style.x1=l,p.style.x2=u,p.style.y1=f,p.style.y2=h,t.ruleY=p}function aM(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function n$(t){const e=t.getBounds(),{min:[r,n],max:[i,a]}=e;return[i-r,a-n]}function oM(t,e){return Array.from(t.values()).some(r=>{var n;return(n=r.interaction)===null||n===void 0?void 0:n[e]})}function Av(t,e){return t===void 0?e:t}function sM(t,e){var{elements:r,wait:n=50,leading:i=!0,trailing:a=!1,scale:o,coordinate:s,crosshairs:c,item:l,render:u,startX:f=0,startY:h=0}=e,d=Ol(e,["elements","wait","leading","trailing","scale","coordinate","crosshairs","item","render","startX","startY"]);const p=r(t),[,v]=n$(t),g=[],m=[];for(const w of p){const{__data__:M}=w,{seriesX:S}=M;S?g.push(w):m.push(w)}g.sort((w,M)=>{const S=k=>k.getBounds().min[1];return S(w)-S(M)});const b=new Map(g.map(w=>{const{__data__:M}=w,{seriesX:S}=M,k=S.map((j,F)=>F),I=Si(k,j=>S[+j]);return[w,[I,S]]})),_=m.map((w,M)=>M),O=m.map(w=>{const{__data__:M}=w;return M.x}),E=Si(_,w=>O[w]),P=Wt(d,"crosshairs"),{x:A}=o,T=A!=null&&A.getBandWidth?A.getBandWidth()/2:0,C=(w,M,S)=>{const[k]=s.invert(w),I=k-T,[j,F]=Si([S[0],S[S.length-1]]);if(I<j||I>F)return null;const X=gl(Q=>S[+Q]).center,K=X(M,I);return M[K]},L=(w,M)=>{const S=w[0],k=I=>{const{min:j,max:F}=I.getLocalBounds();return Si([j[0],F[0]])};return M.filter(I=>{const[j,F]=k(I);return S>=j&&S<=F})},N=(w,M)=>{const{__data__:S}=w;return Object.fromEntries(Object.entries(S).filter(([k])=>k.startsWith("series")&&k!=="series").map(([k,I])=>{const j=I[M];return[Wb(k.replace("series","")),j]}))},x=Lc(w=>{const M=Ov(t,w);if(!M)return;const S=t.getBounds(),k=S.min[0],I=S.min[1],j=[M[0]-f,M[1]-h];if(!j)return;const F=L(j,m),X=[],K=[];for(const Nt of g){const[ee,Yt]=b.get(Nt),Rt=C(j,ee,Yt);if(Rt!==null){X.push(Nt);const Ut=N(Nt,Rt),{x:fe,y:ln}=Ut,Ln=s.map([fe+T,ln]);K.push([Ut,Ln])}}const Q=[...K.map(Nt=>Nt[0]),...F.map(Nt=>Nt.__data__)],dt=[...X,...F],Ct=iM(dt,o,Q);if(dt.length===0){y();return}if(tM(t,Ct,M[0]+k,M[1]+I,u,w),c){const Nt=K.map(ee=>ee[1]);e$(t,Nt,Object.assign(Object.assign({},P),{height:v,startX:f,startY:h}))}},n,{leading:i,trailing:a}),y=()=>{eM(t),c&&aM(t)};return t.addEventListener("pointerenter",x),t.addEventListener("pointermove",x),t.addEventListener("pointerleave",y),()=>{t.removeEventListener("pointerover",x),t.removeEventListener("pointerout",x),t.removeEventListener("pointerleave",y),nM(t),c&&aM(t)}}function r$(t,{elements:e,scale:r,render:n,wait:i=50,leading:a=!0,trailing:o=!1,groupKey:s=c=>c}){const c=e(t),l=new Set(c),u=nn(c,s),f=Lc(d=>{const{target:p}=d;if(!l.has(p))return;const v=s(p),g=u.get(v),m=g.length===1?QG(g[0]):iM(g,r),{offsetX:b,offsetY:_}=d;tM(t,m,b,_,n,d)},i,{leading:a,trailing:o}),h=d=>{const{target:p}=d;!l.has(p)||eM(t)};return t.addEventListener("pointerover",f),t.addEventListener("pointermove",f),t.addEventListener("pointerout",h),()=>{t.removeEventListener("pointerover",f),t.removeEventListener("pointermove",f),t.removeEventListener("pointerout",h),nM(t)}}function i$(t){const{shared:e,crosshairs:r,series:n,name:i,item:a=()=>({}),facet:o=!1}=t,s=Ol(t,["shared","crosshairs","series","name","item","facet"]);return(c,l)=>{const{container:u,view:f}=c,{scale:h,markState:d,coordinate:p}=f,v=oM(d,"seriesTooltip"),g=oM(d,"crosshairs"),m=ra(u),b=Av(n,v);if(b&&!o)return sM(m,Object.assign(Object.assign({},s),{elements:Ha,scale:h,coordinate:p,crosshairs:Av(r,g),item:a}));if(b&&o){const _=l.filter(C=>C!==c&&C.options.parentKey===c.options.key),O=UE(c,l),E=_[0].view.scale,P=m.getBounds(),A=P.min[0],T=P.min[1];return sM(m.parentNode.parentNode,Object.assign(Object.assign({},s),{elements:()=>O,scale:E,coordinate:p,crosshairs:Av(r,g),item:a,startX:A,startY:T}))}return r$(m,Object.assign(Object.assign({},s),{elements:Ha,scale:h,coordinate:p,groupKey:e?Ev(f):void 0,item:a}))}}var cM=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},a$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const o$="legend-category",s$="items-item",c$="legend-category-item-marker",l$="legend-category-item-label";function lM(t){return t.getElementsByClassName(c$)[0]}function uM(t){return t.getElementsByClassName(l$)[0]}function fM(t){return t.getElementsByClassName(s$)}function hM(t){return t.getElementsByClassName(o$)}function dM(t){let e=t.parentNode;for(;e&&!e.__data__;)e=e.parentNode;return e.__data__}function u$(t){let e=t;for(;e&&!e.attr("class").startsWith("legend");)e=e.children[0];return e.attributes}function f$(t){const{data:e}=u$(t),{name:r}=dM(t).scales[0];return[r,{legends:fM,marker:lM,label:uM,datum:n=>{const{__data__:i}=n,{index:a}=i;return e[a].label}}]}function h$(t,{legends:e,marker:r,label:n,datum:i,filter:a,setAttribute:o,state:s={}}){const c=new Map,l=new Map,u=new Map,{unselected:f={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=s,h={unselected:Wt(f,"marker")},d={unselected:Wt(f,"label")},{setState:p,removeState:v}=ia(h,void 0,o),{setState:g,removeState:m}=ia(d,void 0,o),b=Array.from(e(t)),_=b.map(i),O=()=>{for(const E of b){const P=i(E),A=r(E),T=n(E);_.includes(P)?(v(A,"unselected"),m(T,"unselected")):(p(A,"unselected"),g(T,"unselected"))}};for(const E of b){const P=()=>{Is(t,"pointer")},A=()=>{RG(t)},T=()=>cM(this,void 0,void 0,function*(){const C=i(E),L=_.indexOf(C);L===-1?_.push(C):_.splice(L,1),_.length===0&&_.push(...b.map(i)),yield a(_),O()});E.addEventListener("click",T),E.addEventListener("pointerenter",P),E.addEventListener("pointerout",A),c.set(E,T),l.set(E,P),u.set(E,A)}return()=>{for(const E of b)E.removeEventListener("click",c.get(E)),E.removeEventListener("pointerenter",l.get(E)),E.removeEventListener("pointerout",u.get(E))}}function d$(t){var{channel:e}=t,r=a$(t,["channel"]);return n=>{const{container:i,view:a,options:o,update:s}=n,c=hM(i),l=e?c.find(h=>{const{__data__:d}=h.parentNode;return d.scale.name===e}):c[0],[u,f]=l?f$(l):[null,{}];return u&&(e=u),h$(i,Object.assign(Object.assign(Object.assign({},f),{filter:h=>cM(this,void 0,void 0,function*(){const{scale:d}=a,{[e]:p}=d,{marks:v}=o,g=v.map(b=>{const{transform:_=[]}=b,O=[{type:"filter",[e]:h},..._];return bt({},b,{transform:O,scale:{[e]:{domain:p.getOptions().domain}}})}),m=Object.assign(Object.assign({},o),{marks:g});return s(m)}),state:l.attributes.state}),r))}}function p$(){return t=>{const{container:e,view:r,options:n}=t,i=hM(e),a=Ha(e),o=u=>dM(u).scales[0].name,s=u=>{const{scale:{[u]:f}}=r;return f},c=Rs(n,["active","inactive"]),l=wl(a,Ns(r));for(const u of i){const f=y=>{const{data:w}=u.attributes,{__data__:M}=y,{index:S}=M;return w[S].label},h=o(u),d=fM(u),p=s(h),v=nn(a,y=>p.invert(y.__data__[h])),{state:g={}}=u.attributes,{inactive:m={}}=g,{setState:b,removeState:_}=ia(c,l),O={inactive:Wt(m,"marker")},E={inactive:Wt(m,"label")},{setState:P,removeState:A}=ia(O),{setState:T,removeState:C}=ia(E),L=y=>{for(const w of d){const M=lM(w),S=uM(w);w===y||y===null?(A(M,"inactive"),C(S,"inactive")):(P(M,"inactive"),T(S,"inactive"))}},N=new Map;for(const y of d){const w=()=>{const M=f(y),S=new Set(v.get(M));for(const k of a)S.has(k)?b(k,"active"):b(k,"inactive");L(y)};y.addEventListener("pointerover",w),N.set(y,w)}const x=()=>{for(const y of a)_(y,"inactive","active");L(null)};return u.addEventListener("pointerleave",x),()=>{u.removeEventListener(x);for(const[y,w]of N)y.removeEventListener(w)}}}}var kv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function v$(t,e){const[r,n,i,a]=t,[o,s,c,l]=e;return!(o>i||c<r||s>a||l<n)}function g$(t,e,r,n,i){const[a,o,s,c]=i;return[Math.max(a,Math.min(t,r)),Math.max(o,Math.min(e,n)),Math.min(s,Math.max(t,r)),Math.min(c,Math.max(e,n))]}function m$(t){const{width:e,height:r}=t.getBBox();return[0,0,e,r]}function Tv(t,e){var{brushed:r=()=>{},brushended:n=()=>{},brushcreated:i=()=>{},extent:a=m$(t),brushRegion:o=(F,X,K,Q,dt)=>[F,X,K,Q],reverse:s=!1,fill:c="#777",fillOpacity:l="0.3",stroke:u="#fff"}=e,f=kv(e,["brushed","brushended","brushcreated","extent","brushRegion","reverse","fill","fillOpacity","stroke"]);let h=null,d=null,p=null,v=null,g=null,m=!1;const[b,_,O,E]=a;Is(t,"crosshair"),t.style.draggable=!0;const P=(F,X)=>{if(v&&v.remove(),g&&g.remove(),h=[F,X],s)return A();T()},A=()=>{g=new Ne({style:Object.assign(Object.assign({},f),{fill:c,fillOpacity:l,stroke:u,pointerEvents:"none"})}),v=new Br({style:{draggable:!0,fill:"transparent"},className:"mask"}),t.appendChild(g),t.appendChild(v)},T=()=>{v=new Br({style:Object.assign(Object.assign({},f),{fill:c,fillOpacity:l,stroke:u,draggable:!0}),className:"mask"}),t.appendChild(v)},C=()=>{v&&v.remove(),g&&g.remove(),h=null,d=null,p=null,m=!1,v=null,g=null,n()},L=(F,X)=>{const[K,Q,dt,Ct]=g$(F[0],F[1],X[0],X[1],a),[Nt,ee,Yt,Rt]=o(K,Q,dt,Ct,a);return s?x(Nt,ee,Yt,Rt):N(Nt,ee,Yt,Rt),r(Nt,ee,Yt,Rt),[Nt,ee,Yt,Rt]},N=(F,X,K,Q)=>{v.style.x=F,v.style.y=X,v.style.width=K-F,v.style.height=Q-X},x=(F,X,K,Q)=>{g.style.d=`
      M${b},${_}L${O},${_}L${O},${E}L${b},${E}Z
      M${F},${X}L${F},${Q}L${K},${Q}L${K},${X}Z
    `,v.style.x=F,v.style.y=X,v.style.width=K-F,v.style.height=Q-X},y=F=>{const X=(Yt,Rt,Ut,fe,ln)=>Yt+Rt<fe?fe-Rt:Yt+Ut>ln?ln-Ut:Yt,K=F[0]-p[0],Q=F[1]-p[1],dt=X(K,h[0],d[0],b,O),Ct=X(Q,h[1],d[1],_,E),Nt=[h[0]+dt,h[1]+Ct],ee=[d[0]+dt,d[1]+Ct];L(Nt,ee)},w=F=>{const{target:X}=F,[K,Q]=Sv(t,F);if(X===v){p=[K,Q];return}P(K,Q),m=!0},M=F=>{const X=Sv(t,F);if(!!h){if(p)return y(X);L(h,X)}},S=F=>{if(p){p=null;const{x:Ct,y:Nt,width:ee,height:Yt}=v.style;h=[Ct,Nt],d=[Ct+ee,Nt+Yt];return}d=Sv(t,F);const[X,K,Q,dt]=L(h,d);m=!1,i(X,K,Q,dt)},k=F=>{const{target:X}=F;v&&X!==v&&C()},I=F=>{const{target:X}=F;X===v&&!m?Is(t,"move"):Is(t,"crosshair")},j=()=>{Is(t,"default")};return t.addEventListener("dragstart",w),t.addEventListener("drag",M),t.addEventListener("dragend",S),t.addEventListener("click",k),t.addEventListener("pointermove",I),t.addEventListener("pointerleave",j),{mask:v,remove(){v&&C()},destroy(){v&&C(),t.removeEventListener("dragstart",w),t.removeEventListener("drag",M),t.removeEventListener("dragend",S),t.removeEventListener("click",k),t.removeEventListener("pointermove",I),t.removeEventListener("pointerleave",j)}}}function Lv(t,e,r){return e.filter(n=>{if(n===t)return!1;const{interaction:i={}}=n.options;return Object.values(i).find(a=>a.brushKey===r)})}function y$(t,e,r){return Lv(t,e,r).map(n=>ra(n.container))}function b$(t,e,r){return Lv(t,e,r).map(n=>n.options)}function pM(t,e){var{elements:r,siblings:n=w=>[],datum:i,brushRegion:a,extent:o,reverse:s,series:c=!1,key:l=w=>w,bboxOf:u=w=>{const{x:M,y:S,width:k,height:I}=w.style;return{x:M,y:S,width:k,height:I}},state:f={}}=e,h=kv(e,["elements","siblings","datum","brushRegion","extent","reverse","series","key","bboxOf","state"]);const d=r(t),p=n(t),v=p.flatMap(r),g=wl(d,i),m=Wt(h,"mask"),{setState:b,removeState:_}=ia(f,g),O=new Map,{width:E,height:P,x:A,y:T}=u(t),C=o||[0,0,E,P],L=()=>{for(const w of[...d,...v])_(w,"active","inactive")},N=(w,M,S,k)=>{var I;for(const F of p)(I=F.brush)===null||I===void 0||I.remove();const j=new Set;for(const F of d){const{min:X,max:K}=F.getLocalBounds(),[Q,dt]=X,[Ct,Nt]=K;v$([Q,dt,Ct,Nt],[w,M,S,k])?(b(F,"active"),j.add(l(F))):b(F,"inactive")}for(const F of v)j.has(l(F))?b(F,"active"):b(F,"inactive")},x=()=>{for(const w of d)_(w,"inactive");for(const w of O.values())w.remove();O.clear()},y=(w,M,S,k)=>{const I=j=>{const F=j.cloneNode();return F.__data__=j.__data__,j.parentNode.appendChild(F),O.set(j,F),F};for(const j of d){const F=O.get(j)||I(j);F.style.clipPath=new Br({style:{x:w+A,y:M+T,width:S-w,height:k-M}}),b(j,"inactive"),b(F,"active")}};return Tv(t,Object.assign(Object.assign({},m),{extent:C,brushRegion:a,reverse:s,brushended:c?x:L,brushed:c?y:N}))}function Cv(t){var{facet:e,brushKey:r}=t,n=kv(t,["facet","brushKey"]);return(i,a)=>{const{container:o,view:s,options:c}=i,l=ra(o),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]];if(e){const d=l.getBounds(),p=d.min[0],v=d.min[1],g=d.max[0],m=d.max[1];return pM(l.parentNode.parentNode,Object.assign(Object.assign({elements:()=>UE(i,a),datum:Ns(wv(i,a).map(b=>b.view)),brushRegion:(b,_,O,E)=>[b,_,O,E],extent:[p,v,g,m],state:Rs(wv(i,a).map(b=>b.options),f)},u),n))}const h=pM(l,Object.assign(Object.assign({elements:Ha,key:d=>d.__data__.key,siblings:()=>y$(i,a,r),datum:Ns([s,...Lv(i,a,r).map(d=>d.view)]),brushRegion:(d,p,v,g)=>[d,p,v,g],extent:void 0,state:Rs([c,...b$(i,a,r)],f)},u),n));return l.brush=h,()=>h.destroy()}}function Nv(t,e,r,n,i){const[,a,,o]=i;return[t,a,r,o]}function x$(t){return Cv(Object.assign(Object.assign({},t),{brushRegion:Nv}))}function Rv(t,e,r,n,i){const[a,,o]=i;return[a,e,o,n]}function _$(t){return Cv(Object.assign(Object.assign({},t),{brushRegion:Rv}))}var Iv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const w$="axis",O$="axis-line",S$="axis-main-group",vM="axis-hot-area";function E$(t){return t.getElementsByClassName(w$)}function gM(t){return t.getElementsByClassName(O$)[0]}function M$(t){return t.getElementsByClassName(S$)[0]}function mM(t){return M$(t).getLocalBounds()}function P$(t,e){var{cross:r,offsetX:n,offsetY:i}=e,a=Iv(e,["cross","offsetX","offsetY"]);const o=mM(t),s=gM(t),[c]=s.getLocalBounds().min,[l,u]=o.min,[f,h]=o.max,d=(f-l)*2;return{brushRegion:Rv,hotZone:new Br({className:vM,style:Object.assign({x:r?l:c-d/2,width:r?d/2:d,y:u,height:h-u},a)}),extent:r?(p,v,g,m)=>[-1/0,v,1/0,m]:(p,v,g,m)=>[Math.floor(l-n),v,Math.ceil(f-n),m]}}function A$(t,e){var{offsetY:r,offsetX:n,cross:i=!1}=e,a=Iv(e,["offsetY","offsetX","cross"]);const o=mM(t),s=gM(t),[,c]=s.getLocalBounds().min,[l,u]=o.min,[f,h]=o.max,d=h-u;return{brushRegion:Nv,hotZone:new Br({className:vM,style:Object.assign({x:l,width:f-l,y:i?u:c-d,height:i?d:d*2},a)}),extent:i?(p,v,g,m)=>[p,-1/0,g,1/0]:(p,v,g,m)=>[p,Math.floor(u-r),g,Math.ceil(h-r)]}}function k$(t,e){var{axes:r,elements:n,points:i,horizontal:a,datum:o,offsetY:s,offsetX:c,reverse:l=!1,state:u={}}=e,f=Iv(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state"]);const h=n(t),d=r(t),p=wl(h,o),{setState:v}=ia(u,p),g=new Map,m=Wt(f,"mask"),b=E=>Array.from(g.values()).every(([P,A,T,C])=>E.some(([L,N])=>L>=P&&L<=T&&N>=A&&N<=C)),_=()=>{for(const E of h){const P=i(E);b(P)?v(E,"active"):v(E,"inactive")}},O=d.some(a)&&d.some(E=>!a(E));for(const E of d){const P=a(E)?A$:P$,{hotZone:A,brushRegion:T,extent:C}=P(E,{offsetY:s,offsetX:c,cross:O,zIndex:999,fill:"transparent"});E.parentNode.appendChild(A),Tv(A,Object.assign(Object.assign({},m),{reverse:l,brushRegion:T,brushended(){g.delete(E),_()},brushed(L,N,x,y){g.set(E,C(L,N,x,y)),_()}}))}}function T$(t){return e=>{const{container:r,view:n,options:i}=e,a=ra(r),{x:o,y:s}=a.getBBox();return k$(r,Object.assign({elements:Ha,axes:E$,offsetY:s,offsetX:o,points:c=>c.__data__.points,horizontal:c=>{const{startPos:[l,u],endPos:[f,h]}=c.attributes;return l!==f&&u===h},datum:Ns(n),state:Rs(i,["active",["inactive",{opacity:.5}]])},t))}}var L$=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},yM=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function C$(t=300){let e=null;return r=>{const{timeStamp:n}=r;return e!==null&&n-e<t?(e=n,!0):(e=n,!1)}}function N$(t,e){var{filter:r,reset:n,brushRegion:i,extent:a,reverse:o,series:s=!1}=e,c=yM(e,["filter","reset","brushRegion","extent","reverse","series"]);const l=Wt(c,"mask"),{width:u,height:f}=t.getBBox(),h=a||[0,0,u,f],d=C$(),p=Tv(t,Object.assign(Object.assign({},l),{extent:h,brushRegion:i,reverse:o,brushcreated:v}));t.addEventListener("click",g);function v(m,b,_,O){r(m,b,_,O),p.remove()}function g(m){d(m)&&n()}return()=>{p.destroy(),t.removeEventListener("click",g)}}function Dv(t){var{hideX:e=!0,hideY:r=!0}=t,n=yM(t,["hideX","hideY"]);return(i,a)=>{const{container:o,view:s,options:c,update:l}=i,u=ra(o),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let h=!1,d=!1,p=s;return N$(u,Object.assign(Object.assign({brushRegion:(v,g,m,b)=>[v,g,m,b],filter:(v,g,m,b)=>L$(this,void 0,void 0,function*(){if(d)return;d=!0;const{scale:_,coordinate:O}=p,{x:E,y:P}=_,A=(w,M)=>{const[S,k]=O.invert(w);return[yl(E,S,M),yl(P,k,M)]},T=A([v,g],!0),C=A([m,b],!1),{marks:L}=c,N=L.map(w=>bt({axis:Object.assign(Object.assign({},e&&{x:{labelTransform:[{type:"hide"}]}}),r&&{y:{labelTransform:[{type:"hide"}]}})},w,{scale:{x:{domain:mv(E,[T[0],C[0]])},y:{domain:mv(P,[T[1],C[1]])}}})),x=Object.assign(Object.assign({},c),{marks:N,clip:!0});p=(yield l(x)).view,d=!1,h=!0}),reset:()=>{d||!h||(h=!1,p=s,l(c))},extent:void 0},f),n))}}function R$(t){return Dv(Object.assign(Object.assign({hideX:!0},t),{brushRegion:Nv}))}function I$(t){return Dv(Object.assign(Object.assign({hideY:!0},t),{brushRegion:Rv}))}var D$=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})};const j$="slider";function B$(t,e){const{marks:r}=t,n=r.map(i=>bt({axis:{x:{labelTransform:[{type:"hide"}]},y:{labelTransform:[{type:"hide"}]}}},i,{scale:e,slider:Object.assign(Object.assign({},i.slider.x&&{x:{preserve:!0}}),i.slider.y&&{y:{preserve:!0}}),animate:!1}));return Object.assign(Object.assign({},t),{marks:n,clip:!0,animate:!1})}function F$(t,e){const[r,n]=t,i=yl(e,r,!0),a=yl(e,n,!1);return mv(e,[i,a])}function z$({wait:t=50,leading:e=!0,trailing:r=!1}){return n=>{const{container:i,view:a,options:o,update:s}=n,c=i.getElementsByClassName(j$);if(!c.length)return;let l=!1;const{scale:u}=a,{x:f,y:h}=u,d=new Map,p={x:f.getOptions().domain,y:h.getOptions().domain};for(const v of c){const{orient:g}=v.attributes,m=Lc(b=>D$(this,void 0,void 0,function*(){const{value:_}=b.detail;if(l)return;l=!0;const O=g==="vertical"?"y":"x",E=u[O],P=F$(_,E);p[O]=P;const A=g==="vertical"?"x":"y",T=p[A],C=B$(o,{[O]:{domain:P},[A]:{domain:T}});yield s(C),l=!1}),t,{leading:e,trailing:r});v.addEventListener("valuechange",m),d.set(v,m)}return()=>{for(const[v,g]of d)v.removeEventListener("valuechange",g)}}}var G$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function $$(t,e,r){return`<${t} style="${Object.entries(r).map(([n,i])=>`${uz(n)}:${i}`).join(";")}">${e}</${t}>`}const W$={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function bM(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function Y$(t){var{offsetX:e=8,offsetY:r=8}=t,n=G$(t,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,c=Wt(n,"tip"),l=new Set,u=h=>{const{target:d}=h;if(!bM(d)){h.stopPropagation();return}const{offsetX:p,offsetY:v}=h,g=p+e-o,m=v+r-s;if(d.tip){d.tip.style.x=g,d.tip.style.y=m;return}const{text:b}=d.style,_=new Su({className:"poptip",style:{innerHTML:$$("div",b,Object.assign(Object.assign({},W$),c)),x:g,y:m}});a.appendChild(_),d.tip=_,l.add(_)},f=h=>{const{target:d}=h;if(!bM(d)){h.stopPropagation();return}!d.tip||(d.tip.remove(),d.tip=null,l.delete(d.tip))};return a.addEventListener("pointerover",u),a.addEventListener("pointerout",f),()=>{a.removeEventListener("pointerover",u),a.removeEventListener("pointerout",f),l.forEach(h=>h.remove())}}}function H$(t,e){const{__data__:r}=t,{markKey:n,index:i,seriesIndex:a}=r,{markState:o}=e,s=Array.from(o.keys()).find(c=>c.key===n);if(!!s)return a?a.map(c=>s.data[c]):s.data[i]}function V$(t,e,r){const{data:n={}}=t;n.data=H$(e,r),t.data=n}function $n(t,e,r,n=i=>!0){return i=>{if(!n(i))return;const{target:a}=i,{classList:o}=a,[s,c]=o;if(s==="element"){V$(i,a,e),r.emit(`element:${t}`,i),r.emit(`${c}:${t}`,i);return}r.emit(`${s}:click`)}}function X$(){return(t,e,r)=>{const{container:n,view:i}=t,a=$n("click",i,r,A=>A.detail===1),o=$n("dblclick",i,r,A=>A.detail===2),s=$n("pointertap",i,r),c=$n("pointerdown",i,r),l=$n("pointerup",i,r),u=$n("pointerover",i,r),f=$n("pointerout",i,r),h=$n("pointermove",i,r),d=$n("pointerenter",i,r),p=$n("pointerleave",i,r),v=$n("pointerupoutside",i,r),g=$n("dragstart",i,r),m=$n("drag",i,r),b=$n("dragend",i,r),_=$n("dragenter",i,r),O=$n("dragleave",i,r),E=$n("dragover",i,r),P=$n("drop",i,r);return n.addEventListener("click",a),n.addEventListener("click",o),n.addEventListener("pointertap",s),n.addEventListener("pointerdown",c),n.addEventListener("pointerup",l),n.addEventListener("pointerover",u),n.addEventListener("pointerout",f),n.addEventListener("pointermove",h),n.addEventListener("pointerenter",d),n.addEventListener("pointerleave",p),n.addEventListener("pointerupoutside",v),n.addEventListener("dragstart",g),n.addEventListener("drag",m),n.addEventListener("dragend",b),n.addEventListener("dragenter",_),n.addEventListener("dragleave",O),n.addEventListener("dragover",E),n.addEventListener("drop",P),()=>{n.removeEventListener("click",a),n.removeEventListener("click",o),n.removeEventListener("pointertap",s),n.removeEventListener("pointerdown",c),n.removeEventListener("pointerup",l),n.removeEventListener("pointerover",u),n.removeEventListener("pointerout",f),n.removeEventListener("pointermove",h),n.removeEventListener("pointerenter",d),n.removeEventListener("pointerleave",p),n.removeEventListener("pointerupoutside",v),n.removeEventListener("dragstart",g),n.removeEventListener("drag",m),n.removeEventListener("dragend",b),n.removeEventListener("dragenter",_),n.removeEventListener("dragleave",O),n.removeEventListener("dragover",E),n.removeEventListener("drop",P)}}}var q$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Ds(t){return(e,...r)=>bt({},t(e,...r),e)}function js(t){return(e,...r)=>bt({},e,t(e,...r))}function jv(t,e){if(!t)return e;if(Array.isArray(t))return t;const{value:r=e}=t,n=q$(t,["value"]);return Object.assign(Object.assign({},n),{value:r})}var U$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const xM=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:r=0,y:n=0,width:i,height:a,data:o}=t;return e.map(s=>{var{data:c}=s,l=U$(s,["data"]);return Object.assign(Object.assign({},l),{data:jv(c,o),x:r,y:n,width:i,height:a})})};xM.props={};var K$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const _M=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:r="row",ratio:n=e.map(()=>1),padding:i=0,data:a}=t,[o,s,c,l]=r==="col"?["y","height","width","x"]:["x","width","height","y"],u=n.reduce((v,g)=>v+g),f=t[s]-i*(e.length-1),h=n.map(v=>f*(v/u)),d=[];let p=t[o]||0;for(let v=0;v<h.length;v+=1){const g=e[v],{data:m}=g,b=K$(g,["data"]),_=jv(m,a);d.push(Object.assign({[o]:p,[s]:h[v],[l]:t[l]||0,[c]:t[c],data:_},b)),p+=h[v]+i}return d};_M.props={};var Bv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const wM=()=>t=>{const{children:e}=t,r=Bv(t,["children"]);if(!Array.isArray(e))return[];const{data:n,scale:i={},axis:a={},legend:o={},encode:s={},transform:c=[]}=r,l=Bv(r,["data","scale","axis","legend","encode","transform"]),u=e.map(f=>{var{data:h,scale:d={},axis:p={},legend:v={},encode:g={},transform:m=[]}=f,b=Bv(f,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:jv(h,n),scale:bt({},i,d),encode:bt({},s,g),transform:[...c,...m],axis:p&&a?bt({},a,p):!1,legend:v&&o?bt({},o,v):!1},b)});return[Object.assign(Object.assign({},l),{marks:u,type:"standardView"})]};wM.props={};var Z$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const OM=()=>t=>{const{width:e,height:r,paddingLeft:n,paddingRight:i,paddingTop:a,paddingBottom:o,padding:s,inset:c,insetLeft:l,insetTop:u,insetRight:f,insetBottom:h,margin:d,marginLeft:p,marginBottom:v,marginTop:g,marginRight:m,data:b,coordinate:_,theme:O,component:E,interaction:P,x:A,y:T,key:C,frame:L,title:N,labelTransform:x,parentKey:y,clip:w}=t,M=Z$(t,["width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","key","frame","title","labelTransform","parentKey","clip"]);return[{type:"standardView",x:A,y:T,key:C,width:e,height:r,padding:s,paddingLeft:n,paddingRight:i,paddingTop:a,inset:c,insetLeft:l,insetTop:u,insetRight:f,insetBottom:h,paddingBottom:o,theme:O,coordinate:_,component:E,interaction:P,frame:L,title:N,labelTransform:x,margin:d,marginLeft:p,marginBottom:v,marginTop:g,marginRight:m,parentKey:y,clip:w,marks:[Object.assign(Object.assign({},M),{key:`${C}-0`,data:b})]}]};OM.props={};var Q$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const J$=Ds(t=>{const{encode:e,data:r,scale:n,shareSize:i=!1}=t,{x:a,y:o}=e,s=(c,l)=>{var u;if(c===void 0||!i)return{};const f=nn(r,p=>p[c]),h=((u=n==null?void 0:n[l])===null||u===void 0?void 0:u.domain)||Array.from(f.keys()),d=h.map(p=>f.has(p)?f.get(p).length:1);return{domain:h,flex:d}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),Fv=Ds(t=>{const{data:e,scale:r}=t,n=[t];let i,a,o;for(;n.length;){const c=n.shift(),{children:l,encode:u={},scale:f={},legend:h={}}=c,{color:d}=u,{color:p}=f,{color:v}=h;d!==void 0&&(i=d),p!==void 0&&(a=p),v!==void 0&&(o=v),Array.isArray(l)&&n.push(...l)}return{encode:{color:i},scale:{color:bt({},a,{domain:(()=>{var c;const l=(c=r==null?void 0:r.color)===null||c===void 0?void 0:c.domain;if(l!==void 0)return l;if(i!==void 0)return Array.from(new Set(e.map(u=>u[i])))})(),type:"ordinal"})},legend:{color:bt({title:i},o)}}}),zv=Ds(()=>({animate:{enterType:"fadeIn"}})),Gv=js(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),$v=js(()=>({type:"cell"})),SM=js(t=>{const{data:e}=t;return{data:{type:"inline",value:e,transform:[{type:"custom",callback:()=>{const{data:n,encode:i}=t,{x:a,y:o}=i,s=a?Array.from(new Set(n.map(u=>u[a]))):[],c=o?Array.from(new Set(n.map(u=>u[o]))):[];return(()=>{if(s.length&&c.length){const u=[];for(const f of s)for(const h of c)u.push({[a]:f,[o]:h});return u}if(s.length)return s.map(u=>({[a]:u}));if(c.length)return c.map(u=>({[o]:u}))})()}}]}}}),EM=js((t,e=tW,r=eW,n=nW,i={})=>{const{data:a,encode:o,children:s,scale:c,x:l=0,y:u=0,shareData:f=!1,key:h}=t,{value:d}=a,{x:p,y:v}=o,{color:g}=c,{domain:m}=g;return{children:(_,O,E)=>{const{x:P,y:A}=O,{paddingLeft:T,paddingTop:C}=E,{domain:L}=P.getOptions(),{domain:N}=A.getOptions(),x=Ao(_),y=_.map(e),w=_.map(({x:F,y:X})=>[P.invert(F),A.invert(X)]),S=w.map(([F,X])=>K=>{const{[p]:Q,[v]:dt}=K;return(p!==void 0?Q===F:!0)&&(v!==void 0?dt===X:!0)}).map(F=>d.filter(F)),k=f?Zn(S,F=>F.length):void 0,I=w.map(([F,X])=>({columnField:p,columnIndex:L.indexOf(F),columnValue:F,columnValuesLength:L.length,rowField:v,rowIndex:N.indexOf(X),rowValue:X,rowValuesLength:N.length})),j=I.map(F=>Array.isArray(s)?s:[s(F)].flat(1));return x.flatMap(F=>{const[X,K,Q,dt]=y[F],Ct=I[F],Nt=S[F];return j[F].map(Yt=>{var Rt,Ut,{scale:fe,key:ln,facet:Ln=!0,axis:wr={},legend:Or={}}=Yt,Zr=Q$(Yt,["scale","key","facet","axis","legend"]);const Za=((Rt=fe==null?void 0:fe.y)===null||Rt===void 0?void 0:Rt.guide)||wr.y,Bi=((Ut=fe==null?void 0:fe.x)===null||Ut===void 0?void 0:Ut.guide)||wr.x,Qa={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},ca=Ln?Nt:Nt.length===0?[]:d,di={color:{domain:m}},tn={x:MM(Bi,r)(Ct,ca),y:MM(Za,n)(Ct,ca)};return Object.assign(Object.assign({key:`${ln}-${F}`,data:ca,x:X+T+l,y:K+C+u,parentKey:h,width:Q,height:dt,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!ca.length,dataDomain:k,scale:bt(Qa,fe,di),axis:bt({},wr,tn),legend:!1},Zr),i)})})}}});function tW(t){const{points:e}=t;return b0(e)}function rh(t,e){return e.length?bt({title:!1,tick:null,label:null},t):bt({title:!1,tick:null,label:null,grid:null},t)}function eW(t){return(e,r)=>{const{rowIndex:n,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=e;if(n!==i-1)return rh(t,r);const s=a!==o-1?!1:void 0,c=r.length?void 0:null;return bt({title:s,grid:c},t)}}function nW(t){return(e,r)=>{const{rowIndex:n,columnIndex:i}=e;if(i!==0)return rh(t,r);const a=n!==0?!1:void 0,o=r.length?void 0:null;return bt({title:a,grid:o},t)}}function MM(t,e){return typeof t=="function"?t:t===null?()=>null:e(t)}const PM=()=>t=>[Ts.of(t).call($v).call(Fv).call(zv).call(J$).call(Gv).call(SM).call(EM).value()];PM.props={};var Wv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const rW=Ds(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),iW=js(t=>{const{data:e,children:r,x:n=0,y:i=0,key:a}=t;return{children:(s,c,l)=>{const{x:u,y:f}=c,{paddingLeft:h,paddingTop:d}=l,{domain:p}=u.getOptions(),{domain:v}=f.getOptions(),g=Ao(s),m=s.map(({points:E})=>b0(E)),b=s.map(({x:E,y:P})=>[u.invert(E),f.invert(P)]),_=b.map(([E,P])=>({columnField:E,columnIndex:p.indexOf(E),columnValue:E,columnValuesLength:p.length,rowField:P,rowIndex:v.indexOf(P),rowValue:P,rowValuesLength:v.length})),O=_.map(E=>Array.isArray(r)?r:[r(E)].flat(1));return g.flatMap(E=>{const[P,A,T,C]=m[E],[L,N]=b[E],x=_[E];return O[E].map(w=>{var M,S;const{scale:k,key:I,encode:j,axis:F}=w,X=Wv(w,["scale","key","encode","axis"]),K=(M=k==null?void 0:k.y)===null||M===void 0?void 0:M.guide,Q=(S=k==null?void 0:k.x)===null||S===void 0?void 0:S.guide,dt={x:{facet:!1},y:{facet:!1}},Ct={x:oW(Q)(x,e),y:sW(K)(x,e)},Nt={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:a,key:`${I}-${E}`,x:P+h+n,y:A+d+i,width:T,height:C,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:bt(dt,k),axis:bt(Nt,F,Ct),legend:!1,encode:bt({},j,{x:L,y:N})},X)})})}}}),aW=js(t=>{const{encode:e}=t,r=Wv(t,["encode"]),{position:n=[],x:i=n,y:a=[...n].reverse()}=e,o=Wv(e,["position","x","y"]),s=[];for(const c of[i].flat(1))for(const l of[a].flat(1))s.push({$x:c,$y:l});return Object.assign(Object.assign({},r),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function oW(t){return typeof t=="function"?t:t===null?()=>null:(e,r)=>{const{rowIndex:n,rowValuesLength:i}=e;if(n!==i-1)return rh(t,r)}}function sW(t){return typeof t=="function"?t:t===null?()=>null:(e,r)=>{const{columnIndex:n}=e;if(n!==0)return rh(t,r)}}const cW=()=>t=>[Ts.of(t).call($v).call(Fv).call(iW).call(aW).call(zv).call(Gv).call(rW).value()];var lW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const uW=Ds(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),fW=Ds(t=>({coordinate:{type:"polar"}})),hW=t=>{const{encode:e}=t,r=lW(t,["encode"]),{position:n}=e;return Object.assign(Object.assign({},r),{encode:{x:n}})};function AM(t){return e=>null}function dW(t){const{points:e}=t,[r,n,i,a]=e,o=xn(r,a),s=br(r,a),c=br(n,i),l=iw(s,c),u=1/Math.sin(l/2),f=o/(1+u),h=f*Math.sqrt(2),[d,p]=i,g=ys(s)+l/2,m=f*u,b=d+m*Math.sin(g),_=p+m*Math.cos(g);return[b-h/2,_-h/2,h,h]}const pW=()=>t=>[Ts.of(t).call($v).call(hW).call(Fv).call(fW).call(SM).call(EM,dW,AM,AM,{frame:!1}).call(zv).call(Gv).call(uW).value()];function vW(t,e,r){const i=r,a=[0,i],o=[-i+1,-0+1];if(t==="normal")return a;if(t==="reverse")return o;if(t==="alternate")return e%2===0?a:o;if(t==="reverse-alternate")return e%2===0?o:a}function gW(t,e,r){const n=[t];for(;n.length;){const i=n.pop();i.animate=bt({enter:{duration:e},update:{duration:e,easing:r,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},i.animate||{});const{children:a}=i;Array.isArray(a)&&n.push(...a)}return t}const kM=()=>t=>{const{children:e=[],duration:r=1e3,iterationCount:n=1,direction:i="normal",easing:a="ease-in-out-sine"}=t,o=e.length;if(!Array.isArray(e)||o===0)return[];const{key:s}=e[0],c=e.map(l=>Object.assign(Object.assign({},l),{key:s})).map(l=>gW(l,r,a));return function*(){let l=0,u;for(;n==="infinite"||l<n;){const[f,h]=vW(i,l,o);for(let d=f;d<h;d+=1){const p=Math.abs(d);u!==p&&(yield c[p]),u=p}l++}}};kM.props={};function wn(t,e){if(t!==null)return{type:"column",value:t,field:e}}function Yv(t,e){const r=wn(t,e);return Object.assign(Object.assign({},r),{inferred:!0})}function ih(t,e){if(t!==null)return{type:"column",value:t,field:e,visual:!0}}function mW(t,e){const r=wn(t,e);return Object.assign(Object.assign({},r),{constant:!1})}function Va(t,e){const r=[];for(const n of t)r[n]=e;return r}function Ee(t,e){const r=t[e];if(!r)return[null,null];const{value:n,field:i=null}=r;return[n,i]}function Sl(t,...e){for(const r of e)if(typeof r=="string"){const[n,i]=Ee(t,r);if(n!==null)return[n,i]}else return[r,null];return[null,null]}function Hv(t){return t instanceof Date?!1:typeof t=="object"}const TM=()=>(t,e)=>{const{encode:r}=e,{y1:n}=r;return n!==void 0?[t,e]:[t,bt({},e,{encode:{y1:Yv(Va(t,0))}})]};TM.props={};function Xa(t,e,r){const{encode:n}=r;if(t===null)return[e];const i=yW(t).map(o=>{var s;return[o,(s=Ee(n,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>zn(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(nn(e,a).values())}function LM(t){return Array.isArray(t)?_W(t):typeof t=="function"?xW(t):t==="series"?bW:t==="value"?wW:t==="sum"?OW:t==="maxIndex"?SW:()=>null}function CM(t,e){for(const r of t)r.sort(e)}function NM(t,e){return(e==null?void 0:e.domain)||Array.from(new Set(t))}function yW(t){return Array.isArray(t)?t:[t]}function bW(t,e,r){return El(n=>r[n])}function xW(t){return(e,r,n)=>El(i=>t(e[i]))}function _W(t){return(e,r,n)=>(i,a)=>t.reduce((o,s)=>o!==0?o:gn(e[i][s],e[a][s]),0)}function wW(t,e,r){return El(n=>e[n])}function OW(t,e,r){const n=Ao(t),i=Array.from(nn(n,o=>r[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((c,l)=>c+ +e[l])]));return El(o=>a.get(r[o]))}function SW(t,e,r){const n=Ao(t),i=Array.from(nn(n,o=>r[+o]).entries()),a=new Map(i.map(([o,s])=>[o,us(s,c=>e[c])]));return El(o=>a.get(r[o]))}function El(t){return(e,r)=>gn(t(e),t(r))}const Vv=(t={})=>{const{groupBy:e="x",orderBy:r=null,reverse:n=!1,y:i="y",y1:a="y1",series:o=!0}=t;return(s,c)=>{const{data:l,encode:u,style:f={}}=c,[h,d]=Ee(u,"y"),[p,v]=Ee(u,"y1"),[g]=o?Sl(u,"series","color"):Ee(u,"color"),m=Xa(e,s,c),_=LM(r)(l,h,g);_&&CM(m,_);const O=new Array(s.length),E=new Array(s.length),P=new Array(s.length),A=[],T=[];for(const y of m){n&&y.reverse();const w=p?+p[y[0]]:0,M=[],S=[];for(const Q of y){const dt=P[Q]=+h[Q]-w;dt<0?S.push(Q):dt>=0&&M.push(Q)}const k=M.length>0?M:S,I=S.length>0?S:M;let j=M.length-1,F=0;for(;j>0&&h[k[j]]===0;)j--;for(;F<I.length-1&&h[I[F]]===0;)F++;A.push(k[j]),T.push(I[F]);let X=w;for(const Q of S.reverse()){const dt=P[Q];X=O[Q]=(E[Q]=X)+dt}let K=w;for(const Q of M){const dt=P[Q];dt>0?K=O[Q]=(E[Q]=K)+dt:O[Q]=E[Q]=K}}const C=new Set(A),L=new Set(T),N=i==="y"?O:E,x=a==="y"?O:E;return[s,bt({},c,{encode:{y:wn(N,d),y1:wn(x,v)},style:Object.assign({first:(y,w)=>C.has(w),last:(y,w)=>L.has(w)},f)})]}};Vv.props={};function EW(t){const{type:e}=t;return typeof e=="string"&&["stackY","dodgeX","groupX"].includes(e)}const RM=t=>(e,r,n)=>{const{encode:i,transform:a=[]}=r;if(a.some(EW))return[e,r];const{x:o,y:s}=i;if(o===void 0||s===void 0)return[e,r];const{series:c}=t;return Vv({groupBy:c?["x","series"]:"x"})(e,r,n)};RM.props={};const IM=(t={})=>{const{channel:e="x"}=t;return(r,n)=>{const{encode:i}=n,{tooltip:a}=n;if(a===null)return[r,n];const{title:o}=a;if(o!==void 0)return[r,n];const[s,c]=Ee(i,e);return s?[r,bt({},n,{tooltip:{title:s.map(l=>({value:l,name:c}))}})]:[r,n]}};IM.props={};const DM=()=>(t,e)=>{const{encode:r}=e,{x:n}=r;return n!==void 0?[t,e]:[t,bt({},e,{encode:{x:Yv(Va(t,0))},scale:{x:{guide:null}}})]};DM.props={};const jM=()=>(t,e)=>{const{encode:r}=e,{y:n}=r;return n!==void 0?[t,e]:[t,bt({},e,{encode:{y:Yv(Va(t,0))},scale:{y:{guide:null}}})]};jM.props={};const BM=()=>(t,e)=>{const{encode:r}=e,{size:n}=r;return n!==void 0?[t,e]:[t,bt({},e,{encode:{size:ih(Va(t,3))}})]};BM.props={};var MW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const FM=()=>(t,e)=>{const{encode:r}=e,{key:n}=r,i=MW(r,["key"]);if(n!==void 0)return[t,e];const a=Object.values(i).map(({value:s})=>s),o=t.map(s=>a.filter(Array.isArray).map(c=>c[s]).join("-"));return[t,bt({},e,{encode:{key:wn(o)}})]};FM.props={};const zM=()=>(t,e)=>{const{encode:r}=e,{series:n,color:i}=r;if(n!==void 0||i===void 0)return[t,e];const[a,o]=Ee(r,"color");return[t,bt({},e,{encode:{series:wn(a,o)}})]};zM.props={};const GM=()=>(t,e)=>{const{data:r}=e;return!Array.isArray(r)||r.some(Hv)?[t,e]:[t,bt({},e,{encode:{y:wn(r)}})]};GM.props={};const $M=()=>(t,e)=>{const{data:r}=e;return!Array.isArray(r)||r.some(Hv)?[t,e]:[t,bt({},e,{encode:{x:wn(r)}})]};$M.props={};const WM=()=>(t,e)=>{const{encode:r}=e,{y1:n}=r;if(n)return[t,e];const[i]=Ee(r,"y");return[t,bt({},e,{encode:{y1:wn([...i])}})]};WM.props={};const YM=()=>(t,e)=>{const{encode:r}=e,{x1:n}=r;if(n)return[t,e];const[i]=Ee(r,"x");return[t,bt({},e,{encode:{x1:wn([...i])}})]};YM.props={};const HM=t=>{const{channel:e}=t;return(r,n)=>{const{encode:i,tooltip:a}=n;if(a===null)return[r,n];const{items:o=[]}=a;if(o.length>0)return[r,n];const c=(Array.isArray(e)?e:[e]).flatMap(l=>Object.keys(i).filter(u=>u.startsWith(l)).map(u=>{const{field:f,value:h,inferred:d=!1}=i[u];return d?null:f?{field:f}:h?{channel:u}:null}).filter(u=>u!==null));return[r,bt({},n,{tooltip:{items:c}})]}};HM.props={};const VM=()=>(t,e)=>[t,bt({scale:{x:{padding:0},y:{padding:0}}},e)];VM.props={};var XM=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const qM=()=>(t,e)=>{const{data:r,style:n={}}=e,i=XM(e,["data","style"]),{x:a,y:o}=n,s=XM(n,["x","y"]);if(a==null||o==null)return[t,e];const c=a||0,l=o||0;return[[0],bt({},i,{data:[0],cartesian:!0,encode:{x:wn([c]),y:wn([l])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};qM.props={};const UM=()=>(t,e)=>{const{style:r={}}=e;return[t,bt({},e,{style:Object.assign(Object.assign({},r),Object.fromEntries(Object.entries(r).filter(([,n])=>typeof n=="function").map(([n,i])=>[n,()=>i])))})]};UM.props={};const KM=()=>(t,e)=>{const{data:r}=e;if(!Array.isArray(r)||r.some(Hv))return[t,e];const n=Array.isArray(r[0])?r:[r],i=n.map(o=>o[0]),a=n.map(o=>o[1]);return[t,bt({},e,{encode:{x:wn(i),y:wn(a)}})]};KM.props={};const ZM=()=>(t,e)=>{const{style:r={}}=e,{gradient:n}=r;return n?[t,bt({},e,{encode:{series:ih(Va(t,void 0))}})]:[t,e]};ZM.props={};var PW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const QM=(t={})=>{const{groupBy:e="x",reverse:r=!1,orderBy:n,padding:i}=t,a=PW(t,["groupBy","reverse","orderBy","padding"]);return(o,s)=>{const{data:c,encode:l,scale:u}=s,{series:f}=u,[h]=Ee(l,"y"),[d]=Sl(l,"series","color"),p=NM(d,f),v=Xa(e,o,s),m=LM(n)(c,h,d);m&&CM(v,m);const b=new Array(o.length);for(const _ of v){r&&_.reverse();for(let O=0;O<_.length;O++)b[_[O]]=p[O]}return[o,bt({},s,{scale:{series:{domain:p,paddingInner:i}},encode:{series:wn(b)}})]}};QM.props={};const JM=t=>{const{groupBy:e=["x"],reducer:r=(o,s)=>s[o[0]],orderBy:n=null,reverse:i=!1,duration:a}=t;return(o,s)=>{const{encode:c}=s,u=(Array.isArray(e)?e:[e]).map(g=>[g,Ee(c,g)[0]]);if(u.length===0)return[o,s];let f=[o];for(const[,g]of u){const m=[];for(const b of f){const _=Array.from(nn(b,O=>g[O]).values());m.push(..._)}f=m}if(n){const[g]=Ee(c,n);g&&f.sort((m,b)=>r(m,g)-r(b,g)),i&&f.reverse()}const h=(a||3e3)/f.length,[d]=a?[Va(o,h)]:Sl(c,"enterDuration",Va(o,h)),[p]=Sl(c,"enterDelay",Va(o,0)),v=new Array(o.length);for(let g=0,m=0;g<f.length;g++){const b=f[g],_=Zn(b,O=>+d[O]);for(const O of b)v[O]=+p[O]+m;m+=_}return[o,bt({},s,{encode:{enterDuration:ih(d),enterDelay:ih(v)}})]}};JM.props={};function Xv(t,e){return hf(t,.5,e)}function AW(t,e){return u6(t,.5,e)}function kW(t,e){let r=0,n,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i))}if(r>1)return a/(r-1)}function tP(t,e){const r=kW(t,e);return r&&Math.sqrt(r)}var TW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function LW(t){return typeof t=="function"?t:{min:(r,n)=>ni(r,i=>n[+i]),max:(r,n)=>Zn(r,i=>n[+i]),first:(r,n)=>n[r[0]],last:(r,n)=>n[r[r.length-1]],mean:(r,n)=>nh(r,i=>n[+i]),median:(r,n)=>Xv(r,i=>n[+i]),sum:(r,n)=>Qi(r,i=>n[+i]),deviation:(r,n)=>tP(r,i=>n[+i])}[t]||Zn}const eP=(t={})=>{const{groupBy:e="x",basis:r="max"}=t;return(n,i)=>{const{encode:a}=i,{x:o}=a,s=TW(a,["x"]),c=Object.entries(s).filter(([d])=>d.startsWith("y")).map(([d])=>[d,Ee(a,d)[0]]),[,l]=c.find(([d])=>d==="y"),u=c.map(([d])=>[d,new Array(n.length)]),f=Xa(e,n,i),h=LW(r);for(const d of f){const p=h(d,l);for(const v of d)for(let g=0;g<c.length;g++){const[,m]=c[g],[,b]=u[g];b[v]=+m[v]/p}}return[n,bt({},i,{encode:Object.fromEntries(u.map(([d,p])=>[d,wn(p,Ee(a,d)[1])]))})]}};eP.props={};function qv(t,e,r){if(t===null)return[-.5,.5];const n=NM(t,e),a=new vs({domain:n,range:[0,1],padding:r}).getBandWidth();return[-a/2,a/2]}function Uv(t,e,r){return e*(1-t)+r*t}const nP=(t={})=>{const{padding:e=0,paddingX:r=e,paddingY:n=e,random:i=Math.random}=t;return(a,o)=>{const{encode:s,scale:c}=o,{x:l,y:u}=c,[f]=Ee(s,"x"),[h]=Ee(s,"y"),d=qv(f,l,r),p=qv(h,u,n),v=a.map(()=>Uv(i(),...p)),g=a.map(()=>Uv(i(),...d));return[a,bt({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:wn(v),dx:wn(g)}})]}};nP.props={};const rP=(t={})=>{const{padding:e=0,random:r=Math.random}=t;return(n,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[c]=Ee(a,"x"),l=qv(c,s,e),u=n.map(()=>Uv(r(),...l));return[n,bt({scale:{x:{padding:.5}}},i,{encode:{dx:wn(u)}})]}};rP.props={};var CW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const iP=(t={})=>{const{groupBy:e="x"}=t;return(r,n)=>{const{encode:i}=n,{x:a}=i,o=CW(i,["x"]),s=Object.entries(o).filter(([h])=>h.startsWith("y")).map(([h])=>[h,Ee(i,h)[0]]),c=s.map(([h])=>[h,new Array(r.length)]),l=Xa(e,r,n),u=new Array(l.length);for(let h=0;h<l.length;h++){const p=l[h].flatMap(m=>s.map(([,b])=>+b[m])),[v,g]=Ba(p);u[h]=(v+g)/2}const f=Math.max(...u);for(let h=0;h<l.length;h++){const d=f-u[h],p=l[h];for(const v of p)for(let g=0;g<s.length;g++){const[,m]=s[g],[,b]=c[g];b[v]=+m[v]+d}}return[r,bt({},n,{encode:Object.fromEntries(c.map(([h,d])=>[h,wn(d,Ee(i,h)[1])]))})]}};iP.props={};const aP=(t={})=>{const{groupBy:e="x",series:r=!0}=t;return(n,i)=>{const{encode:a}=i,[o]=Ee(a,"y"),[s,c]=Ee(a,"y1"),[l]=r?Sl(a,"series","color"):Ee(a,"color"),u=Xa(e,n,i),f=new Array(n.length);for(const h of u){const d=h.map(p=>+o[p]);for(let p=0;p<h.length;p++){const v=h[p],g=Math.max(...d.filter((m,b)=>b!==p));f[v]=o[v]>g?g:o[v]}}return[n,bt({},i,{encode:{y1:wn(f,c)}})]}};aP.props={};function oP(t,e){return[t[0]]}function NW(t,e){const r=t.length-1;return[t[r]]}function RW(t,e){const r=us(t,n=>e[n]);return[t[r]]}function IW(t,e){const r=Bp(t,n=>e[n]);return[t[r]]}function DW(t){return typeof t=="function"?t:{first:oP,last:NW,max:RW,min:IW}[t]||oP}const ah=(t={})=>{const{groupBy:e="series",channel:r,selector:n}=t;return(i,a)=>{const{encode:o}=a,s=Xa(e,i,a),[c]=Ee(o,r),l=DW(n);return[s.flatMap(u=>l(u,c)),a]}};ah.props={};var jW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const sP=(t={})=>{const{selector:e}=t,r=jW(t,["selector"]);return ah(Object.assign({channel:"x",selector:e},r))};sP.props={};var BW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const cP=(t={})=>{const{selector:e}=t,r=BW(t,["selector"]);return ah(Object.assign({channel:"y",selector:e},r))};cP.props={};var FW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function qa(t){return e=>e===null?t:`${t} of ${e}`}function zW(t){if(typeof t=="function")return[t,null];const r={mean:GW,max:WW,count:HW,first:XW,last:qW,sum:VW,min:YW,median:$W}[t];if(!r)throw new Error(`Unknown reducer: ${t}.`);return r()}function GW(){const t=(r,n)=>nh(r,i=>+n[i]),e=qa("mean");return[t,e]}function $W(){const t=(r,n)=>Xv(r,i=>+n[i]),e=qa("median");return[t,e]}function WW(){const t=(r,n)=>Zn(r,i=>+n[i]),e=qa("max");return[t,e]}function YW(){const t=(r,n)=>ni(r,i=>+n[i]),e=qa("min");return[t,e]}function HW(){const t=(r,n)=>r.length,e=qa("count");return[t,e]}function VW(){const t=(r,n)=>Qi(r,i=>+n[i]),e=qa("sum");return[t,e]}function XW(){const t=(r,n)=>n[r[0]],e=qa("first");return[t,e]}function qW(){const t=(r,n)=>n[r[r.length-1]],e=qa("last");return[t,e]}const Kv=(t={})=>{const{groupBy:e}=t,r=FW(t,["groupBy"]);return(n,i)=>{const{data:a,encode:o}=i,s=e(n,i);if(!s)return[n,i];const c=Object.entries(r).map(([h,d])=>{const[p,v]=zW(d),[g,m]=Ee(o,h),b=s.map(_=>p(_,g!=null?g:a));return[h,mW(b,(v==null?void 0:v(m))||m)]}),l=Object.keys(o).map(h=>{const[d,p]=Ee(o,h),v=s.map(g=>d[g[0]]);return[h,wn(v,p)]}),u=s.map(h=>a[h[0]]);return[Ao(s),bt({},i,{data:u,encode:Object.fromEntries([...l,...c])})]}};Kv.props={};var UW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Ml=(t={})=>{const{channels:e=["x","y"]}=t,r=UW(t,["channels"]),n=(i,a)=>Xa(e,i,a);return Kv(Object.assign(Object.assign({},r),{groupBy:n}))};Ml.props={};const lP=(t={})=>Ml(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));lP.props={};const uP=(t={})=>Ml(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));uP.props={};const fP=(t={})=>Ml(Object.assign(Object.assign({},t),{channels:["color"]}));fP.props={};function KW(t,e,r){return(e.length!==2?Si(Ap(t,e,r),([n,i],[a,o])=>gn(i,o)||gn(n,a)):Si(nn(t,r),([n,i],[a,o])=>e(i,o)||gn(n,a))).map(([n])=>n)}var hP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function ZW(t,e,r){const{by:n=t,reducer:i="max"}=e,[a]=Ee(r,n);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>Zn(o,s=>+a[s]);if(i==="min")return o=>ni(o,s=>+a[s]);if(i==="sum")return o=>Qi(o,s=>+a[s]);if(i==="median")return o=>Xv(o,s=>+a[s]);if(i==="mean")return o=>nh(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function QW(t,e,r){const{reverse:n,slice:i,channel:a}=r,{encode:o}=e,[s]=Ee(o,a),c=Si(t,l=>s[l]);return n&&c.reverse(),[c,e]}function JW(t,e,r){const{reverse:n,slice:i,channel:a}=r,o=hP(r,["reverse","slice","channel"]),{encode:s}=e,[c]=Ee(s,a),l=ZW(a,o,s),u=KW(t,l,d=>c[d]);n&&u.reverse();const f=typeof i=="number"?[0,i]:i,h=i?u.slice(...f):u;return[t,bt(e,{scale:{[a]:{domain:h}}})]}const oh=(t={})=>{const{reverse:e=!1,slice:r,channel:n,ordinal:i=!0}=t,a=hP(t,["reverse","slice","channel","ordinal"]);return(o,s)=>i?JW(o,s,Object.assign({reverse:e,slice:r,channel:n},a)):QW(o,s,Object.assign({reverse:e,slice:r,channel:n},a))};oh.props={};const dP=(t={})=>oh(Object.assign(Object.assign({},t),{channel:"x"}));dP.props={};const pP=(t={})=>oh(Object.assign(Object.assign({},t),{channel:"color"}));pP.props={};const vP=(t={})=>oh(Object.assign(Object.assign({},t),{channel:"y"}));vP.props={};function tY(t,e){return typeof e=="string"?t.map(r=>r[e]):t.map(e)}function eY(t,e){if(typeof t=="function")return r=>t(r,e);if(t==="sum")return r=>Qi(r,n=>+e[n]);throw new Error(`Unknown reducer: ${t}`)}const gP=(t={})=>{const{field:e,channel:r="y",reducer:n="sum"}=t;return(i,a)=>{const{data:o,encode:s}=a,[c]=Ee(s,"x"),l=e?tY(o,e):Ee(s,r)[0],u=eY(n,l),f=kp(i,u,h=>c[h]).map(h=>h[1]);return[i,bt({},a,{scale:{x:{flex:f}}})]}};gP.props={};function nY(t,e,r){const n=t.length;if(n===0)return[];const{innerWidth:i,innerHeight:a}=r,o=a/i;let s=Math.ceil(Math.sqrt(e/o)),c=i/s,l=Math.ceil(e/s),u=l*c;for(;u>a;)s=s+1,c=i/s,l=Math.ceil(e/s),u=l*c;const f=a-l*c,h=l<=1?0:f/(l-1),[d,p]=l<=1?[(i-n*c)/(n-1),(a-c)/2]:[0,0];return t.map((v,g)=>{const[m,b,_,O]=b0(v),E=g%s,P=Math.floor(g/s),A=E*c,T=(l-P-1)*c+f,C=c/_,L=c/O,N=A-m+d*E,x=T-b-h*P-p;return`translate(${N}, ${x}) scale(${C}, ${L})`})}const mP=()=>(t,e)=>[t,bt({},e,{modifier:nY,axis:!1})];mP.props={};function yP(t,e){let r=0;if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&++r}return r}function rY(t,e,r){return Math.ceil((r-e)*Math.cbrt(yP(t))/(3.49*tP(t)))}var bP=Array.prototype,iY=bP.slice,Bet=bP.map;function Zv(t){return()=>t}const aY=Math.sqrt(50),oY=Math.sqrt(10),sY=Math.sqrt(2);function sh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=aY?10:a>=oY?5:a>=sY?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=r&&r<2?sh(t,e,r*2):[s,c,l]}function cY(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?sh(e,t,r):sh(t,e,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Pl(t,e,r){return e=+e,t=+t,r=+r,sh(t,e,r)[2]}function Fet(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Pl(e,t,r):Pl(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function lY(t,e,r){let n;for(;;){const i=Pl(t,e,r);if(i===n||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),n=i}}function uY(t){return Math.ceil(Math.log(yP(t))/Math.LN2)+1}function fY(){var t=ef,e=Ba,r=uY;function n(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,c,l=new Array(o);for(a=0;a<o;++a)l[a]=t(i[a],a,i);var u=e(l),f=u[0],h=u[1],d=r(l,f,h);if(!Array.isArray(d)){const _=h,O=+d;if(e===Ba&&([f,h]=lY(f,h,O)),d=cY(f,h,O),d[0]<=f&&(c=Pl(f,h,O)),d[d.length-1]>=h)if(_>=h&&e===Ba){const E=Pl(f,h,O);isFinite(E)&&(E>0?h=(Math.floor(h/E)+1)*E:E<0&&(h=(Math.ceil(h*-E)+1)/-E))}else d.pop()}for(var p=d.length,v=0,g=p;d[v]<=f;)++v;for(;d[g-1]>h;)--g;(v||g<p)&&(d=d.slice(v,g),p=g-v);var m=new Array(p+1),b;for(a=0;a<=p;++a)b=m[a]=[],b.x0=a>0?d[a-1]:f,b.x1=a<p?d[a]:h;if(isFinite(c)){if(c>0)for(a=0;a<o;++a)(s=l[a])!=null&&f<=s&&s<=h&&m[Math.min(p,Math.floor((s-f)/c))].push(i[a]);else if(c<0){for(a=0;a<o;++a)if((s=l[a])!=null&&f<=s&&s<=h){const _=Math.floor((f-s)*c);m[Math.min(p,_+(d[_]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=l[a])!=null&&f<=s&&s<=h&&m[gG(d,s,0,p)].push(i[a]);return m}return n.value=function(i){return arguments.length?(t=typeof i=="function"?i:Zv(i),n):t},n.domain=function(i){return arguments.length?(e=typeof i=="function"?i:Zv([i[0],i[1]]),n):e},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Zv(Array.isArray(i)?iY.call(i):i),n):r},n}var hY=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const xP="thresholds";function dY(t){const[e,r]=Ba(t);return Math.min(200,rY(t,e,r))}const Qv=(t={})=>{const{groupChannels:e=["color"],binChannels:r=["x","y"]}=t,n=hY(t,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:c}=s,l=r.map(p=>{const[v]=Ee(c,p);return v}),u=Wt(n,xP),f=o.filter(p=>l.every(v=>zn(v[p]))),h=[...e.map(p=>{const[v]=Ee(c,p);return v}).filter(zn).map(p=>v=>p[v]),...r.map((p,v)=>{const g=l[v],m=u[p]||dY(g),b=fY().thresholds(m).value(O=>+g[O])(f),_=new Map(b.flatMap(O=>{const{x0:E,x1:P}=O,A=`${E},${P}`;return O.map(T=>[T,A])}));return i[p]=_,O=>_.get(O)})],d=p=>h.map(v=>v(p)).join("-");return Array.from(nn(f,d).values())};return Kv(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(n).filter(([o])=>!o.startsWith(xP)))),Object.fromEntries(r.flatMap(o=>[[o,([s])=>+i[o].get(s).split(",")[0]],[`${o}1`,([s])=>+i[o].get(s).split(",")[1]]]))),{groupBy:a}))};Qv.props={};const _P=(t={})=>{const{thresholds:e}=t;return Qv(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};_P.props={};function pY(t,e,r,n){const i=t.length;if(n>=i||n===0)return t;const a=d=>e[t[d]]*1,o=d=>r[t[d]]*1,s=[],c=(i-2)/(n-2);let l=0,u,f,h;s.push(l);for(let d=0;d<n-2;d++){let p=0,v=0,g=Math.floor((d+1)*c)+1,m=Math.floor((d+2)*c)+1;m=Math.min(m,i);const b=m-g;for(;g<m;g++)p+=a(g),v+=o(g);p/=b,v/=b;let _=Math.floor((d+0)*c)+1;const O=Math.floor((d+1)*c)+1,E=[a(l),o(l)];for(u=f=-1;_<O;_++)f=Math.abs((E[0]-p)*(a(_)-E[1])-(E[0]-o(_))*(v-E[0]))*.5,f>u&&(u=f,h=_);s.push(h),l=h}return s.push(i-1),s.map(d=>t[d])}function vY(t){if(typeof t=="function")return t;if(t==="lttb")return pY;const e={first:n=>[n[0]],last:n=>[n[n.length-1]],min:(n,i,a)=>[n[Bp(n,o=>a[o])]],max:(n,i,a)=>[n[us(n,o=>a[o])]],median:(n,i,a)=>[n[AW(n,o=>a[o])]]},r=e[t]||e.median;return(n,i,a,o)=>{const s=Math.max(1,Math.floor(n.length/o));return gY(n,s).flatMap(l=>r(l,i,a))}}function gY(t,e){const r=t.length,n=[];let i=0;for(;i<r;)n.push(t.slice(i,i+=e));return n}const wP=(t={})=>{const{strategy:e="median",thresholds:r=2e3,groupBy:n=["series","color"]}=t,i=vY(e);return(a,o)=>{const{encode:s}=o,c=Xa(n,a,o),[l]=Ee(s,"x"),[u]=Ee(s,"y");return[c.flatMap(f=>i(f,l,u,r)),o]}};wP.props={};const OP=(t={})=>(e,r)=>{const{encode:n}=r,i=Object.entries(t).map(([l,u])=>{const[f]=Ee(n,l);if(!f)return null;if(typeof u=="function")return d=>u(f[d]);const h=Array.isArray(u)?u:[u];return h.length===0?null:d=>h.includes(f[d])}).filter(zn);if(i.length===0)return[e,r];const a=l=>i.every(u=>u(l)),o=e.filter(a),s=o.map((l,u)=>u),c=Object.entries(n).map(([l,u])=>[l,Object.assign(Object.assign({},u),{value:s.map(f=>u.value[o[f]])})]);return[e,bt({},r,{encode:Object.fromEntries(c)})]};OP.props={};function Jv(t){const{min:e,max:r}=t;return[[e[0],e[1]],[r[0],r[1]]]}function SP(t,e){const[r,n]=t,[i,a]=e;return r>=i[0]&&r<=a[0]&&n>=i[1]&&n<=a[1]}function mY(t,e){const[r,n]=t;return!(SP(r,e)&&SP(n,e))}function yY(t,e){const[r,n]=t,[i,a]=e;return r[0]<a[0]&&n[0]>i[0]&&r[1]<a[1]&&n[1]>i[1]}const bY=t=>{const{priority:e}=t;return(r,n)=>{const i=[];return e&&r.sort(e),r.forEach(a=>{a.attr("visibility","visible");const o=a.getLocalBounds();i.some(c=>yY(Jv(o),Jv(c.getLocalBounds())))?a.attr("visibility","hidden"):i.push(a)}),r}};function xY([t,e],[r,n]){return n>t&&e>r}function ch(){const t=new Map;return[n=>t.get(n),(n,i)=>t.set(n,i)]}function _Y(t){const e=t.cloneNode(!0),r=e.getElementById("connector");r&&e.removeChild(r);const{min:n,max:i}=e.getRenderBounds();return e.destroy(),{min:n,max:i}}const wY=t=>{const{maxIterations:e=10,maxError:r=.1,padding:n=1}=t;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=ch(),[c,l]=ch(),[u,f]=ch(),[h,d]=ch();for(const p of i){const{min:v,max:g}=_Y(p),[m,b]=v,[_,O]=g;s(p,b),l(p,b),f(p,O-b),d(p,[m,_])}for(let p=0;p<e;p++){i.sort((g,m)=>gn(c(g),c(m)));let v=0;for(let g=0;g<a-1;g++){const m=i[g];let b=g+1,_;for(;(_=i[b])&&!xY(h(m),h(_));)b+=1;if(_){const O=c(m),E=u(m),P=c(_),A=P-(O+E);if(A<n){const T=(n-A)/2;v=Math.max(v,T),l(m,O-T),l(_,P+T)}}}if(v<r)break}for(const p of i)p.style.y+=c(p)-o(p);return i}};function OY(t){return typeof t=="object"?t:Oa(t)}function tg(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function EP(t,e,r){return .2126*tg(t)+.7152*tg(e)+.0722*tg(r)}function MP(t,e){const{r,g:n,b:i}=t,{r:a,g:o,b:s}=e,c=EP(r,n,i),l=EP(a,o,s);return(Math.max(c,l)+.05)/(Math.min(c,l)+.05)}function SY(t,e){const r=us(e,n=>MP(t,OY(n)));return e[r]}const EY=t=>{const{threshold:e=4.5,palette:r=["#000","#fff"]}=t;return(n,i)=>(n.forEach(a=>{const o=a.attr("dependentElement").parsedStyle.fill,s=a.parsedStyle.fill;MP(s,o)<e&&a.attr("fill",SY(o,r))}),n)},MY=t=>(e,r)=>(e.forEach(n=>{n.attr("visibility","visible");const i=n.attr("bounds"),a=n.getLocalBounds();mY(Jv(a),i)&&n.attr("visibility","hidden")}),e);var Al=t=>t;function lh(t,e){t&&AP.hasOwnProperty(t.type)&&AP[t.type](t,e)}var PP={Feature:function(t,e){lh(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)lh(r[n].geometry,e)}},AP={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){eg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)eg(r[n],e,0)},Polygon:function(t,e){kP(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)kP(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)lh(r[n],e)}};function eg(t,e,r){var n=-1,i=t.length-r,a;for(e.lineStart();++n<i;)a=t[n],e.point(a[0],a[1],a[2]);e.lineEnd()}function kP(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)eg(t[r],e,1);e.polygonEnd()}function Bs(t,e){t&&PP.hasOwnProperty(t.type)?PP[t.type](t,e):lh(t,e)}class aa{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const r=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const a=r[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(r[n++]=s),e=o}return r[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let r=this._n,n,i,a,o=0;if(r>0){for(o=e[--r];r>0&&(n=o,i=e[--r],o=n+i,a=i-(o-n),!a););r>0&&(a<0&&e[r-1]<0||a>0&&e[r-1]>0)&&(i=a*2,n=o+i,i==n-o&&(o=n))}return o}}function zet(t,e){const r=new aa;if(e===void 0)for(let n of t)(n=+n)&&r.add(n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&r.add(i)}return+r}function Get(t,e){const r=new aa;let n=-1;return Float64Array.from(t,e===void 0?i=>r.add(+i||0):i=>r.add(+e(i,++n,t)||0))}var Zt=1e-6,TP=1e-12,be=Math.PI,On=be/2,LP=be/4,Nr=be*2,nr=180/be,mn=be/180,De=Math.abs,Fs=Math.atan,oa=Math.atan2,ve=Math.cos,uh=Math.ceil,CP=Math.exp,$et=Math.floor,Wet=Math.hypot,fh=Math.log,ng=Math.pow,oe=Math.sin,Xr=Math.sign||function(t){return t>0?1:t<0?-1:0},_r=Math.sqrt,rg=Math.tan;function NP(t){return t>1?0:t<-1?be:Math.acos(t)}function qr(t){return t>1?On:t<-1?-On:Math.asin(t)}function Yet(t){return(t=oe(t/2))*t}function Ur(){}var ig=new aa,ag=new aa,RP,IP,og,sg,Ua={point:Ur,lineStart:Ur,lineEnd:Ur,polygonStart:function(){Ua.lineStart=PY,Ua.lineEnd=kY},polygonEnd:function(){Ua.lineStart=Ua.lineEnd=Ua.point=Ur,ig.add(De(ag)),ag=new aa},result:function(){var t=ig/2;return ig=new aa,t}};function PY(){Ua.point=AY}function AY(t,e){Ua.point=DP,RP=og=t,IP=sg=e}function DP(t,e){ag.add(sg*t-og*e),og=t,sg=e}function kY(){DP(RP,IP)}var jP=Ua,zs=1/0,hh=zs,kl=-zs,dh=kl,TY={point:LY,lineStart:Ur,lineEnd:Ur,polygonStart:Ur,polygonEnd:Ur,result:function(){var t=[[zs,hh],[kl,dh]];return kl=dh=-(hh=zs=1/0),t}};function LY(t,e){t<zs&&(zs=t),t>kl&&(kl=t),e<hh&&(hh=e),e>dh&&(dh=e)}var ph=TY,cg=0,lg=0,Tl=0,vh=0,gh=0,Gs=0,ug=0,fg=0,Ll=0,BP,FP,Li,Ci,li={point:Co,lineStart:zP,lineEnd:GP,polygonStart:function(){li.lineStart=RY,li.lineEnd=IY},polygonEnd:function(){li.point=Co,li.lineStart=zP,li.lineEnd=GP},result:function(){var t=Ll?[ug/Ll,fg/Ll]:Gs?[vh/Gs,gh/Gs]:Tl?[cg/Tl,lg/Tl]:[NaN,NaN];return cg=lg=Tl=vh=gh=Gs=ug=fg=Ll=0,t}};function Co(t,e){cg+=t,lg+=e,++Tl}function zP(){li.point=CY}function CY(t,e){li.point=NY,Co(Li=t,Ci=e)}function NY(t,e){var r=t-Li,n=e-Ci,i=_r(r*r+n*n);vh+=i*(Li+t)/2,gh+=i*(Ci+e)/2,Gs+=i,Co(Li=t,Ci=e)}function GP(){li.point=Co}function RY(){li.point=DY}function IY(){$P(BP,FP)}function DY(t,e){li.point=$P,Co(BP=Li=t,FP=Ci=e)}function $P(t,e){var r=t-Li,n=e-Ci,i=_r(r*r+n*n);vh+=i*(Li+t)/2,gh+=i*(Ci+e)/2,Gs+=i,i=Ci*t-Li*e,ug+=i*(Li+t),fg+=i*(Ci+e),Ll+=i*3,Co(Li=t,Ci=e)}var WP=li;function YP(t){this._context=t}YP.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Nr);break}}},result:Ur};var hg=new aa,dg,HP,VP,Cl,Nl,mh={point:Ur,lineStart:function(){mh.point=jY},lineEnd:function(){dg&&XP(HP,VP),mh.point=Ur},polygonStart:function(){dg=!0},polygonEnd:function(){dg=null},result:function(){var t=+hg;return hg=new aa,t}};function jY(t,e){mh.point=XP,HP=Cl=t,VP=Nl=e}function XP(t,e){Cl-=t,Nl-=e,hg.add(_r(Cl*Cl+Nl*Nl)),Cl=t,Nl=e}var qP=mh;let UP,yh,KP,ZP;class QP{constructor(e){this._append=e==null?JP:BY(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==KP||this._append!==yh){const n=this._radius,i=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,KP=n,yh=this._append,ZP=this._,this._=i}this._+=ZP;break}}}result(){const e=this._;return this._="",e.length?e:null}}function JP(t){let e=1;this._+=t[0];for(const r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function BY(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return JP;if(e!==UP){const r=Pn(10,e);UP=e,yh=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}return yh}function tA(t,e){let r=3,n=4.5,i,a;function o(s){return s&&(typeof n=="function"&&a.pointRadius(+n.apply(this,arguments)),Bs(s,i(a))),a.result()}return o.area=function(s){return Bs(s,i(jP)),jP.result()},o.measure=function(s){return Bs(s,i(qP)),qP.result()},o.bounds=function(s){return Bs(s,i(ph)),ph.result()},o.centroid=function(s){return Bs(s,i(WP)),WP.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Al):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new QP(r)):new YP(e=s),typeof n!="function"&&a.pointRadius(n),o):e},o.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(a.pointRadius(+s),+s),o):n},o.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);r=c}return e===null&&(a=new QP(r)),o},o.projection(t).digits(r).context(e)}function $s(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function eA(t,e,r){var n=$s(t,e-Zt,r).concat(e);return function(i){return n.map(function(a){return[i,a]})}}function nA(t,e,r){var n=$s(t,e-Zt,r).concat(e);return function(i){return n.map(function(a){return[a,i]})}}function FY(){var t,e,r,n,i,a,o,s,c=10,l=c,u=90,f=360,h,d,p,v,g=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return $s(uh(n/u)*u,r,u).map(p).concat($s(uh(s/f)*f,o,f).map(v)).concat($s(uh(e/c)*c,t,c).filter(function(_){return De(_%u)>Zt}).map(h)).concat($s(uh(a/l)*l,i,l).filter(function(_){return De(_%f)>Zt}).map(d))}return m.lines=function(){return b().map(function(_){return{type:"LineString",coordinates:_}})},m.outline=function(){return{type:"Polygon",coordinates:[p(n).concat(v(o).slice(1),p(r).reverse().slice(1),v(s).reverse().slice(1))]}},m.extent=function(_){return arguments.length?m.extentMajor(_).extentMinor(_):m.extentMinor()},m.extentMajor=function(_){return arguments.length?(n=+_[0][0],r=+_[1][0],s=+_[0][1],o=+_[1][1],n>r&&(_=n,n=r,r=_),s>o&&(_=s,s=o,o=_),m.precision(g)):[[n,s],[r,o]]},m.extentMinor=function(_){return arguments.length?(e=+_[0][0],t=+_[1][0],a=+_[0][1],i=+_[1][1],e>t&&(_=e,e=t,t=_),a>i&&(_=a,a=i,i=_),m.precision(g)):[[e,a],[t,i]]},m.step=function(_){return arguments.length?m.stepMajor(_).stepMinor(_):m.stepMinor()},m.stepMajor=function(_){return arguments.length?(u=+_[0],f=+_[1],m):[u,f]},m.stepMinor=function(_){return arguments.length?(c=+_[0],l=+_[1],m):[c,l]},m.precision=function(_){return arguments.length?(g=+_,h=eA(a,i,90),d=nA(e,t,g),p=eA(s,o,90),v=nA(n,r,g),m):g},m.extentMajor([[-180,-90+Zt],[180,90-Zt]]).extentMinor([[-180,-80-Zt],[180,80+Zt]])}function zY(){return FY()()}function rA(){var t=[],e;return{point:function(r,n,i){e.push([r,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Ur,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function bh(t,e){return De(t[0]-e[0])<Zt&&De(t[1]-e[1])<Zt}function xh(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function iA(t,e,r,n,i){var a=[],o=[],s,c;if(t.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],m=p[v],b;if(bh(g,m)){if(!g[2]&&!m[2]){for(i.lineStart(),s=0;s<v;++s)i.point((g=p[s])[0],g[1]);i.lineEnd();return}m[0]+=2*Zt}a.push(b=new xh(g,p,null,!0)),o.push(b.o=new xh(g,null,b,!1)),a.push(b=new xh(m,p,null,!1)),o.push(b.o=new xh(m,null,b,!0))}}),!!a.length){for(o.sort(e),aA(a),aA(o),s=0,c=o.length;s<c;++s)o[s].e=r=!r;for(var l=a[0],u,f;;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(s=0,c=u.length;s<c;++s)i.point((f=u[s])[0],f[1]);else n(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((f=u[s])[0],f[1]);else n(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function aA(t){if(!!(e=t.length)){for(var e,r=0,n=t[0],i;++r<e;)n.n=i=t[r],i.p=n,n=i;n.n=i=t[0],i.p=n}}function pg(t){return[oa(t[1],t[0]),qr(t[2])]}function Ws(t){var e=t[0],r=t[1],n=ve(r);return[n*ve(e),n*oe(e),oe(r)]}function _h(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function vg(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Oh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function gg(t){var e=_r(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function mg(t){return De(t[0])<=be?t[0]:Xr(t[0])*((De(t[0])+be)%Nr-be)}function GY(t,e){var r=mg(e),n=e[1],i=oe(n),a=[oe(r),-ve(r),0],o=0,s=0,c=new aa;i===1?n=On+Zt:i===-1&&(n=-On-Zt);for(var l=0,u=t.length;l<u;++l)if(!!(h=(f=t[l]).length))for(var f,h,d=f[h-1],p=mg(d),v=d[1]/2+LP,g=oe(v),m=ve(v),b=0;b<h;++b,p=O,g=P,m=A,d=_){var _=f[b],O=mg(_),E=_[1]/2+LP,P=oe(E),A=ve(E),T=O-p,C=T>=0?1:-1,L=C*T,N=L>be,x=g*P;if(c.add(oa(x*C*oe(L),m*A+x*ve(L))),o+=N?T+C*Nr:T,N^p>=r^O>=r){var y=wh(Ws(d),Ws(_));gg(y);var w=wh(a,y);gg(w);var M=(N^T>=0?-1:1)*qr(w[2]);(n>M||n===M&&(y[0]||y[1]))&&(s+=N^T>=0?1:-1)}}return(o<-Zt||o<Zt&&c<-TP)^s&1}function*$Y(t){for(const e of t)yield*e}function oA(t){return Array.from($Y(t))}function sA(t,e,r,n){return function(i){var a=e(i),o=rA(),s=e(o),c=!1,l,u,f,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=b,h.lineEnd=_,u=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,u=oA(u);var O=GY(l,n);u.length?(c||(i.polygonStart(),c=!0),iA(u,YY,O,r,i)):O&&(c||(i.polygonStart(),c=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(O,E){t(O,E)&&i.point(O,E)}function p(O,E){a.point(O,E)}function v(){h.point=p,a.lineStart()}function g(){h.point=d,a.lineEnd()}function m(O,E){f.push([O,E]),s.point(O,E)}function b(){s.lineStart(),f=[]}function _(){m(f[0][0],f[0][1]),s.lineEnd();var O=s.clean(),E=o.result(),P,A=E.length,T,C,L;if(f.pop(),l.push(f),f=null,!!A){if(O&1){if(C=E[0],(T=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),P=0;P<T;++P)i.point((L=C[P])[0],L[1]);i.lineEnd()}return}A>1&&O&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(WY))}}return h}}function WY(t){return t.length>1}function YY(t,e){return((t=t.x)[0]<0?t[1]-On-Zt:On-t[1])-((e=e.x)[0]<0?e[1]-On-Zt:On-e[1])}var cA=sA(function(){return!0},HY,XY,[-be,-On]);function HY(t){var e=NaN,r=NaN,n=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?be:-be,c=De(a-e);De(c-be)<Zt?(t.point(e,r=(r+o)/2>0?On:-On),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),i=0):n!==s&&c>=be&&(De(e-n)<Zt&&(e-=n*Zt),De(a-s)<Zt&&(a-=s*Zt),r=VY(e,r,a,o),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(s,r),i=0),t.point(e=a,r=o),n=s},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-i}}}function VY(t,e,r,n){var i,a,o=oe(t-r);return De(o)>Zt?Fs((oe(e)*(a=ve(n))*oe(r)-oe(n)*(i=ve(e))*oe(t))/(i*a*o)):(e+n)/2}function XY(t,e,r,n){var i;if(t==null)i=r*On,n.point(-be,i),n.point(0,i),n.point(be,i),n.point(be,0),n.point(be,-i),n.point(0,-i),n.point(-be,-i),n.point(-be,0),n.point(-be,i);else if(De(t[0]-e[0])>Zt){var a=t[0]<e[0]?be:-be;i=r*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(e[0],e[1])}function lA(t,e,r,n,i,a){if(!!r){var o=ve(e),s=oe(e),c=n*r;i==null?(i=e+n*Nr,a=e-c/2):(i=uA(o,i),a=uA(o,a),(n>0?i<a:i>a)&&(i+=n*Nr));for(var l,u=i;n>0?u>a:u<a;u-=c)l=pg([o,-s*ve(u),-s*oe(u)]),t.point(l[0],l[1])}}function uA(t,e){e=Ws(e),e[0]-=t,gg(e);var r=NP(-e[1]);return((-e[2]<0?-r:r)+Nr-Zt)%Nr}function Het(){var t=constant([0,0]),e=constant(90),r=constant(6),n,i,a={point:o};function o(c,l){n.push(c=i(c,l)),c[0]*=degrees,c[1]*=degrees}function s(){var c=t.apply(this,arguments),l=e.apply(this,arguments)*radians,u=r.apply(this,arguments)*radians;return n=[],i=rotateRadians(-c[0]*radians,-c[1]*radians,0).invert,lA(a,l,u,1),c={type:"Polygon",coordinates:[n]},n=i=null,c}return s.center=function(c){return arguments.length?(t=typeof c=="function"?c:constant([+c[0],+c[1]]),s):t},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:constant(+c),s):e},s.precision=function(c){return arguments.length?(r=typeof c=="function"?c:constant(+c),s):r},s}function qY(t){var e=ve(t),r=6*mn,n=e>0,i=De(e)>Zt;function a(u,f,h,d){lA(d,t,r,h,u,f)}function o(u,f){return ve(u)*ve(f)>e}function s(u){var f,h,d,p,v;return{lineStart:function(){p=d=!1,v=1},point:function(g,m){var b=[g,m],_,O=o(g,m),E=n?O?0:l(g,m):O?l(g+(g<0?be:-be),m):0;if(!f&&(p=d=O)&&u.lineStart(),O!==d&&(_=c(f,b),(!_||bh(f,_)||bh(b,_))&&(b[2]=1)),O!==d)v=0,O?(u.lineStart(),_=c(b,f),u.point(_[0],_[1])):(_=c(f,b),u.point(_[0],_[1],2),u.lineEnd()),f=_;else if(i&&f&&n^O){var P;!(E&h)&&(P=c(b,f,!0))&&(v=0,n?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}O&&(!f||!bh(f,b))&&u.point(b[0],b[1]),f=b,d=O,h=E},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return v|(p&&d)<<1}}}function c(u,f,h){var d=Ws(u),p=Ws(f),v=[1,0,0],g=wh(d,p),m=_h(g,g),b=g[0],_=m-b*b;if(!_)return!h&&u;var O=e*m/_,E=-e*b/_,P=wh(v,g),A=Oh(v,O),T=Oh(g,E);vg(A,T);var C=P,L=_h(A,C),N=_h(C,C),x=L*L-N*(_h(A,A)-1);if(!(x<0)){var y=_r(x),w=Oh(C,(-L-y)/N);if(vg(w,A),w=pg(w),!h)return w;var M=u[0],S=f[0],k=u[1],I=f[1],j;S<M&&(j=M,M=S,S=j);var F=S-M,X=De(F-be)<Zt,K=X||F<Zt;if(!X&&I<k&&(j=k,k=I,I=j),K?X?k+I>0^w[1]<(De(w[0]-M)<Zt?k:I):k<=w[1]&&w[1]<=I:F>be^(M<=w[0]&&w[0]<=S)){var Q=Oh(C,(-L+y)/N);return vg(Q,A),[w,pg(Q)]}}}function l(u,f){var h=n?t:be-t,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return sA(o,s,a,n?[0,-t]:[-be,t-be])}function UY(t,e,r,n,i,a){var o=t[0],s=t[1],c=e[0],l=e[1],u=0,f=1,h=c-o,d=l-s,p;if(p=r-o,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-o,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}return u>0&&(t[0]=o+u*h,t[1]=s+u*d),f<1&&(e[0]=o+f*h,e[1]=s+f*d),!0}}}}}var Rl=1e9,Sh=-Rl;function fA(t,e,r,n){function i(l,u){return t<=l&&l<=r&&e<=u&&u<=n}function a(l,u,f,h){var d=0,p=0;if(l==null||(d=o(l,f))!==(p=o(u,f))||c(l,u)<0^f>0)do h.point(d===0||d===3?t:r,d>1?n:e);while((d=(d+f+4)%4)!==p);else h.point(u[0],u[1])}function o(l,u){return De(l[0]-t)<Zt?u>0?0:3:De(l[0]-r)<Zt?u>0?2:1:De(l[1]-e)<Zt?u>0?1:0:u>0?3:2}function s(l,u){return c(l.x,u.x)}function c(l,u){var f=o(l,1),h=o(u,1);return f!==h?f-h:f===0?u[1]-l[1]:f===1?l[0]-u[0]:f===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,f=rA(),h,d,p,v,g,m,b,_,O,E,P,A={point:T,lineStart:x,lineEnd:y,polygonStart:L,polygonEnd:N};function T(M,S){i(M,S)&&u.point(M,S)}function C(){for(var M=0,S=0,k=d.length;S<k;++S)for(var I=d[S],j=1,F=I.length,X=I[0],K,Q,dt=X[0],Ct=X[1];j<F;++j)K=dt,Q=Ct,X=I[j],dt=X[0],Ct=X[1],Q<=n?Ct>n&&(dt-K)*(n-Q)>(Ct-Q)*(t-K)&&++M:Ct<=n&&(dt-K)*(n-Q)<(Ct-Q)*(t-K)&&--M;return M}function L(){u=f,h=[],d=[],P=!0}function N(){var M=C(),S=P&&M,k=(h=oA(h)).length;(S||k)&&(l.polygonStart(),S&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),k&&iA(h,s,M,a,l),l.polygonEnd()),u=l,h=d=p=null}function x(){A.point=w,d&&d.push(p=[]),E=!0,O=!1,b=_=NaN}function y(){h&&(w(v,g),m&&O&&f.rejoin(),h.push(f.result())),A.point=T,O&&u.lineEnd()}function w(M,S){var k=i(M,S);if(d&&p.push([M,S]),E)v=M,g=S,m=k,E=!1,k&&(u.lineStart(),u.point(M,S));else if(k&&O)u.point(M,S);else{var I=[b=Math.max(Sh,Math.min(Rl,b)),_=Math.max(Sh,Math.min(Rl,_))],j=[M=Math.max(Sh,Math.min(Rl,M)),S=Math.max(Sh,Math.min(Rl,S))];UY(I,j,t,e,r,n)?(O||(u.lineStart(),u.point(I[0],I[1])),u.point(j[0],j[1]),k||u.lineEnd(),P=!1):k&&(u.lineStart(),u.point(M,S),P=!1)}b=M,_=S,O=k}return A}}function yg(t,e){function r(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),r}function bg(t,e){return De(t)>be&&(t-=Math.round(t/Nr)*Nr),[t,e]}bg.invert=bg;function hA(t,e,r){return(t%=Nr)?e||r?yg(pA(t),vA(e,r)):pA(t):e||r?vA(e,r):bg}function dA(t){return function(e,r){return e+=t,De(e)>be&&(e-=Math.round(e/Nr)*Nr),[e,r]}}function pA(t){var e=dA(t);return e.invert=dA(-t),e}function vA(t,e){var r=ve(t),n=oe(t),i=ve(e),a=oe(e);function o(s,c){var l=ve(c),u=ve(s)*l,f=oe(s)*l,h=oe(c),d=h*r+u*n;return[oa(f*i-d*a,u*r-h*n),qr(d*i+f*a)]}return o.invert=function(s,c){var l=ve(c),u=ve(s)*l,f=oe(s)*l,h=oe(c),d=h*i-f*a;return[oa(f*i+h*a,u*r+d*n),qr(d*r-u*n)]},o}function KY(t){t=hA(t[0]*mn,t[1]*mn,t.length>2?t[2]*mn:0);function e(r){return r=t(r[0]*mn,r[1]*mn),r[0]*=nr,r[1]*=nr,r}return e.invert=function(r){return r=t.invert(r[0]*mn,r[1]*mn),r[0]*=nr,r[1]*=nr,r},e}function Vet(t){return{stream:Il(t)}}function Il(t){return function(e){var r=new xg;for(var n in t)r[n]=t[n];return r.stream=e,r}}function xg(){}xg.prototype={constructor:xg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _g(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Bs(r,t.stream(ph)),e(ph.result()),n!=null&&t.clipExtent(n),t}function Eh(t,e,r){return _g(t,function(n){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,c=+e[0][1]+(a-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,c])},r)}function wg(t,e,r){return Eh(t,[[0,0],e],r)}function Og(t,e,r){return _g(t,function(n){var i=+e,a=i/(n[1][0]-n[0][0]),o=(i-a*(n[1][0]+n[0][0]))/2,s=-a*n[0][1];t.scale(150*a).translate([o,s])},r)}function Sg(t,e,r){return _g(t,function(n){var i=+e,a=i/(n[1][1]-n[0][1]),o=-a*n[0][0],s=(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])},r)}var gA=16,ZY=ve(30*mn);function mA(t,e){return+e?JY(t,e):QY(t)}function QY(t){return Il({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function JY(t,e){function r(n,i,a,o,s,c,l,u,f,h,d,p,v,g){var m=l-n,b=u-i,_=m*m+b*b;if(_>4*e&&v--){var O=o+h,E=s+d,P=c+p,A=_r(O*O+E*E+P*P),T=qr(P/=A),C=De(De(P)-1)<Zt||De(a-f)<Zt?(a+f)/2:oa(E,O),L=t(C,T),N=L[0],x=L[1],y=N-n,w=x-i,M=b*y-m*w;(M*M/_>e||De((m*y+b*w)/_-.5)>.3||o*h+s*d+c*p<ZY)&&(r(n,i,a,o,s,c,N,x,C,O/=A,E/=A,P,v,g),g.point(N,x),r(N,x,C,O,E,P,l,u,f,h,d,p,v,g))}}return function(n){var i,a,o,s,c,l,u,f,h,d,p,v,g={point:m,lineStart:b,lineEnd:O,polygonStart:function(){n.polygonStart(),g.lineStart=E},polygonEnd:function(){n.polygonEnd(),g.lineStart=b}};function m(T,C){T=t(T,C),n.point(T[0],T[1])}function b(){f=NaN,g.point=_,n.lineStart()}function _(T,C){var L=Ws([T,C]),N=t(T,C);r(f,h,u,d,p,v,f=N[0],h=N[1],u=T,d=L[0],p=L[1],v=L[2],gA,n),n.point(f,h)}function O(){g.point=m,n.lineEnd()}function E(){b(),g.point=P,g.lineEnd=A}function P(T,C){_(i=T,C),a=f,o=h,s=d,c=p,l=v,g.point=_}function A(){r(f,h,u,d,p,v,a,o,i,s,c,l,gA,n),g.lineEnd=O,O()}return g}}var tH=Il({point:function(t,e){this.stream.point(t*mn,e*mn)}});function eH(t){return Il({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function nH(t,e,r,n,i){function a(o,s){return o*=n,s*=i,[e+t*o,r-t*s]}return a.invert=function(o,s){return[(o-e)/t*n,(r-s)/t*i]},a}function yA(t,e,r,n,i,a){if(!a)return nH(t,e,r,n,i);var o=ve(a),s=oe(a),c=o*t,l=s*t,u=o/t,f=s/t,h=(s*r-o*e)/t,d=(s*e+o*r)/t;function p(v,g){return v*=n,g*=i,[c*v-l*g+e,r-l*v-c*g]}return p.invert=function(v,g){return[n*(u*v-f*g+h),i*(d-f*v-u*g)]},p}function Ni(t){return Eg(function(){return t})()}function Eg(t){var e,r=150,n=480,i=250,a=0,o=0,s=0,c=0,l=0,u,f=0,h=1,d=1,p=null,v=cA,g=null,m,b,_,O=Al,E=.5,P,A,T,C,L;function N(M){return T(M[0]*mn,M[1]*mn)}function x(M){return M=T.invert(M[0],M[1]),M&&[M[0]*nr,M[1]*nr]}N.stream=function(M){return C&&L===M?C:C=tH(eH(u)(v(P(O(L=M)))))},N.preclip=function(M){return arguments.length?(v=M,p=void 0,w()):v},N.postclip=function(M){return arguments.length?(O=M,g=m=b=_=null,w()):O},N.clipAngle=function(M){return arguments.length?(v=+M?qY(p=M*mn):(p=null,cA),w()):p*nr},N.clipExtent=function(M){return arguments.length?(O=M==null?(g=m=b=_=null,Al):fA(g=+M[0][0],m=+M[0][1],b=+M[1][0],_=+M[1][1]),w()):g==null?null:[[g,m],[b,_]]},N.scale=function(M){return arguments.length?(r=+M,y()):r},N.translate=function(M){return arguments.length?(n=+M[0],i=+M[1],y()):[n,i]},N.center=function(M){return arguments.length?(a=M[0]%360*mn,o=M[1]%360*mn,y()):[a*nr,o*nr]},N.rotate=function(M){return arguments.length?(s=M[0]%360*mn,c=M[1]%360*mn,l=M.length>2?M[2]%360*mn:0,y()):[s*nr,c*nr,l*nr]},N.angle=function(M){return arguments.length?(f=M%360*mn,y()):f*nr},N.reflectX=function(M){return arguments.length?(h=M?-1:1,y()):h<0},N.reflectY=function(M){return arguments.length?(d=M?-1:1,y()):d<0},N.precision=function(M){return arguments.length?(P=mA(A,E=M*M),w()):_r(E)},N.fitExtent=function(M,S){return Eh(N,M,S)},N.fitSize=function(M,S){return wg(N,M,S)},N.fitWidth=function(M,S){return Og(N,M,S)},N.fitHeight=function(M,S){return Sg(N,M,S)};function y(){var M=yA(r,0,0,h,d,f).apply(null,e(a,o)),S=yA(r,n-M[0],i-M[1],h,d,f);return u=hA(s,c,l),A=yg(e,S),T=yg(u,A),P=mA(A,E),w()}function w(){return C=L=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&x,y()}}function Mg(t){var e=0,r=be/3,n=Eg(t),i=n(e,r);return i.parallels=function(a){return arguments.length?n(e=a[0]*mn,r=a[1]*mn):[e*nr,r*nr]},i}function rH(t){var e=ve(t);function r(n,i){return[n*e,oe(i)/e]}return r.invert=function(n,i){return[n/e,qr(i*e)]},r}function bA(t,e){var r=oe(t),n=(r+oe(e))/2;if(De(n)<Zt)return rH(t);var i=1+r*(2*n-r),a=_r(i)/n;function o(s,c){var l=_r(i-2*n*oe(c))/n;return[l*oe(s*=n),a-l*ve(s)]}return o.invert=function(s,c){var l=a-c,u=oa(s,De(l))*Xr(l);return l*n<0&&(u-=be*Xr(s)*Xr(l)),[u/n,qr((i-(s*s+l*l)*n*n)/(2*n))]},o}function Mh(){return Mg(bA).scale(155.424).center([0,33.6442])}function xA(){return Mh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function iH(t){var e=t.length;return{point:function(r,n){for(var i=-1;++i<e;)t[i].point(r,n)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function aH(){var t,e,r=xA(),n,i=Mh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Mh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,l={point:function(h,d){c=[h,d]}};function u(h){var d=h[0],p=h[1];return c=null,n.point(d,p),c||(a.point(d,p),c)||(s.point(d,p),c)}u.invert=function(h){var d=r.scale(),p=r.translate(),v=(h[0]-p[0])/d,g=(h[1]-p[1])/d;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?i:g>=.166&&g<.234&&v>=-.214&&v<-.115?o:r).invert(h)},u.stream=function(h){return t&&e===h?t:t=iH([r.stream(e=h),i.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(r.precision(h),i.precision(h),o.precision(h),f()):r.precision()},u.scale=function(h){return arguments.length?(r.scale(h),i.scale(h*.35),o.scale(h),u.translate(r.translate())):r.scale()},u.translate=function(h){if(!arguments.length)return r.translate();var d=r.scale(),p=+h[0],v=+h[1];return n=r.translate(h).clipExtent([[p-.455*d,v-.238*d],[p+.455*d,v+.238*d]]).stream(l),a=i.translate([p-.307*d,v+.201*d]).clipExtent([[p-.425*d+Zt,v+.12*d+Zt],[p-.214*d-Zt,v+.234*d-Zt]]).stream(l),s=o.translate([p-.205*d,v+.212*d]).clipExtent([[p-.214*d+Zt,v+.166*d+Zt],[p-.115*d-Zt,v+.234*d-Zt]]).stream(l),f()},u.fitExtent=function(h,d){return Eh(u,h,d)},u.fitSize=function(h,d){return wg(u,h,d)},u.fitWidth=function(h,d){return Og(u,h,d)},u.fitHeight=function(h,d){return Sg(u,h,d)};function f(){return t=e=null,u}return u.scale(1070)}function _A(t){return function(e,r){var n=ve(e),i=ve(r),a=t(n*i);return a===1/0?[2,0]:[a*i*oe(e),a*oe(r)]}}function Dl(t){return function(e,r){var n=_r(e*e+r*r),i=t(n),a=oe(i),o=ve(i);return[oa(e*a,n*o),qr(n&&r*a/n)]}}var Pg=_A(function(t){return _r(2/(1+t))});Pg.invert=Dl(function(t){return 2*qr(t/2)});function oH(){return Ni(Pg).scale(124.75).clipAngle(180-.001)}var Ag=_A(function(t){return(t=NP(t))&&t/oe(t)});Ag.invert=Dl(function(t){return t});function sH(){return Ni(Ag).scale(79.4188).clipAngle(180-.001)}function jl(t,e){return[t,fh(rg((On+e)/2))]}jl.invert=function(t,e){return[t,2*Fs(CP(e))-On]};function cH(){return wA(jl).scale(961/Nr)}function wA(t){var e=Ni(t),r=e.center,n=e.scale,i=e.translate,a=e.clipExtent,o=null,s,c,l;e.scale=function(f){return arguments.length?(n(f),u()):n()},e.translate=function(f){return arguments.length?(i(f),u()):i()},e.center=function(f){return arguments.length?(r(f),u()):r()},e.clipExtent=function(f){return arguments.length?(f==null?o=s=c=l=null:(o=+f[0][0],s=+f[0][1],c=+f[1][0],l=+f[1][1]),u()):o==null?null:[[o,s],[c,l]]};function u(){var f=be*n(),h=e(KY(e.rotate()).invert([0,0]));return a(o==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===jl?[[Math.max(h[0]-f,o),s],[Math.min(h[0]+f,c),l]]:[[o,Math.max(h[1]-f,s)],[c,Math.min(h[1]+f,l)]])}return u()}function Ph(t){return rg((On+t)/2)}function OA(t,e){var r=ve(t),n=t===e?oe(t):fh(r/ve(e))/fh(Ph(e)/Ph(t)),i=r*ng(Ph(t),n)/n;if(!n)return jl;function a(o,s){i>0?s<-On+Zt&&(s=-On+Zt):s>On-Zt&&(s=On-Zt);var c=i/ng(Ph(s),n);return[c*oe(n*o),i-c*ve(n*o)]}return a.invert=function(o,s){var c=i-s,l=Xr(n)*_r(o*o+c*c),u=oa(o,De(c))*Xr(c);return c*n<0&&(u-=be*Xr(o)*Xr(c)),[u/n,2*Fs(ng(i/l,1/n))-On]},a}function lH(){return Mg(OA).scale(109.5).parallels([30,30])}function Bl(t,e){return[t,e]}Bl.invert=Bl;function uH(){return Ni(Bl).scale(152.63)}function SA(t,e){var r=ve(t),n=t===e?oe(t):(r-ve(e))/(e-t),i=r/n+t;if(De(n)<Zt)return Bl;function a(o,s){var c=i-s,l=n*o;return[c*oe(l),i-c*ve(l)]}return a.invert=function(o,s){var c=i-s,l=oa(o,De(c))*Xr(c);return c*n<0&&(l-=be*Xr(o)*Xr(c)),[l/n,i-Xr(n)*_r(o*o+c*c)]},a}function fH(){return Mg(SA).scale(131.154).center([0,13.9389])}var Fl=1.340264,zl=-.081106,Gl=893e-6,$l=.003796,Ah=_r(3)/2,hH=12;function kg(t,e){var r=qr(Ah*oe(e)),n=r*r,i=n*n*n;return[t*ve(r)/(Ah*(Fl+3*zl*n+i*(7*Gl+9*$l*n))),r*(Fl+zl*n+i*(Gl+$l*n))]}kg.invert=function(t,e){for(var r=e,n=r*r,i=n*n*n,a=0,o,s,c;a<hH&&(s=r*(Fl+zl*n+i*(Gl+$l*n))-e,c=Fl+3*zl*n+i*(7*Gl+9*$l*n),r-=o=s/c,n=r*r,i=n*n*n,!(De(o)<TP));++a);return[Ah*t*(Fl+3*zl*n+i*(7*Gl+9*$l*n))/ve(r),qr(oe(r)/Ah)]};function dH(){return Ni(kg).scale(177.158)}function Tg(t,e){var r=ve(e),n=ve(t)*r;return[r*oe(t)/n,oe(e)/n]}Tg.invert=Dl(Fs);function pH(){return Ni(Tg).scale(144.049).clipAngle(60)}function vH(){var t=1,e=0,r=0,n=1,i=1,a=0,o,s,c=null,l,u,f,h=1,d=1,p=Il({point:function(O,E){var P=_([O,E]);this.stream.point(P[0],P[1])}}),v=Al,g,m;function b(){return h=t*n,d=t*i,g=m=null,_}function _(O){var E=O[0]*h,P=O[1]*d;if(a){var A=P*o-E*s;E=E*o+P*s,P=A}return[E+e,P+r]}return _.invert=function(O){var E=O[0]-e,P=O[1]-r;if(a){var A=P*o+E*s;E=E*o-P*s,P=A}return[E/h,P/d]},_.stream=function(O){return g&&m===O?g:g=p(v(m=O))},_.postclip=function(O){return arguments.length?(v=O,c=l=u=f=null,b()):v},_.clipExtent=function(O){return arguments.length?(v=O==null?(c=l=u=f=null,Al):fA(c=+O[0][0],l=+O[0][1],u=+O[1][0],f=+O[1][1]),b()):c==null?null:[[c,l],[u,f]]},_.scale=function(O){return arguments.length?(t=+O,b()):t},_.translate=function(O){return arguments.length?(e=+O[0],r=+O[1],b()):[e,r]},_.angle=function(O){return arguments.length?(a=O%360*mn,s=oe(a),o=ve(a),b()):a*nr},_.reflectX=function(O){return arguments.length?(n=O?-1:1,b()):n<0},_.reflectY=function(O){return arguments.length?(i=O?-1:1,b()):i<0},_.fitExtent=function(O,E){return Eh(_,O,E)},_.fitSize=function(O,E){return wg(_,O,E)},_.fitWidth=function(O,E){return Og(_,O,E)},_.fitHeight=function(O,E){return Sg(_,O,E)},_}function Lg(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),e*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}Lg.invert=function(t,e){var r=e,n=25,i;do{var a=r*r,o=a*a;r-=i=(r*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(De(i)>Zt&&--n>0);return[t/(.8707+(a=r*r)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),r]};function gH(){return Ni(Lg).scale(175.295)}function Cg(t,e){return[ve(e)*oe(t),oe(e)]}Cg.invert=Dl(qr);function mH(){return Ni(Cg).scale(249.5).clipAngle(90+Zt)}function Ng(t,e){var r=ve(e),n=1+ve(t)*r;return[r*oe(t)/n,oe(e)/n]}Ng.invert=Dl(function(t){return 2*Fs(t)});function yH(){return Ni(Ng).scale(250).clipAngle(142)}function Rg(t,e){return[fh(rg((On+e)/2)),-t]}Rg.invert=function(t,e){return[-e,2*Fs(CP(t))-On]};function bH(){var t=wA(Rg),e=t.center,r=t.rotate;return t.center=function(n){return arguments.length?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])},t.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}var xH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function _H(t){if(typeof t=="function")return t;const e=`geo${Tc(t)}`,r=It[e];if(!r)throw new Error(`Unknown coordinate: ${t}`);return r}function wH(t){return{type:"FeatureCollection",features:t.flatMap(e=>OH(e).features)}}function OH(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const r=e[t.type];if(!r)return null;if(r==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(r==="feature")return{type:"FeatureCollection",features:[t]};if(r==="featureCollection")return t}function SH(t,e){var r;for(const[n,i]of Object.entries(e))(r=t[n])===null||r===void 0||r.call(t,i)}function EH(t,e,r,n){const i=()=>{const s=e.filter(EA);return s.find(l=>l.sphere)?{type:"Sphere"}:wH(s.filter(l=>!l.sphere).flatMap(l=>l.data.value))},{outline:a=i()}=n,{size:o="fitExtent"}=n;if(o==="fitExtent")return MH(t,a,r);if(o==="fitWidth")return PH(t,a,r)}function MH(t,e,r){const{x:n,y:i,width:a,height:o}=r;t.fitExtent([[n,i],[a,o]],e)}function PH(t,e,r){const{width:n,height:i}=r,[[a,o],[s,c]]=tA(t.fitWidth(n,e)).bounds(e),l=Math.ceil(c-o),u=Math.min(Math.ceil(s-a),l),f=t.scale()*(u-1)/u,[h,d]=t.translate(),p=d+(i-l)/2;t.scale(f).translate([h,p]).precision(.2)}function AH(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:r}=e;return r==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[zY()]}}):r==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function EA(t){return t.type==="geoPath"}const MA=()=>t=>{const{children:e,coordinate:r={}}=t;if(!Array.isArray(e))return[];const{type:n="equalEarth"}=r,i=xH(r,["type"]),a=_H(n),o=e.map(AH);let s;function c(){return[["custom",(f,h,d,p)=>{const v=a();EH(v,o,{x:f,y:h,width:d,height:p},i),SH(v,i),s=tA(v);const m=new Jn({domain:[f,f+d]}),b=new Jn({domain:[h,h+p]}),_=E=>{const P=v(E);if(!P)return null;const[A,T]=P;return[m.map(A),b.map(T)]},O=E=>{if(!E)return null;const[P,A]=E,T=[m.invert(P),b.invert(A)];return v.invert(T)};return{transform:E=>_(E),untransform:E=>O(E)}}]]}function l(f){const{style:h}=f;return Object.assign(Object.assign({},f),{type:"path",style:Object.assign(Object.assign({},h),{d:d=>s(d)})})}const u=f=>EA(f)?l(f):f;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:c},children:o.flatMap(u)})]};MA.props={};var kH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const PA=()=>t=>{const{type:e,data:r,scale:n,encode:i,style:a,animate:o,key:s}=t,c=kH(t,["type","data","scale","encode","style","animate","key"]);return[Object.assign(Object.assign({type:"geoView"},c),{children:[{type:"geoPath",key:`${s}-0`,data:{value:r},scale:n,encode:i,style:a,animate:o}]})]};PA.props={};const TH={"composition.geoView":MA,"composition.geoPath":PA};function AA(){return Object.assign({"data.fetch":Gx,"data.inline":qx,"data.sortBy":Xx,"data.sort":Yx,"data.filter":Wx,"data.pick":Hx,"data.rename":Vx,"data.fold":$x,"data.slice":r_,"data.custom":Ux,"data.map":Kx,"data.cluster":Dx,"data.tree":Xp,"data.sankey":Rp,"data.arc":Zx,"data.wordCloud":Qp,"data.join":n_,"transform.maybeZeroY1":TM,"transform.maybeZeroX":DM,"transform.maybeStackY":RM,"transform.maybeTitle":IM,"transform.maybeSeries":zM,"transform.maybeZeroPadding":VM,"transform.stackY":Vv,"transform.binX":_P,"transform.bin":Qv,"transform.dodgeX":QM,"transform.jitter":nP,"transform.jitterX":rP,"transform.symmetryY":iP,"transform.diffY":aP,"transform.stackEnter":JM,"transform.normalizeY":eP,"transform.select":ah,"transform.selectX":sP,"transform.selectY":cP,"transform.groupX":lP,"transform.groupY":uP,"transform.groupColor":fP,"transform.group":Ml,"transform.maybeSize":BM,"transform.maybeZeroY":jM,"transform.maybeKey":FM,"transform.sortX":dP,"transform.sortY":vP,"transform.sortColor":pP,"transform.flexX":gP,"transform.maybeTupleY":GM,"transform.maybeTupleX":$M,"transform.maybeIdentityY":WM,"transform.maybeIdentityX":YM,"transform.maybeTuple":KM,"transform.maybeVisualPosition":qM,"transform.maybeFunctionAttribute":UM,"transform.maybeGradient":ZM,"transform.maybeTooltip":HM,"transform.pack":mP,"transform.sample":wP,"transform.filter":OP,"coordinate.cartesian":Ub,"coordinate.polar":Cc,"coordinate.helix":Zb,"coordinate.transpose":yp,"coordinate.theta":Qb,"coordinate.parallel":bp,"coordinate.fisheye":e2,"coordinate.radial":t2,"coordinate.radar":n2,"encode.constant":r2,"encode.field":a2,"encode.transform":i2,"encode.column":o2,"mark.interval":m2,"mark.rect":y2,"mark.line":P2,"mark.point":A2,"mark.text":k2,"mark.cell":T2,"mark.area":L2,"mark.link":Lp,"mark.image":C2,"mark.polygon":N2,"mark.box":R2,"mark.vector":I2,"mark.lineX":j2,"mark.lineY":D2,"mark.connector":B2,"mark.range":z2,"mark.rangeX":G2,"mark.rangeY":$2,"mark.sankey":Z2,"mark.path":Q2,"mark.treemap":rx,"mark.pack":px,"mark.boxplot":xx,"mark.shape":_x,"mark.forceGraph":Rx,"mark.tree":jx,"mark.wordCloud":i_,"palette.category10":a_,"palette.category20":o_,"scale.linear":$_,"scale.ordinal":W_,"scale.band":G_,"scale.identity":Y_,"scale.point":H_,"scale.time":V_,"scale.log":X_,"scale.pow":q_,"scale.sqrt":Q_,"scale.threshold":U_,"scale.quantile":K_,"scale.quantize":Z_,"scale.sequential":J_,"scale.constant":tw,"shape.interval.rect":ko,"shape.interval.hollow":If,"shape.interval.funnel":_0,"shape.interval.pyramid":pw,"shape.rect.rect":ko,"shape.rect.hollow":If,"shape.cell.cell":ko,"shape.cell.hollow":If,"shape.line.line":Sw,"shape.line.hv":Rw,"shape.line.vh":Iw,"shape.line.hvh":Dw,"shape.line.smooth":Tw,"shape.point.bowtie":Fw,"shape.point.cross":zw,"shape.point.diamond":Gw,"shape.point.hexagon":$w,"shape.point.hollowBowtie":Ww,"shape.point.hollowDiamond":Yw,"shape.point.hollowHexagon":Hw,"shape.point.hollow":Vw,"shape.point.hollowSquare":Xw,"shape.point.hollowTriangle":qw,"shape.point.hollowTriangleDown":Uw,"shape.point.hyphen":Kw,"shape.point.line":Zw,"shape.point.plus":Qw,"shape.point.point":Jw,"shape.point.square":tO,"shape.point.tick":eO,"shape.point.triangle":nO,"shape.point.triangleDown":rO,"shape.text.text":ES,"shape.area.area":kS,"shape.area.smooth":TS,"shape.area.hvh":LS,"shape.area.vh":CS,"shape.area.hv":NS,"shape.link.smooth":jS,"shape.link.vhv":FS,"shape.link.arc":GS,"shape.link.link":IS,"shape.image.image":WS,"shape.polygon.polygon":HS,"shape.polygon.ribbon":XS,"shape.box.box":US,"shape.vector.vector":aO,"shape.label.label":iE,"shape.text.badge":MS,"shape.lineX.line":cv,"shape.lineY.line":cv,"shape.shape.shape":cE,"shape.connector.connector":ZS,"shape.range.range":ko,"shape.rangeX.range":ko,"shape.rangeY.range":ko,"shape.path.path":oE,"shape.path.hollow":sE,"theme.light":lE,"theme.dark":dv,"theme.academy":uE,"component.axisX":OE,"component.axisY":SE,"component.axisRadar":EE,"component.axisLinear":Ya,"component.axisArc":wE,"component.legendCategory":PE,"component.legendContinuous":Ti,"component.legendContinuousBlock":AE,"component.legendContinuousBlockSize":kE,"component.legendContinuousSize":TE,"component.title":CE,"component.sliderX":RE,"component.sliderY":IE,"component.scrollbarX":DE,"component.scrollbarY":jE,"animation.scaleInX":bv,"animation.scaleOutX":xG,"animation.scaleInY":BE,"animation.scaleOutY":_G,"animation.waveIn":HE,"animation.fadeIn":FE,"animation.fadeOut":zE,"animation.zoomIn":TG,"animation.zoomOut":LG,"animation.pathIn":VE,"animation.morphing":YE,"animation.growInX":XE,"animation.growInY":qE,"interaction.elementHighlight":Mv,"interaction.elementHighlightByX":jG,"interaction.elementHighlightByColor":BG,"interaction.elementSelect":Pv,"interaction.elementSelectByX":GG,"interaction.elementSelectByColor":$G,"interaction.fisheye":UG,"interaction.chartIndex":XG,"interaction.tooltip":i$,"interaction.legendFilter":d$,"interaction.legendHighlight":p$,"interaction.brushHighlight":Cv,"interaction.brushXHighlight":x$,"interaction.brushYHighlight":_$,"interaction.brushAxisHighlight":T$,"interaction.brushFilter":Dv,"interaction.brushXFilter":R$,"interaction.brushYFilter":I$,"interaction.sliderFilter":z$,"interaction.poptip":Y$,"interaction.event":X$,"composition.spaceLayer":xM,"composition.spaceFlex":_M,"composition.mark":OM,"composition.view":wM,"composition.facetRect":PM,"composition.repeatMatrix":cW,"composition.facetCircle":pW,"composition.timingKeyframe":kM,"labelTransform.overlapHide":bY,"labelTransform.overlapDodgeY":wY,"labelTransform.overflowHide":MY,"labelTransform.contrastReverse":EY},TH)}var Kr;(function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"})(Kr||(Kr={}));var LH=xt(25566),kA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function CH(t,e,r){const[n]=cn("coordinate",r),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:c,insetBottom:l,marginLeft:u,marginTop:f}=t,{coordinates:h=[]}=e,d=BH(h);return new LH.Coordinate(Object.assign(Object.assign({},t),{x:o+u,y:s+f,width:a-o-c,height:i-l-s,transformations:d.map(n).flat()}))}function TA(t,e){const{coordinate:r={}}=t,n=kA(t,["coordinate"]),{type:i,transform:a=[]}=r,o=kA(r,["type","transform"]);if(!i)return Object.assign(Object.assign({},n),{coordinates:a});const[,s]=cn("coordinate",e),{transform:c=!1}=s(i).props||{};if(c)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},n),{coordinates:[Object.assign({type:i},o),...a]})}function ui(t,e){return t.filter(r=>r.type===e)}function Ys(t){return ui(t,"polar").length>0}function NH(t){return ui(t,"helix").length>0}function Hs(t){return ui(t,"transpose").length%2===1}function RH(t){return ui(t,"parallel").length>0}function LA(t){return ui(t,"theta").length>0}function IH(t){return ui(t,"reflect").length>0}function kh(t){return ui(t,"radial").length>0}function DH(t){return ui(t,"radar").length>0}function jH(t){return ui(t,"reflectY").length>0}function BH(t){return t.find(e=>e.type==="cartesian")?t:[...t,{type:"cartesian"}]}function de(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}var FH=de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zH=de("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),GH=de("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$H=de("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),WH=de("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),YH=de("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),HH=de("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),VH=de("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),XH=de("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),qH=de("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Th(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ig(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Vs(){}var No=.7,Xs=1/No,qs="\\s*([+-]?\\d+)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UH=/^#([0-9a-f]{3,8})$/,KH=new RegExp("^rgb\\(".concat(qs,",").concat(qs,",").concat(qs,"\\)$")),ZH=new RegExp("^rgb\\(".concat(Ri,",").concat(Ri,",").concat(Ri,"\\)$")),QH=new RegExp("^rgba\\(".concat(qs,",").concat(qs,",").concat(qs,",").concat(Wl,"\\)$")),JH=new RegExp("^rgba\\(".concat(Ri,",").concat(Ri,",").concat(Ri,",").concat(Wl,"\\)$")),tV=new RegExp("^hsl\\(".concat(Wl,",").concat(Ri,",").concat(Ri,"\\)$")),eV=new RegExp("^hsla\\(".concat(Wl,",").concat(Ri,",").concat(Ri,",").concat(Wl,"\\)$")),CA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Th(Vs,Dg,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:NA,formatHex:NA,formatHex8:nV,formatHsl:rV,formatRgb:RA,toString:RA});function NA(){return this.rgb().formatHex()}function nV(){return this.rgb().formatHex8()}function rV(){return zA(this).formatHsl()}function RA(){return this.rgb().formatRgb()}function Dg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=UH.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?IA(e):r===3?new rr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=KH.exec(t))?new rr(e[1],e[2],e[3],1):(e=ZH.exec(t))?new rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QH.exec(t))?Lh(e[1],e[2],e[3],e[4]):(e=JH.exec(t))?Lh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tV.exec(t))?FA(e[1],e[2]/100,e[3]/100,1):(e=eV.exec(t))?FA(e[1],e[2]/100,e[3]/100,e[4]):CA.hasOwnProperty(t)?IA(CA[t]):t==="transparent"?new rr(NaN,NaN,NaN,0):null}function IA(t){return new rr(t>>16&255,t>>8&255,t&255,1)}function Lh(t,e,r,n){return n<=0&&(t=e=r=NaN),new rr(t,e,r,n)}function DA(t){return t instanceof Vs||(t=Dg(t)),t?(t=t.rgb(),new rr(t.r,t.g,t.b,t.opacity)):new rr}function Yl(t,e,r,n){return arguments.length===1?DA(t):new rr(t,e,r,n==null?1:n)}function rr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Th(rr,Yl,Ig(Vs,{brighter:function(e){return e=e==null?Xs:Math.pow(Xs,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?No:Math.pow(No,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new rr(Ro(this.r),Ro(this.g),Ro(this.b),Ch(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jA,formatHex:jA,formatHex8:iV,formatRgb:BA,toString:BA}));function jA(){return"#".concat(Io(this.r)).concat(Io(this.g)).concat(Io(this.b))}function iV(){return"#".concat(Io(this.r)).concat(Io(this.g)).concat(Io(this.b)).concat(Io((isNaN(this.opacity)?1:this.opacity)*255))}function BA(){var t=Ch(this.opacity);return"".concat(t===1?"rgb(":"rgba(").concat(Ro(this.r),", ").concat(Ro(this.g),", ").concat(Ro(this.b)).concat(t===1?")":", ".concat(t,")"))}function Ch(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ro(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=Ro(t),(t<16?"0":"")+t.toString(16)}function FA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fi(t,e,r,n)}function zA(t){if(t instanceof fi)return new fi(t.h,t.s,t.l,t.opacity);if(t instanceof Vs||(t=Dg(t)),!t)return new fi;if(t instanceof fi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new fi(o,s,c,t.opacity)}function aV(t,e,r,n){return arguments.length===1?zA(t):new fi(t,e,r,n==null?1:n)}function fi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Th(fi,aV,Ig(Vs,{brighter:function(e){return e=e==null?Xs:Math.pow(Xs,e),new fi(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?No:Math.pow(No,e),new fi(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,a=2*n-i;return new rr(jg(e>=240?e-240:e+120,a,i),jg(e,a,i),jg(e<120?e+240:e-120,a,i),this.opacity)},clamp:function(){return new fi(GA(this.h),Nh(this.s),Nh(this.l),Ch(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Ch(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(GA(this.h),", ").concat(Nh(this.s)*100,"%, ").concat(Nh(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function GA(t){return t=(t||0)%360,t<0?t+360:t}function Nh(t){return Math.max(0,Math.min(1,t||0))}function jg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function $A(t,e,r,n,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*r+(1+3*t+3*a-3*o)*n+o*i)/6}function oV(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],a=t[n+1],o=n>0?t[n-1]:2*i-a,s=n<e-1?t[n+2]:2*a-i;return $A((r-n/e)*e,o,i,a,s)}}function sV(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],a=t[n%e],o=t[(n+1)%e],s=t[(n+2)%e];return $A((r-n/e)*e,i,a,o,s)}}var Bg=function(t){return function(){return t}};function WA(t,e){return function(r){return t+r*e}}function cV(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function lV(t,e){var r=e-t;return r?WA(t,r>180||r<-180?r-360*Math.round(r/360):r):Bg(isNaN(t)?e:t)}function uV(t){return(t=+t)==1?Us:function(e,r){return r-e?cV(e,r,t):Bg(isNaN(e)?r:e)}}function Us(t,e){var r=e-t;return r?WA(t,r):Bg(isNaN(t)?e:t)}var Xet=function t(e){var r=uV(e);function n(i,a){var o=r((i=Yl(i)).r,(a=Yl(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),l=Us(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function YA(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),a=new Array(r),o,s;for(o=0;o<r;++o)s=Yl(e[o]),n[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return n=t(n),i=t(i),a=t(a),s.opacity=1,function(c){return s.r=n(c),s.g=i(c),s.b=a(c),s+""}}}var fV=YA(oV),qet=YA(sV),Ke=t=>fV(t[t.length-1]),HA=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(de),hV=Ke(HA),VA=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(de),dV=Ke(VA),XA=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(de),pV=Ke(XA),qA=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(de),vV=Ke(qA),UA=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(de),gV=Ke(UA),KA=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(de),mV=Ke(KA),ZA=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(de),yV=Ke(ZA),QA=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(de),bV=Ke(QA),JA=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(de),xV=Ke(JA),tk=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(de),_V=Ke(tk),ek=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(de),wV=Ke(ek),nk=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(de),OV=Ke(nk),rk=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(de),SV=Ke(rk),ik=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(de),EV=Ke(ik),ak=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(de),MV=Ke(ak),ok=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(de),PV=Ke(ok),sk=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(de),AV=Ke(sk),ck=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(de),kV=Ke(ck),lk=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(de),TV=Ke(lk),uk=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(de),LV=Ke(uk),fk=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(de),CV=Ke(fk),hk=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(de),NV=Ke(hk),dk=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(de),RV=Ke(dk),pk=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(de),IV=Ke(pk),vk=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(de),DV=Ke(vk),gk=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(de),jV=Ke(gk),mk=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(de),BV=Ke(mk);function FV(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var zV=Math.PI/180,GV=180/Math.PI,yk=-.14861,Fg=1.78277,zg=-.29227,Rh=-.90649,Hl=1.97294,bk=Hl*Rh,xk=Hl*Fg,_k=Fg*zg-Rh*yk;function $V(t){if(t instanceof Do)return new Do(t.h,t.s,t.l,t.opacity);t instanceof rr||(t=DA(t));var e=t.r/255,r=t.g/255,n=t.b/255,i=(_k*n+bk*e-xk*r)/(_k+bk-xk),a=n-i,o=(Hl*(r-i)-zg*a)/Rh,s=Math.sqrt(o*o+a*a)/(Hl*i*(1-i)),c=s?Math.atan2(o,a)*GV-120:NaN;return new Do(c<0?c+360:c,s,i,t.opacity)}function Ii(t,e,r,n){return arguments.length===1?$V(t):new Do(t,e,r,n==null?1:n)}function Do(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Th(Do,Ii,Ig(Vs,{brighter:function(e){return e=e==null?Xs:Math.pow(Xs,e),new Do(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?No:Math.pow(No,e),new Do(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*zV,r=+this.l,n=isNaN(this.s)?0:this.s*r*(1-r),i=Math.cos(e),a=Math.sin(e);return new rr(255*(r+n*(yk*i+Fg*a)),255*(r+n*(zg*i+Rh*a)),255*(r+n*(Hl*i)),this.opacity)}}));function wk(t){return function e(r){r=+r;function n(i,a){var o=t((i=Ii(i)).h,(a=Ii(a)).h),s=Us(i.s,a.s),c=Us(i.l,a.l),l=Us(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=c(Math.pow(u,r)),i.opacity=l(u),i+""}}return n.gamma=e,n}(1)}var Uet=wk(lV),Gg=wk(Us),WV=Gg(Ii(300,.5,0),Ii(-240,.5,1)),YV=Gg(Ii(-100,.75,.35),Ii(80,1.5,.8)),HV=Gg(Ii(260,.75,.35),Ii(80,1.5,.8)),Ih=Ii();function VV(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ih.h=360*t-100,Ih.s=1.5-1.5*e,Ih.l=.8-.9*e,Ih+""}var Dh=Yl(),XV=Math.PI/3,qV=Math.PI*2/3;function UV(t){var e;return t=(.5-t)*Math.PI,Dh.r=255*(e=Math.sin(t))*e,Dh.g=255*(e=Math.sin(t+XV))*e,Dh.b=255*(e=Math.sin(t+qV))*e,Dh+""}function KV(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function jh(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var ZV=jh(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),QV=jh(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),JV=jh(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tX=jh(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function eX(t,e,r,n,i,a){const{guide:o={}}=r,s=sX(t,e,r);if(typeof s!="string")return r;const c=cX(s,t,e,r);return Object.assign(Object.assign(Object.assign({},r),uX(s,t,e,r,n)),{domain:c,range:lX(s,t,e,r,c,i,a),guide:o,name:t,type:s})}function nX(t,e){const r={};for(const n of t){const{values:i,name:a}=n,o=e[a];for(const s of i){const{name:c,value:l}=s;r[c]=l.map(u=>o.map(u))}}return r}function rX(t){if(!t||!Array.isArray(t))return[_o,_o];let e,r;return[a=>{var o;e=a.map.bind(a),r=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=t.filter(([h])=>typeof h=="function"),c=t.filter(([h])=>typeof h!="function"),l=new Map(c);if(a.map=h=>{for(const[d,p]of s)if(d(h))return p;return l.has(h)?l.get(h):e(h)},!r)return a;const u=new Map(c.map(([h,d])=>[d,h])),f=new Map(s.map(([h,d])=>[d,h]));return a.invert=h=>f.has(h)?h:u.has(h)?u.get(h):r(h),a},a=>(e!==null&&(a.map=e),r!==null&&(a.invert=r),a)]}function Ok(t,e){const[r]=cn("scale",e),{relations:n}=t,[i]=rX(n),a=r(t);return i(a)}function iX(t){const e=t.flatMap(r=>Array.from(r.values())).flatMap(r=>r.channels.map(n=>n.scale));Sk(e,"x"),Sk(e,"y")}function Sk(t,e){const r=t.filter(({name:a,facet:o=!0})=>o&&a===e),n=r.flatMap(a=>a.domain),i=r.every(aX)?Ba(n):r.every(oX)?Array.from(new Set(n)):null;if(i!==null)for(const a of r)a.domain=i}function aX(t){const{type:e}=t;return typeof e!="string"?!1:["linear","log","pow","time"].includes(e)}function oX(t){const{type:e}=t;return typeof e!="string"?!1:["band","point","ordinal"].includes(e)}function sX(t,e,r){const{type:n,domain:i,range:a}=r;return n!==void 0?n:_X(e)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?$g(t):i!==void 0?Ak([i])?$g(t):kk(e)?"time":Mk(t,a):Ak(e)?$g(t):kk(e)?"time":Mk(t,a)}function cX(t,e,r,n){const{domain:i}=n;if(i!==void 0)return i;const{domainMax:a,domainMin:o}=n;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":{const[s,c]=mX(r,n);return[o||s,a||c]}case"band":case"ordinal":case"point":return Pk(r);case"quantile":return yX(r);case"sequential":{const[s,c]=bX(r);return[o||s,a||c]}default:return[]}}function lX(t,e,r,n,i,a,o){const{range:s}=n;if(typeof s=="string")return fX(s);if(s!==void 0)return s;const{rangeMin:c,rangeMax:l}=n;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=Ek(r,n,i,a,o),[f,h]=xX(e,u);return[c||f,l||h]}case"band":case"point":return[c||0,l||1];case"ordinal":return Ek(r,n,i,a,o);case"sequential":return;case"constant":return[r[0][0]];default:return[]}}function uX(t,e,r,n,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return pX(i,n);case"band":case"point":return vX(t,e,i,n);case"sequential":return dX(n);default:return n}}function Ek(t,e,r,n,i){const[a]=cn("palette",i),{defaultCategory10:o,defaultCategory20:s}=n,c=kD(t.flat()).length<=o.length?o:s,{palette:l=c,offset:u}=e;try{return a({type:l})}catch(f){const h=hX(l,r,u);if(h)return h;throw new Error(`Unknown Component: ${l} `)}}function fX(t){return t.split("-")}function hX(t,e,r=n=>n){if(!t)return null;const n=Tc(t),i=Tt[`scheme${n}`],a=Tt[`interpolate${n}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[e.length];if(o)return o}return e.map((o,s)=>a(r(s/e.length)))}function dX(t){const{palette:e="ylGnBu",offset:r}=t,n=Tc(e),i=Tt[`interpolate${n}`];if(!i)throw new Error(`Unknown palette: ${n}`);return{interpolator:r?a=>i(r(a)):i}}function pX(t,e){const{interpolate:r=Zc,nice:n=!1,tickCount:i=10}=e;return Object.assign(Object.assign({},e),{interpolate:r,nice:n,tickCount:i})}function vX(t,e,r,n){if(n.padding!==void 0||n.paddingInner!==void 0||n.paddingOuter!==void 0)return Object.assign(Object.assign({},n),{unknown:NaN});const i=gX(t,e,r),{paddingInner:a=i,paddingOuter:o=i}=n;return Object.assign(Object.assign({},n),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function gX(t,e,r){return e==="enterDelay"||e==="enterDuration"?0:t==="band"?LA(r)?0:.1:t==="point"?.5:0}function $g(t){return wX(t)?"point":"ordinal"}function Mk(t,e){return t!=="color"||e?"linear":"sequential"}function mX(t,e){const{zero:r=!1}=e;let n=1/0,i=-1/0;for(const a of t)for(const o of a)zn(o)&&(n=Math.min(n,+o),i=Math.max(i,+o));return n===1/0?[]:r?[Math.min(0,n),i]:[n,i]}function Pk(t){return Array.from(new Set(t.flat()))}function yX(t){return Pk(t).sort()}function bX(t){let e=1/0,r=-1/0;for(const n of t)for(const i of n)zn(i)&&(e=Math.min(e,+i),r=Math.max(r,+i));return e===1/0?[]:[e<0?-r:e,r]}function xX(t,e){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[PD(e),AD(e)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function Ak(t){return Wg(t,e=>{const r=typeof e;return r==="string"||r==="boolean"})}function kk(t){return Wg(t,e=>e instanceof Date)}function _X(t){return Wg(t,Bc)}function Wg(t,e){for(const r of t)if(r.some(e))return!0;return!1}function wX(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function OX(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function SX(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:e,domain:r,range:n,interpolator:i}=t,a=r&&r.length>0,o=n&&n.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&a&&o||["sequential"].includes(e)&&a&&(o||i)||["constant","identity"].includes(e)&&o)}const EX={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},MX={threshold:"threshold",quantize:"quantize",quantile:"quantile"},PX={ordinal:"ordinal",band:"band",point:"point"};var AX=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function kX(t,e,r){const{component:n=[],coordinates:i=[],title:a,theme:o}=e,[,s]=cn("component",r),c=t.filter(({guide:h,name:d})=>h!==null),l=DX(e,t,r),u=[...n,...l];if(a){const{props:h}=s("title"),{defaultPosition:d,defaultOrientation:p,defaultOrder:v,defaultSize:g}=h,m=typeof a=="string"?{title:a}:a;u.push(Object.assign({type:"title",position:d,orientation:p,order:v,size:g},m))}return CX(c,i).forEach(([h,d])=>{const{props:p}=s(h),{defaultPosition:v,defaultOrientation:g,defaultSize:m,defaultOrder:b}=p,_=Object.assign({},...d),{guide:O,field:E}=_,P=Array.isArray(O)?O:[O];for(const A of P){const[T,C]=RX(h,v,g,A,d,c,i);if(!T&&!C)continue;const{size:L=m,order:N=b}=A;u.push(Object.assign(Object.assign({title:E},A),{position:T,orientation:C,order:N,size:L,type:h,scales:d}))}}),u}function Tk(t,e,r,n){const[i]=cn("component",n),{scales:a=[],bbox:o}=t,s=AX(t,["scales","bbox"]),c=a.map(f=>Ok(f,n)),l={bbox:o,scales:a,library:n};return i(s)(c,l,e,r)}function TX(t,e){const r=nn(t,s=>s.field||s.name),n=(s,c)=>{const l=cw(s);return l.forEach(u=>u.unshift(c)),l.push([c]),l.sort((u,f)=>f.length-u.length)},i=[["legendCategory",n([["shape","discrete"],["size","discrete"],["opacity","discrete"]],["color","discrete"])],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",n([["opacity","continuous"]],["color","distribution"])],["legendContinuous",n([["opacity","continuous"]],["color","continuous"])]];function a(s){const{type:c}=s;return typeof c!="string"?null:c in EX?"continuous":c in PX?"discrete":c in MX?"distribution":null}return Array.from(r).map(([,s])=>{const l=cw(s).sort((f,h)=>h.length-f.length).map(f=>({combination:f,option:f.map(h=>[h.name,a(h)])})),u=f=>f.sort((h,d)=>h[0].localeCompare(d[0]));for(const[f,h]of i)for(const{option:d,combination:p}of l)if(h.some(v=>_R(u(v),u(d))))return[f,p];return null}).filter(zn)}function LX(t,e){return t.map(r=>{const{name:n}=r;if(NH(e)||LA(e)||Hs(e)&&(Ys(e)||kh(e)))return null;if(n.startsWith("x"))return Ys(e)?["axisArc",[r]]:kh(e)?["axisLinear",[r]]:[Hs(e)?"axisY":"axisX",[r]];if(n.startsWith("y"))return Ys(e)?["axisLinear",[r]]:kh(e)?["axisArc",[r]]:[Hs(e)?"axisX":"axisY",[r]];if(n.startsWith("position")){if(DH(e))return["axisRadar",[r]];if(!Ys(e))return["axisY",[r]]}return null}).filter(zn)}function CX(t,e){const r=t.filter(n=>SX(n));return[...TX(r,e),...LX(r,e)]}function Yg(t){const e=ui(t,"polar");if(e.length){const n=e[e.length-1],{startAngle:i,endAngle:a}=Kb(n);return[i,a]}const r=ui(t,"radial");if(r.length){const n=r[r.length-1],{startAngle:i,endAngle:a}=Jb(n);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function Lk(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function NX(t,e,r,n,i){const{name:a}=r[0];if(t==="axisRadar"){const o=n.filter(f=>f.name.startsWith("position")),s=Lk(a);if(a===o.slice(-1)[0].name||s===null)return[null,null];const[c,l]=Yg(i);return["center",(l-c)/(o.length-1)*s+c]}if(t==="axisY"&&RH(i)){const o=Lk(a);return o===null?e:Hs(i)?o===0?["top",null]:["center","horizontal"]:o===0?e:["center","vertical"]}if(t==="axisLinear"){const[o]=Yg(i);return["center",o]}return t==="axisArc"?e[0]==="inner"?["inner",null]:["outer",null]:Ys(i)?["center",null]:kh(i)?["center",null]:t==="axisX"&&IH(i)||t==="axisX"&&jH(i)?["top",null]:e}function RX(t,e,r,n,i,a,o){const[s]=Yg(o),c=[n.position||e,s!=null?s:r];return typeof t=="string"&&t.startsWith("axis")?NX(t,c,i,a,o):typeof t=="string"&&t.startsWith("legend")&&Ys(o)&&n.position==="center"?["center","vertical"]:c}function IX(t,e,r=[]){return t==="x"?Hs(r)?`${e}Y`:`${e}X`:t==="y"?Hs(r)?`${e}X`:`${e}Y`:null}function DX(t,e,r){const[,n]=cn("component",r),{coordinates:i}=t;function a(o,s,c,l){const u=IX(s,o,i);if(!l||!u)return;const{props:f}=n(u),{defaultPosition:h,defaultSize:d,defaultOrder:p}=f;return Object.assign(Object.assign({position:h,size:d,order:p,type:u},l),{scales:[c]})}return e.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:c,name:l}=o;return[a("slider",l,o,s),a("scrollbar",l,o,c)]}).filter(o=>!!o)}function jX(t,e){const r=BX(t,e),{paddingLeft:n,paddingRight:i,paddingTop:a,paddingBottom:o}=r,{width:s,height:c,x:l=0,y:u=0,inset:f=0,insetLeft:h=f,insetTop:d=f,insetBottom:p=f,insetRight:v=f,margin:g=0,marginLeft:m=g,marginBottom:b=g,marginTop:_=g,marginRight:O=g}=e;return Object.assign(Object.assign({},r),{width:s,height:c,insetLeft:h,insetTop:d,insetBottom:p,insetRight:v,innerWidth:s-n-i-m-O,innerHeight:c-a-o-_-b,marginLeft:m,marginBottom:b,marginTop:_,marginRight:O,x:l,y:u})}function BX(t,e){const r=["left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],n=nn(t,u=>u.position),{padding:i,paddingLeft:a=i,paddingRight:o=i,paddingBottom:s=i,paddingTop:c=i}=e,l={paddingBottom:s,paddingLeft:a,paddingTop:c,paddingRight:o};for(const u of r){const f=`padding${X2(u)}`;if(l[f]===void 0)if(!n.has(u))l[f]=30;else{const d=n.get(u).reduce((p,{size:v})=>p+v,0);l[f]=d}}return l}function FX(t,e,r){const n=nn(t,E=>E.position),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:c,marginTop:l,marginBottom:u,marginRight:f,innerHeight:h,innerWidth:d,height:p,width:v}=r,g=i+c,m=o+l,b=a+f,_=s+u,O={top:[g,0,d,m,"vertical",!0,gn],right:[v-b,m,b,h,"horizontal",!1,gn],bottom:[g,p-_,d,_,"vertical",!1,gn],left:[0,m,g,h,"horizontal",!0,gn],"top-left":[g,0,d,m,"vertical",!0,gn],"top-right":[g,0,d,m,"vertical",!0,gn],"bottom-left":[g,p-_,d,_,"vertical",!1,gn],"bottom-right":[g,p-_,d,_,"vertical",!1,gn],center:[g,m,d,h,"center",null,null],inner:[g,m,d,h,"center",null,null],outer:[g,m,d,h,"center",null,null]};for(const[E,P]of n.entries()){const A=O[E],[T,C]=ow(P,L=>typeof L.type!="string"?!1:!!(E==="center"||L.type.startsWith("axis")&&["inner","outer"].includes(E)));T.length&&zX(T,e,A,E),C.length&&UX(P,e,A)}}function zX(t,e,r,n){const[i,a]=ow(t,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));GX(i,e,r,n),KX(a,e,r)}function GX(t,e,r,n){n==="center"?rI(e)?qX(t,e,r,n):vn(e)?YX(t,e,r):jc(e)&&HX(t,e,r,t[0].orientation):n==="inner"?$X(t,e,r):n==="outer"&&WX(t,e,r)}function $X(t,e,r){const[n,i,,a]=r,[o,s]=e.getCenter(),[c]=nf(e),l=a/2,u=c*l,f=o-u,h=s-u;for(let d=0;d<t.length;d++){const p=t[d];p.bbox={x:n+f,y:i+h,width:u*2,height:u*2}}}function WX(t,e,r){const[n,i,a,o]=r;for(const s of t)s.bbox={x:n,y:i,width:a,height:o}}function YX(t,e,r){const[n,i,a,o]=r;for(const s of t)s.bbox={x:n,y:i,width:a,height:o}}function HX(t,e,r,n){n==="horizontal"?XX(t,e,r):n==="vertical"&&VX(t,e,r)}function VX(t,e,r){const[n,i,,a]=r,o=new Array(t.length+1).fill(0),c=e.map(o).filter((l,u)=>u%2===0).map(l=>l+n);for(let l=0;l<t.length;l++){const u=t[l],f=c[l],h=c[l+1]-f;u.bbox={x:f,y:i,width:h,height:a}}}function XX(t,e,r){const[n,i,a]=r,o=new Array(t.length+1).fill(0),c=e.map(o).filter((l,u)=>u%2===1).map(l=>l+i);for(let l=0;l<t.length;l++){const u=t[l],f=c[l],h=c[l+1]-f;u.bbox={x:n,y:f,width:a,height:h}}}function qX(t,e,r,n){const[i,a,o,s]=r;for(const c of t)c.bbox={x:i,y:a,width:o,height:s},c.radar={index:t.indexOf(c),count:t.length}}function UX(t,e,r){const[n,i,a,o,s,c,l]=r,[u,f,h,d,p,v,g,m]=s==="vertical"?["y",i,"x",n,"height",o,"width",a]:["x",n,"y",i,"width",a,"height",o];t.sort((_,O)=>l==null?void 0:l(_.order,O.order));const b=c?f+v:f;for(let _=0,O=b;_<t.length;_++){const E=t[_],{size:P}=E;E.bbox={[u]:c?O-P:O,[h]:d,[p]:P,[g]:m},O+=P*(c?-1:1)}}function KX(t,e,r){if(t.length===0)return;const[n,i,a,o]=r,[s]=nf(e),c=o/2*s/Math.sqrt(2),l=n+a/2,u=i+o/2;for(let f=0;f<t.length;f++){const h=t[f];h.bbox={x:l-c,y:u-c,width:c*2,height:c*2}}}var ZX=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},Ks=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function QX(t,e,r){const{encode:n={},scale:i={},transform:a=[]}=e,o=Ks(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},o),{encode:n,scale:i,transform:a})]}function Ck(t,e,r){return ZX(this,void 0,void 0,function*(){const{library:n}=r,{data:i}=e,[a]=cn("data",n),o=fq(i),{transform:s=[]}=o,u=[Ks(o,["transform"]),...s].map(a),f=yield RI(u)(i);return[Array.isArray(f)?Ao(f):[],Object.assign(Object.assign({},e),{data:f})]})}function JX(t,e,r){const{encode:n}=e;if(!n)return[t,e];const i={};for(const[a,o]of Object.entries(n))if(Array.isArray(o))for(let s=0;s<o.length;s++){const c=`${a}${s===0?"":s}`;i[c]=o[s]}else i[a]=o;return[t,Object.assign(Object.assign({},e),{encode:i})]}function tq(t,e,r){const{encode:n,data:i}=e;if(!n)return[t,e];const a=Fa(n,o=>cq(o)?o:{type:lq(i,o),value:o});return[t,Object.assign(Object.assign({},e),{encode:a})]}function eq(t,e,r){const{encode:n}=e;if(!n)return[t,e];const i=Fa(n,(a,o)=>{const{type:s}=a;return s!=="constant"||OX(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[t,Object.assign(Object.assign({},e),{encode:i})]}function nq(t,e,r){const{encode:n,data:i}=e;if(!n)return[t,e];const{library:a}=r,o=pq(a),s=Fa(n,c=>o(i,c));return[t,Object.assign(Object.assign({},e),{encode:s})]}function rq(t,e,r){const{tooltip:n={}}=e,i=a=>{if(Object.keys(a).length===0)return!0;const{title:o,items:s}=a;return o!==void 0||s!==void 0};return n===null?[t,e]:Array.isArray(n)?[t,Object.assign(Object.assign({},e),{tooltip:{items:n}})]:Bc(n)&&i(n)?[t,Object.assign(Object.assign({},e),{tooltip:n})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[n]}})]}function iq(t,e,r){const{data:n,encode:i,tooltip:a={}}=e;if(a===null)return[t,e];const o=f=>{if(!f)return f;if(typeof f=="string")return t.map(h=>({name:f,value:n[h][f]}));if(Bc(f)){const{field:h,channel:d,color:p,name:v=h}=f,g=d&&i[d].field;return t.map(m=>({name:v||g||d,color:p,value:h?n[m][h]:d?i[d].value[m]:null}))}return typeof f=="function"?t.map(h=>{const d=f(n[h],h,n,i);return Bc(d)?d:{value:d}}):f},{title:s,items:c=[]}=a,l=Ks(a,["title","items"]),u=Object.assign({title:o(s),items:c.map(o)},l);return[t,Object.assign(Object.assign({},e),{tooltip:u})]}function aq(t,e,r){const{encode:n}=e,i=Ks(e,["encode"]);if(!n)return[t,e];const a=Object.entries(n),o=a.filter(([,c])=>{const{value:l}=c;return Array.isArray(l[0])}).flatMap(([c,l])=>{const u=[[c,new Array(t.length).fill(void 0)]],{value:f}=l,h=Ks(l,["value"]);for(let d=0;d<f.length;d++){const p=f[d];if(Array.isArray(p))for(let v=0;v<p.length;v++){const g=u[v]||[`${c}${v}`,new Array(t).fill(void 0)];g[1][d]=p[v],u[v]=g}}return u.map(([d,p])=>[d,Object.assign({type:"column",value:p},h)])}),s=Object.fromEntries([...a,...o]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function oq(t,e,r){const{axis:n={},legend:i={},slider:a={},scrollbar:o={}}=e,s=(l,u)=>{if(typeof l=="boolean")return l?{}:null;const f=l[u];return f===void 0||f?f:null},c=typeof n=="object"?Array.from(new Set(["x","y",...Object.keys(n)])):["x","y"];return bt(e,{scale:Object.assign(Object.assign({},Object.fromEntries(c.map(l=>[l,{guide:s(n,l),slider:s(a,l),scrollbar:s(o,l)}]))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")}})}),[t,e]}function sq(t,e,r){const{animate:n}=e;return n||n===void 0?[t,e]:(bt(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e])}function cq(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:e}=t;return zn(e)}function lq(t,e){return typeof e=="function"?"transform":typeof e=="string"&&uq(t,e)?"field":"constant"}function uq(t,e){return Array.isArray(t)?t.some(r=>r[e]!==void 0):!1}function fq(t){if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,r=Ks(t,["type"]);return Object.assign(Object.assign({},r),{type:e})}var Nk=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},hq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function dq(t,e,r){return Nk(this,void 0,void 0,function*(){const n={library:r},[i,a]=yield vq(t,e,n),{encode:o,scale:s,data:c,tooltip:l}=a;if(Array.isArray(c)===!1)return null;const{channels:u}=e,f=kp(Object.entries(o).filter(([,d])=>zn(d)),d=>d.map(([p,v])=>Object.assign({name:p},v)),([d])=>{var p;const v=(p=/([^\d]+)\d*$/.exec(d))===null||p===void 0?void 0:p[1],g=u.find(m=>m.name===v);return g!=null&&g.independent?d:v}),h=u.filter(d=>{const{name:p,required:v}=d;if(f.find(([g])=>g===p))return!0;if(v)throw new Error(`Missing encoding for channel: ${p}.`);return!1}).flatMap(d=>{const{name:p,scale:v,scaleKey:g,range:m}=d;return f.filter(([_])=>_.startsWith(p)).map(([_,O],E)=>{const P=O.some(M=>M.visual),A=O.some(M=>M.constant),T=s[_]||{},{independent:C=!1,key:L=g||_,type:N=A?"constant":P?"identity":v}=T,x=hq(T,["independent","key","type"]),y=N==="constant",w=y?void 0:m;return{name:_,values:O,scaleKey:C||y?Symbol("independent"):L,scale:Object.assign({type:N,range:w},x)}})});return[a,Object.assign(Object.assign({},e),{index:i,channels:h,tooltip:l})]})}function pq(t){const[e]=cn("encode",t);return(r,n)=>n===void 0||r===void 0?null:Object.assign(Object.assign({},n),{type:"column",value:e(n)(r),field:gq(n)})}function vq(t,e,r){return Nk(this,void 0,void 0,function*(){const{library:n}=r,[i]=cn("transform",n),{preInference:a=[],postInference:o=[]}=e,{transform:s=[]}=t,c=[QX,Ck,JX,tq,eq,nq,aq,sq,oq,rq,...a.map(i),...s.map(i),...o.map(i),iq];let l=[],u=t;for(const f of c)[l,u]=yield f(l,u,r);return[l,u]})}function gq(t){const{type:e,value:r}=t;return e==="field"&&typeof r=="string"?r:null}var Ka=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},jo=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Hg(t,e,r,n){return Ka(this,void 0,void 0,function*(){const[i]=cn("composition",r),[a]=cn("interaction",r),o=new Set(Object.keys(r).map(L=>{var N;return(N=/mark\.(.*)/.exec(L))===null||N===void 0?void 0:N[1]}).filter(zn)),s=L=>{const{type:N}=L;if(typeof N=="function"){const{props:x={}}=N,{composite:y=!0}=x;if(y)return"mark"}return typeof N=="string"&&o.has(N)?"mark":N},c=L=>s(L)==="mark",l=L=>s(L)==="standardView",u=L=>{if(l(L))return[L];const N=s(L);return i({type:N})(L)},f=[],h=new Map,d=new Map,p=[t],v=[];for(;p.length;){const L=p.shift();if(l(L)){const N=d.get(L),[x,y]=N?jk(N,L,r):yield Ik(L,r);h.set(x,L),f.push(x);const w=y.flatMap(u).map(M=>TA(M,r));if(p.push(...w),w.every(l)){const M=yield Promise.all(w.map(S=>Dk(S,r)));iX(M);for(let S=0;S<w.length;S++){const k=w[S],I=M[S];d.set(k,I)}}}else{const N=c(L)?L:yield $k(L,r),x=u(N);Array.isArray(x)?p.push(...x):typeof x=="function"&&v.push(x())}}n.emitter.emit(Kr.BEFORE_PAINT);const g=new Map,m=new Map,b=[];e.selectAll(Di(Gt)).data(f,L=>L.key).join(L=>L.append("g").attr("className",Gt).attr("id",N=>N.key).call(Rk).each(function(N){Vg(N,ie(this),b,r),g.set(N,this)}),L=>L.call(Rk).each(function(N){Vg(N,ie(this),b,r),m.set(N,this)}),L=>L.each(function(){const N=this.nameInteraction.values();for(const x of N)x.destroy()}).remove());const _=L=>Array.from(L.entries()).map(([N,x])=>({view:N,container:x,options:h.get(N),update:mq(ie(x),r,n)})),O=_(g);for(const L of O){const{options:N}=L,x=new Map;L.container.nameInteraction=x;for(const y of Gk(N)){const M=a(y)(L,O,n.emitter);x.set(y.type,{destroy:M})}}const E=_(m);for(const L of E){const{options:N,container:x}=L,y=x.nameInteraction;for(const w of Gk(N)){const M=y.get(w.type);M&&M.destroy();const k=a(w)(L,E,n.emitter);y.set(N.type,{destroy:k})}}const{width:P,height:A}=t,T=[];for(const L of v){const N=new Promise(x=>Ka(this,void 0,void 0,function*(){for(const y of L){const w=Object.assign({width:P,height:A},y);yield Hg(w,e,r,n)}x()}));T.push(N)}n.views=f,n.animations=b,n.emitter.emit(Kr.AFTER_PAINT);const C=b.filter(zn).map(Lq).map(L=>L.finished);return Promise.all([...C,...T])})}function Rk(t){t.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function mq(t,e,r){return n=>Ka(this,void 0,void 0,function*(){const i=[],[a,o]=yield Ik(n,e);Vg(a,t,i,e);for(const s of o)Hg(s,t,e,r);return{options:n,view:a}})}function Ik(t,e){return Ka(this,void 0,void 0,function*(){const r=yield bq(t,e),n=yq(r);t.interaction=n.interaction,t.coordinate=n.coordinate;const i=TA(n,e),a=yield Dk(i,e);return jk(a,i,e)})}function yq(t){const{coordinate:e={},interaction:r={},marks:n}=t,i=jo(t,["coordinate","interaction","marks"]),a=n.map(l=>l.coordinate||{}),o=n.map(l=>l.interaction||{}),s=[...a,e].reduceRight((l,u)=>bt(l,u),{}),c=[r,...o].reduce((l,u)=>bt(l,u),{});return Object.assign(Object.assign({},i),{marks:n,coordinate:s,interaction:c})}function bq(t,e){return Ka(this,void 0,void 0,function*(){const[r,n]=cn("mark",e),{marks:i}=t,a=[],o=[...i];for(;o.length;){const[s]=o.splice(0,1),c=yield $k(s,e),{type:l=sf("G2Mark type is required."),key:u}=c,{props:f={}}=n(l),{composite:h=!0}=f;if(!h)a.push(c);else{const d=yield r(c)(t),p=Array.isArray(d)?d:[d];o.unshift(...p.map((v,g)=>Object.assign(Object.assign({},v),{key:`${u}-${g}`})))}}return Object.assign(Object.assign({},t),{marks:a})})}function Dk(t,e){return Ka(this,void 0,void 0,function*(){const[r]=cn("theme",e),[,n]=cn("mark",e),{theme:i,marks:a,coordinates:o=[]}=t,s=r(zk(i)),c=new Map;for(const u of a){const{type:f}=u,{props:h={}}=n(f),d=yield dq(u,h,e);if(d){const[p,v]=d;c.set(p,v)}}const l=nn(Array.from(c.values()).flatMap(u=>u.channels),({scaleKey:u})=>u);for(const u of l.values()){const f=u.reduce((b,{scale:_})=>bt(b,_),{}),{values:h}=u[0],d=Array.from(new Set(h.map(b=>b.field).filter(zn))),p=bt({guide:{title:d.length===0?void 0:d},field:d[0]},f),{name:v}=u[0],g=u.flatMap(({values:b})=>b.map(_=>_.value)),m=eX(v,g,p,o,s,e);u.forEach(b=>b.scale=m)}return c})}function jk(t,e,r){const[n]=cn("mark",r),[i]=cn("theme",r),[a]=cn("labelTransform",r),{key:o,frame:s=!1,theme:c,clip:l,style:u={},labelTransform:f=[]}=e,h=i(zk(c)),d=Array.from(t.values()),p=Array.from(new Set(d.flatMap(P=>P.channels.map(A=>A.scale)))),v=kX(Array.from(p),e,r),g=jX(v,e),m=CH(g,e,r),b=s?bt({mainLineWidth:1,mainStroke:"#000"},u):u;FX(v,m,g);const _={},O=[];for(const[P,A]of t.entries()){const{children:T,dataDomain:C,modifier:L,key:N}=P,{index:x,channels:y,tooltip:w}=A,M=Object.fromEntries(y.map(({name:Yt,scale:Rt})=>[Yt,Rt])),S=Fa(M,Yt=>Ok(Yt,r));Object.assign(_,S);const k=nX(y,S),I=n(P),[j,F,X]=wq(I(x,S,k,m)),K=C||j.length,Q=L?L(F,K,g):[],dt=Yt=>{var Rt,Ut;return(Ut=(Rt=w.title)===null||Rt===void 0?void 0:Rt[Yt])===null||Ut===void 0?void 0:Ut.value},Ct=Yt=>w.items.map(Rt=>Rt[Yt]),Nt=j.map((Yt,Rt)=>{const Ut=Object.assign({points:F[Rt],transform:Q[Rt],index:Yt,markKey:N,viewKey:o},w&&{title:dt(Yt),items:Ct(Yt)});for(const[fe,ln]of Object.entries(k))Ut[fe]=ln[Yt],X&&(Ut[`series${Tc(fe)}`]=X[Rt].map(Ln=>ln[Ln]));return X&&(Ut.seriesIndex=X[Rt]),X&&w&&(Ut.seriesItems=X[Rt].map(fe=>Ct(fe)),Ut.seriesTitle=X[Rt].map(fe=>dt(fe))),Ut});A.data=Nt,A.index=j;const ee=T==null?void 0:T(Nt,S,g);O.push(...ee||[])}return[{layout:g,theme:h,coordinate:m,components:v,markState:t,key:o,clip:l,scale:_,style:b,labelTransform:Bk(f.map(a))},O]}function Vg(t,e,r,n){return Ka(this,void 0,void 0,function*(){const{components:i,theme:a,layout:o,markState:s,coordinate:c,key:l,style:u,clip:f}=t,{x:h,y:d,width:p,height:v}=o,g=jo(o,["x","y","width","height"]),m=["view","plot","main","content"],b=m.map((S,k)=>k),_=["a","margin","padding","inset"],O=m.map(S=>U2(Object.assign({},a,u),S)),E=_.map(S=>Wt(g,S)),P=S=>S.style("x",k=>N[k].x).style("y",k=>N[k].y).style("width",k=>N[k].width).style("height",k=>N[k].height).each(function(k){Iq(ie(this),O[k])});let A=0,T=0,C=p,L=v;const N=b.map(S=>{const k=E[S],{left:I=0,top:j=0,bottom:F=0,right:X=0}=k;return A+=I,T+=j,C-=I+X,L-=j+F,{x:A,y:T,width:C,height:L}});e.selectAll(Di(jt)).data(b.filter(S=>zn(O[S])),S=>m[S]).join(S=>S.append("rect").attr("className",jt).style("zIndex",-2).call(P),S=>S.call(P),S=>S.remove());const x=Mq(s),y=x?{duration:x[1]}:!1,w=e.selectAll(Di(_t)).data(i,(S,k)=>`${S.type}-${k}`).join(S=>S.append("g").style("zIndex",({zIndex:k})=>k||-1).attr("className",_t).append(k=>Tk(bt({animate:y},k),c,a,n)),S=>S.transition(function(k){const{preserve:I=!1}=k;if(I)return;const j=Tk(bt({animate:y},k),c,a,n),{attributes:F}=j,[X]=this.childNodes;return X.update(F)})).transitions();r.push(...w.flat().filter(zn));const M=e.selectAll(Di(vt)).data([o],()=>l).join(S=>S.append("rect").style("fill","transparent").attr("className",vt).call(Wk).call(Hk,Array.from(s.keys())).call(Vk,f),S=>S.call(Hk,Array.from(s.keys())).call(k=>x?Rq(k,x):Wk(k)).call(Vk,f)).transitions();r.push(...M.flat());for(const[S,k]of s.entries()){const{data:I}=k,{key:j,class:F,type:X}=S,K=kq(S,k,t,n),Q=Tq(S,k,t,n),dt=Cq(S,k,t,n),Ct=Nq(S,k,t,n),Nt=Pq(e,F,"element"),ee=[lt];typeof X=="string"&&ee.push(X);const Yt=e.select(`#${j}`).selectAll(Di(lt)).selectFacetAll(Nt).data(I,Rt=>Rt.key,Rt=>Rt.groupKey).join(Rt=>Rt.append(K).attr("className",ee.join(" ")).transition(function(Ut){return Q(Ut,[this])}),Rt=>Rt.call(Ut=>{const fe=Ut.parent(),ln=II(Ln=>{const[wr,Or]=Ln.getBounds().min;return[wr,Or]});Rt.transition(function(Ln,wr){Aq(this,fe,ln);const Or=K(Ln,wr),Zr=dt(Ln,[this],[Or]);return Zr===null&&q2(this,Or),Zr})}),Rt=>Rt.each(function(){this.__removed__=!0}).transition(function(Ut){return Ct(Ut,[this])}).remove(),Rt=>Rt.append(K).attr("className",lt).transition(function(Ut){const{__fromElements__:fe}=this,ln=dt(Ut,fe,[this]);return new Mn(fe,null,this.parentNode).transition(ln).remove(),ln}),Rt=>Rt.transition(function(Ut){const ln=new Mn([],this.__toData__,this.parentNode).append(K).attr("className",lt).nodes();return dt(Ut,[this],ln)}).remove()).transitions();r.push(...Yt.flat())}xq(t,e,r,n)})}function xq(t,e,r,n){const[i]=cn("labelTransform",n),{markState:a,labelTransform:o}=t,s=e.select(Di(At)).node(),c=new Map,l=new Map,u=Array.from(a.entries()).flatMap(([p,v])=>{const{labels:g=[],key:m}=p,b=Eq(p,v,t,n),_=e.select(`#${m}`).selectAll(Di(lt)).nodes().filter(O=>!O.__removed__);return g.flatMap((O,E)=>{const{transform:P=[]}=O,A=jo(O,["transform"]);return _.flatMap(T=>{const C=_q(A,E,T);return C.forEach(L=>{c.set(L,b),l.set(L,O)}),C})})}),f=ie(s).selectAll(Di(ne)).data(u,p=>p.key).join(p=>p.append(v=>c.get(v)(v)).attr("className",ne),p=>p.each(function(v){const m=c.get(v)(v);q2(this,m)}),p=>p.remove()).nodes(),h=nn(f,p=>l.get(p.__data__)),{coordinate:d}=t;for(const[p,v]of h){const{transform:g=[]}=p;Bk(g.map(i))(v,d)}o&&o(f,d)}function Bk(t){return(e,r)=>{for(const n of t)e=n(e,r);return e}}function _q(t,e,r){const{seriesIndex:n,seriesKey:i,points:a,key:o,index:s}=r.__data__,c=Sq(r);if(!n)return[Object.assign(Object.assign({},t),{key:`${o}-${e}`,bounds:c,index:s,points:a,dependentElement:r})];const l=Oq(t),u=n.map((f,h)=>Object.assign(Object.assign({},t),{key:`${i[h]}-${e}`,bounds:[a[h]],index:f,points:a,dependentElement:r}));return l?l(u):u}function wq([t,e,r]){if(r)return[t,e,r];const n=[],i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a];s.every(([c,l])=>zn(c)&&zn(l))&&(n.push(o),i.push(s))}return[n,i]}function Oq(t){const{selector:e}=t;if(!e)return null;if(typeof e=="function")return e;if(e==="first")return r=>[r[0]];if(e==="last")return r=>[r[r.length-1]];throw new Error(`Unknown selector: ${e}`)}function Sq(t){const e=t.cloneNode(),r=t.getAnimations();e.style.visibility="hidden",r.forEach(o=>{const s=o.effect.getKeyframes();e.attr(s[s.length-1])}),t.parentNode.appendChild(e);const n=e.getLocalBounds();e.destroy();const{min:i,max:a}=n;return[i,a]}function Eq(t,e,r,n){const[i]=cn("shape",n),{data:a}=t,{data:o,defaultLabelShape:s}=e,c=o.map(f=>f.points),{theme:l,coordinate:u}=r;return f=>{const{index:h,points:d}=f,p=a[h],{formatter:v=L=>`${L}`,transform:g,style:m}=f,b=jo(f,["formatter","transform","style"]),_=Fa(Object.assign(Object.assign({},b),m),L=>Fk(L,p,h,a)),{shape:O=s,text:E}=_,P=jo(_,["shape","text"]),A=typeof v=="string"?ks(v):v,T=Object.assign(Object.assign({},P),{text:A(E)});return i(Object.assign({type:`label.${O}`},P))(d,T,u,l,c)}}function Fk(t,e,r,n){return typeof t=="function"?t(e,r,n):typeof t!="string"?t:e[t]!==void 0?e[t]:t}function Mq(t){let e=-1/0,r=1/0;for(const[n,i]of t){const{animate:a={}}=n,{data:o}=i,{enter:s={},update:c={},exit:l={}}=a,{type:u,duration:f=300,delay:h=0}=c,{type:d,duration:p=300,delay:v=0}=s,{type:g,duration:m=300,delay:b=0}=l;for(const _ of o){const{updateType:O=u,updateDuration:E=f,updateDelay:P=h,enterType:A=d,enterDuration:T=p,enterDelay:C=v,exitDuration:L=m,exitDelay:N=b,exitType:x=g}=_;(O===void 0||O)&&(e=Math.max(e,E+P),r=Math.min(r,P)),(x===void 0||x)&&(e=Math.max(e,L+N),r=Math.min(r,N)),(A===void 0||A)&&(e=Math.max(e,T+C),r=Math.min(r,C))}}return e===-1/0?null:[r,e-r]}function Pq(t,e,r){return t.node().parentElement.findAll(i=>i.style.facet===e).flatMap(i=>i.getElementsByClassName(r))}function Aq(t,e,r){if(!t.__facet__)return;const n=t.parentNode.parentNode,i=e.parentNode,[a,o]=r(n),[s,c]=r(i),l=`translate(${a-s}, ${o-c})`;DI(t,l),e.append(t)}function kq(t,e,r,n){const[i]=cn("shape",n),{data:a}=t,{defaultShape:o,data:s}=e,c=s.map(d=>d.points),{theme:l,coordinate:u}=r,{type:f,style:h={}}=t;return(d,p)=>{const{shape:v=o}=h,{shape:g=v,points:m,seriesIndex:b,index:_}=d,O=jo(d,["shape","points","seriesIndex","index"]),E=Object.assign(Object.assign({},O),{shape:g,mark:f,defaultShape:o,index:p}),P=b?b.map(L=>a[L]):a[_],A=b||_,T=Fa(h,L=>Fk(L,P,A,a));return i(Object.assign(Object.assign({},T),{type:Yk(t,g)}))(m,E,u,l,c)}}function Xg(t,e,r,n,i){var a;const[,o]=cn("shape",i),[s]=cn("animation",i),{defaultShape:c}=r,{theme:l,coordinate:u}=n,h=`default${Tc(t)}Animation`,{[h]:d}=o(Yk(e,c)).props,{[t]:p={}}=l,v=((a=e.animate)===null||a===void 0?void 0:a[t])||{};return(g,m,b)=>{const{[`${t}Type`]:_,[`${t}Delay`]:O,[`${t}Duration`]:E,[`${t}Easing`]:P}=g,A=Object.assign({type:_||d},v);if(!A.type)return null;const L=s(A)(m,b,{delay:O,duration:E,easing:P},u,p);return Array.isArray(L)?L:[L]}}function Tq(t,e,r,n){return Xg("enter",t,e,r,n)}function Lq(t){return t.finished.then(()=>{t.cancel()}),t}function Cq(t,e,r,n){return Xg("update",t,e,r,n)}function Nq(t,e,r,n){return Xg("exit",t,e,r,n)}function zk(t={type:"light"}){const{type:e="light"}=t;return Object.assign(Object.assign({},t),{type:e})}function Gk(t){const e={event:!0},{interaction:r={}}=t;return Object.entries(bt(e,r)).filter(n=>!!n[1]).map(([n,i])=>Object.assign({type:n},i))}function $k(t,e){return Ka(this,void 0,void 0,function*(){const r={library:e},{data:n}=t,i=jo(t,["data"]);if(n==null)return t;const[,{data:a}]=yield Ck([],{data:n},r);return Object.assign({data:a},i)})}function Wk(t){t.style("x",e=>e.paddingLeft).style("y",e=>e.paddingTop).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function Rq(t,e){const[r,n]=e;t.transition(function(i){const{x:a,y:o,width:s,height:c}=this.style,{paddingLeft:l,paddingTop:u,innerWidth:f,innerHeight:h}=i,d=[{x:a,y:o,width:s,height:c},{x:l,y:u,width:f,height:h}];return this.animate(d,{delay:r,duration:n,fill:"both"})})}function Yk(t,e){const{type:r}=t;return typeof e=="string"?`${r}.${e}`:e}function Hk(t,e){const r=a=>a.class!==void 0?`${a.class}`:"";t.nodes().length===0||(t.selectAll(Di(mt)).data(e,a=>a.key).join(a=>a.append("g").attr("className",mt).attr("id",o=>o.key).style("facet",r).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",r).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),t.select(Di(At)).node())||t.append("g").attr("className",At)}function Di(...t){return t.map(e=>`.${e}`).join("")}function Vk(t,e){!t.node()||t.style("clipPath",r=>{if(!e)return null;const{paddingTop:n,paddingLeft:i,innerWidth:a,innerHeight:o}=r;return new Br({style:{x:i,y:n,width:a,height:o}})})}function Iq(t,e){for(const[r,n]of Object.entries(e))t.style(r,n)}function Xk(t){const e=bt({},t),r=new Map([[e,null]]),n=new Map([[null,-1]]),i=[e];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=r.get(a),c=n.get(a),l=s===null?`${0}`:`${s.key}-${c}`;a.key=l}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const c=o[s];r.set(c,a),n.set(c,s),i.push(c)}}return e}function Dq(t,e){const r=new Rb;return r.registerPlugin(new Bb),new I1({width:t,height:e,container:document.createElement("div"),renderer:r})}function jq(t,e={},r){const{width:n=640,height:i=480,on:a}=t,o=Xk(t),{canvas:s=Dq(n,i),library:c=AA(),emitter:l=new qb}=e;e.canvas=s,e.library=c,e.emitter=l,s.resize(n,i),l.emit(Kr.BEFORE_RENDER);const u=ie(s.document.documentElement);return s.ready.then(()=>Hg(Object.assign(Object.assign({},o),{width:n,height:i}),u,c,e)).then(()=>{l.emit(Kr.AFTER_RENDER),r==null||r()}),Bq(s.getConfig().container)}function Ket(t,e={},r){const{width:n=640,height:i=480,on:a}=t,o=Xk(t),{library:s=createLibrary(),group:c=new Group,emitter:l=new EventEmitter}=e;if(!(c!=null&&c.parentElement))throw new Error("renderToMountedElement can't render chart to unmounted group.");const u=select(c);return e.group=c,e.library=s,e.emitter=l,l.emit(CHART_LIFE_CIRCLE.BEFORE_RENDER),plot(Object.assign(Object.assign({},o),{width:n,height:i}),u,s,e).then(()=>{l.emit(CHART_LIFE_CIRCLE.AFTER_RENDER),r==null||r()}),c}function qk(t,e={}){const{canvas:r,emitter:n}=e;r&&r.destroy(),n.off()}function Bq(t){return typeof t=="string"?document.getElementById(t):t}function Fq(t,{name:e,key:r=e}){t.prototype[e]=function(n){return arguments.length===0?this.attr(r):this.attr(r,n)}}function zq(t,{name:e,key:r=e}){t.prototype[e]=function(n){if(arguments.length===0)return this.attr(r);if(Array.isArray(n))return this.attr(r,n);const i=[...this.attr(r)||[],n];return this.attr(r,i)}}function Gq(t,{name:e,key:r=e}){t.prototype[e]=function(n,i){if(arguments.length===0)return this.attr(r);if(arguments.length===1&&typeof n!="string")return this.attr(r,n);const a=this.attr(r)||{};return a[n]=arguments.length===1?!0:i,this.attr(r,a)}}function $q(t,{name:e}){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(e);if(Array.isArray(r))return this.attr(e,{items:r});if(Bc(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(e,r);const n=this.attr(e)||{},{items:i=[]}=n;return i.push(r),n.items=i,this.attr(e,n)}}function Wq(t,{name:e,ctor:r}){t.prototype[e]=function(n){const i=this.append(r);return e==="mark"&&(i.type=n),i}}function Yq(t,{name:e,ctor:r}){t.prototype[e]=function(){return this.type=null,this.append(r)}}function xe(t){return e=>{for(const r of t){const{type:n}=r;n==="value"?Fq(e,r):n==="array"?zq(e,r):n==="object"?Gq(e,r):n==="node"?Wq(e,r):n==="container"?Yq(e,r):n==="mix"&&$q(e,r)}return e}}function hi(t){return Object.entries(t).map(([e,r])=>({type:"node",name:e,ctor:r}))}function Hq(t){return Object.entries(t).map(([e,r])=>({type:"container",name:e,ctor:r}))}function Uk(t,e){const r=[t];for(;r.length;){const n=r.pop();e&&e(n);const i=n.children||[];for(const a of i)r.push(a)}}class Kk{constructor(e={},r){this.parentNode=null,this.children=[],this.index=0,this.type=r,this.value=e}map(e=r=>r){const r=e(this.value);return this.value=r,this}attr(e,r){return arguments.length===1?this.value[e]:this.map(n=>(n[e]=r,n))}append(e){const r=new e({});return r.children=[],r.parentNode=this,r.index=this.children.length,this.children.push(r),r}remove(){const e=this.parentNode;if(e){const{children:r}=e,n=r.findIndex(i=>i===this);r.splice(n,1)}return this}getNodeByKey(e){let r=null;return Uk(this,i=>{e===i.attr("key")&&(r=i)}),r}getNodesByType(e){const r=[];return Uk(this,i=>{e===i.type&&r.push(i)}),r}call(e,...r){return e(this.map(),...r),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}class Ze extends Kk{changeData(e){const r=this.getRoot();if(!!r)return this.attr("data",e),r==null?void 0:r.render()}getMark(){var e;const r=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!r)return;const{markState:n}=r,i=Array.from(n.keys()).find(a=>a.key===this.attr("key"));return n.get(i)}getScale(){var e;const r=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!!r)return r==null?void 0:r.scale}getScaleByChannel(e){var r,n;const i=(r=this.getRoot())===null||r===void 0?void 0:r.getView();if(!!i)return(n=i==null?void 0:i.scale)===null||n===void 0?void 0:n[e]}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}}var Qe=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};const Je=[{name:"encode",type:"object"},{name:"scale",type:"object"},{name:"data",type:"value"},{name:"transform",type:"array"},{name:"style",type:"object"},{name:"animate",type:"object"},{name:"coordinate",type:"object"},{name:"interaction",type:"object"},{name:"label",type:"array",key:"labels"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"slider",type:"object"},{name:"scrollbar",type:"object"},{name:"state",type:"object"},{name:"tooltip",type:"mix"}];let qg=class extends Ze{constructor(){super({})}};qg=Qe([xe(Je)],qg);let Ug=class extends Ze{constructor(){super({},"interval")}};Ug=Qe([xe(Je)],Ug);let Kg=class extends Ze{constructor(){super({},"rect")}};Kg=Qe([xe(Je)],Kg);let Zg=class extends Ze{constructor(){super({},"point")}};Zg=Qe([xe(Je)],Zg);let Qg=class extends Ze{constructor(){super({},"area")}};Qg=Qe([xe(Je)],Qg);let Jg=class extends Ze{constructor(){super({},"line")}};Jg=Qe([xe(Je)],Jg);let tm=class extends Ze{constructor(){super({},"cell")}};tm=Qe([xe(Je)],tm);let em=class extends Ze{constructor(){super({},"vector")}};em=Qe([xe(Je)],em);let nm=class extends Ze{constructor(){super({},"link")}};nm=Qe([xe(Je)],nm);let rm=class extends Ze{constructor(){super({},"polygon")}};rm=Qe([xe(Je)],rm);let im=class extends Ze{constructor(){super({},"image")}};im=Qe([xe(Je)],im);let am=class extends Ze{constructor(){super({},"text")}};am=Qe([xe(Je)],am);let om=class extends Ze{constructor(){super({},"box")}};om=Qe([xe(Je)],om);let sm=class extends Ze{constructor(){super({},"lineX")}};sm=Qe([xe(Je)],sm);let cm=class extends Ze{constructor(){super({},"lineY")}};cm=Qe([xe(Je)],cm);let lm=class extends Ze{constructor(){super({},"range")}};lm=Qe([xe(Je)],lm);let um=class extends Ze{constructor(){super({},"rangeX")}};um=Qe([xe(Je)],um);let fm=class extends Ze{constructor(){super({},"rangeY")}};fm=Qe([xe(Je)],fm);let hm=class extends Ze{constructor(){super({},"connector")}};hm=Qe([xe(Je)],hm);let dm=class extends Ze{constructor(){super({},"shape")}};dm=Qe([xe(Je)],dm);let pm=class extends Ze{constructor(){super({},"sankey")}};pm=Qe([xe([...Je,{name:"layout",type:"value"}])],pm);let vm=class extends Ze{constructor(){super({},"treemap")}};vm=Qe([xe([...Je,{name:"layout",type:"value"}])],vm);let gm=class extends Ze{constructor(){super({},"boxplot")}};gm=Qe([xe(Je)],gm);let mm=class extends Ze{constructor(){super({},"pack")}};mm=Qe([xe([...Je,{name:"layout",type:"value"}])],mm);let ym=class extends Ze{constructor(){super({},"forceGraph")}};ym=Qe([xe([...Je,{name:"layout",type:"value"}])],ym);let bm=class extends Ze{constructor(){super({},"tree")}};bm=Qe([xe([...Je,{name:"layout",type:"value"}])],bm);let xm=class extends Ze{constructor(){super({},"wordCloud")}};xm=Qe([xe([...Je,{name:"layout",type:"object"}])],xm);const ji={mark:qg,interval:Ug,rect:Kg,point:Zg,area:Qg,line:Jg,cell:tm,vector:em,link:nm,polygon:rm,image:im,text:am,box:om,lineX:sm,lineY:cm,range:lm,rangeX:um,rangeY:fm,connector:hm,sankey:pm,treemap:vm,boxplot:gm,shape:dm,pack:mm,forceGraph:ym,tree:bm,wordCloud:xm};class sa extends Kk{getView(){const e=this.getRoot(),{views:r}=e.getContext();if(!!(r!=null&&r.length))return r.find(n=>n.key===this.attr("key"))}getCoordinate(){var e;return(e=this.getView())===null||e===void 0?void 0:e.coordinate}getTheme(){var e;return(e=this.getView())===null||e===void 0?void 0:e.theme}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}show(){const e=this.getGroup();!e||!e.isVisible()&&e.setAttribute("visibility","visible")}hide(){const e=this.getGroup();!e||e.isVisible()&&e.setAttribute("visibility","hidden")}}var Vq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Bh=class extends sa{constructor(e={},r="view"){super(e,r)}};Bh=Vq([xe([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"axis"},{type:"object",name:"legend"},...hi(ji)])],Bh);var Xq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let _m=class extends sa{constructor(){super({},"spaceLayer")}};_m=Xq([xe([{type:"value",name:"data"},...hi(ji)])],_m);var qq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let wm=class extends sa{constructor(){super({},"spaceFlex")}};wm=qq([xe([{type:"value",name:"data"},...hi(ji)])],wm);var Uq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Om=class extends sa{constructor(){super({},"facetRect")}};Om=Uq([xe([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...hi(ji)])],Om);var Kq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Sm=class extends sa{constructor(){super({},"facetCircle")}};Sm=Kq([xe([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...hi(ji)])],Sm);var Zq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Em=class extends sa{constructor(){super({},"repeatMatrix")}};Em=Zq([xe([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"encode"},{type:"object",name:"legend"},...hi(ji)])],Em);var Qq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Mm=class extends sa{constructor(){super({},"timingKeyframe")}};Mm=Qq([xe([...hi(ji)])],Mm);var Jq=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Pm=class extends sa{constructor(){super({},"geoView")}};Pm=Jq([xe([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"legend"},...hi(ji)])],Pm);var tU=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let Am=class extends sa{constructor(){super({},"geoPath")}};Am=tU([xe([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},...hi(ji)])],Am);const km={view:Bh,spaceLayer:_m,spaceFlex:wm,facetRect:Om,facetCircle:Sm,repeatMatrix:Em,timingKeyframe:Mm,geoView:Pm,geoPath:Am};for(const t of Object.values(km))xe(hi(km))(t);const Zk=AA();function Zet(t,e){Object.assign(Zk,{[t]:e})}var eU=function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},nU=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const rU=["container","renderer"];function iU(t){return t===void 0?document.createElement("div"):typeof t=="string"?document.getElementById(t):t}function aU(t){const e=t.parentNode;e&&e.removeChild(t)}function oU(t){if(t.type!==null)return t;const e=t.children[t.children.length-1];return e.attr("width",t.attr("width")),e.attr("height",t.attr("height")),e.attr("paddingLeft",t.attr("paddingLeft")),e.attr("paddingTop",t.attr("paddingTop")),e.attr("paddingBottom",t.attr("paddingBottom")),e.attr("paddingRight",t.attr("paddingRight")),e.attr("insetLeft",t.attr("insetLeft")),e.attr("insetRight",t.attr("insetRight")),e.attr("insetBottom",t.attr("insetBottom")),e.attr("insetTop",t.attr("insetTop")),e.attr("marginLeft",t.attr("marginLeft")),e.attr("marginBottom",t.attr("marginBottom")),e.attr("marginTop",t.attr("marginTop")),e.attr("marginRight",t.attr("marginRight")),e.attr("autoFit",t.attr("autoFit")),e.attr("padding",t.attr("padding")),e.attr("margin",t.attr("margin")),e.attr("inset",t.attr("inset")),e}function Qk(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function sU(t,e,r,n=new Rb,i=[]){return i.push(new Bb),i.forEach(a=>n.registerPlugin(a)),new I1({container:t,width:e,height:r,renderer:n})}function cU(t){const e=oU(t),r=[e],n=new Map;for(n.set(e,Qk(e));r.length;){const i=r.pop(),a=n.get(i);for(const o of i.children){const s=Qk(o),{children:c=[]}=a;c.push(s),r.push(o),n.set(o,s),a.children=c}}return n.get(e)}const lU=[{name:"data",type:"value"},{name:"width",type:"value"},{name:"height",type:"value"},{name:"coordinate",type:"value"},{name:"interaction",type:"object"},{name:"theme",type:"object"},{name:"title",type:"value"},{name:"key",type:"value"},{name:"transform",type:"array"},{name:"theme",type:"object"},{name:"scale",type:"object"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"style",type:"object"},...hi(ji),...Hq(km)];let Tm=class extends Bh{constructor(e={}){const{container:r,canvas:n}=e,i=nU(e,["container","canvas"]);super(i,"view"),this.onResize=pR(()=>{this.forceFit()},300),this._container=iU(r),this._emitter=new qb,this._context={library:Zk,emitter:this._emitter,canvas:n},this.bindAutoFit()}render(){if(!this._context.canvas){const{width:e=640,height:r=480,renderer:n,plugins:i,autoFit:a}=this.options(),{width:o,height:s}=nx(this._container,a,e,r);this.width(o),this.height(s),this._context.canvas=sU(this._container,e,r,n,i)}return new Promise(e=>{jq(this.options(),this._context,()=>e(this))})}options(e){return arguments.length===0?this._options||cU(this):(this._options=bt(this._options||{},OR(e,rU)),this)}getContainer(){return this._container}getContext(){return this._context}on(e,r,n){return this._emitter.on(e,r,n),this}once(e,r){return this._emitter.once(e,r),this}emit(e,...r){return this._emitter.emit(e,...r),this}off(e,r){return this._emitter.off(e,r),this}destroy(){const e=this.options();this.emit(Kr.BEFORE_DESTROY),this.unbindAutoFit(),qk(e,this._context),aU(this._container),this.emit(Kr.AFTER_DESTROY)}clear(){const e=this.options();this.emit(Kr.BEFORE_CLEAR),qk(e,this._context),this.emit(Kr.AFTER_CLEAR)}forceFit(){const{width:e,height:r,autoFit:n}=this.options(),{width:i,height:a}=nx(this._container,n,e,r);a&&i&&this.changeSize(i,a)}changeSize(e,r){const{width:n,height:i,on:a}=this.options();if(n===e&&i===r)return Promise.resolve(this);this.emit(Kr.BEFORE_CHANGE_SIZE),this.width(e),this.height(r);const o=this.render();return o.then(()=>{this.emit(Kr.AFTER_CHANGE_SIZE)}),o}bindAutoFit(){const e=this.options(),{autoFit:r}=e;r&&window.addEventListener("resize",this.onResize)}unbindAutoFit(){const e=this.options(),{autoFit:r}=e;r&&window.removeEventListener("resize",this.onResize)}};Tm=eU([xe(lU)],Tm)},99419:function(yn){"use strict";yn.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},2489:function(yn,ir,xt){var se=xt(99419),Pt=xt(27933),Lt=Object.hasOwnProperty,D=Object.create(null);for(var It in se)Lt.call(se,It)&&(D[se[It]]=It);var Tt=yn.exports={to:{},get:{}};Tt.get=function(lt){var Gt=lt.substring(0,3).toLowerCase(),vt,_t;switch(Gt){case"hsl":vt=Tt.get.hsl(lt),_t="hsl";break;case"hwb":vt=Tt.get.hwb(lt),_t="hwb";break;default:vt=Tt.get.rgb(lt),_t="rgb";break}return vt?{model:_t,value:vt}:null},Tt.get.rgb=function(lt){if(!lt)return null;var Gt=/^#([a-f0-9]{3,4})$/i,vt=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,_t=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ne=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,jt=/^(\w+)$/,ue=[0,0,0,1],Ht,Dt,ut;if(Ht=lt.match(vt)){for(ut=Ht[2],Ht=Ht[1],Dt=0;Dt<3;Dt++){var J=Dt*2;ue[Dt]=parseInt(Ht.slice(J,J+2),16)}ut&&(ue[3]=parseInt(ut,16)/255)}else if(Ht=lt.match(Gt)){for(Ht=Ht[1],ut=Ht[3],Dt=0;Dt<3;Dt++)ue[Dt]=parseInt(Ht[Dt]+Ht[Dt],16);ut&&(ue[3]=parseInt(ut+ut,16)/255)}else if(Ht=lt.match(_t)){for(Dt=0;Dt<3;Dt++)ue[Dt]=parseInt(Ht[Dt+1],0);Ht[4]&&(Ht[5]?ue[3]=parseFloat(Ht[4])*.01:ue[3]=parseFloat(Ht[4]))}else if(Ht=lt.match(ne)){for(Dt=0;Dt<3;Dt++)ue[Dt]=Math.round(parseFloat(Ht[Dt+1])*2.55);Ht[4]&&(Ht[5]?ue[3]=parseFloat(Ht[4])*.01:ue[3]=parseFloat(Ht[4]))}else return(Ht=lt.match(jt))?Ht[1]==="transparent"?[0,0,0,0]:Lt.call(se,Ht[1])?(ue=se[Ht[1]],ue[3]=1,ue):null:null;for(Dt=0;Dt<3;Dt++)ue[Dt]=mt(ue[Dt],0,255);return ue[3]=mt(ue[3],0,1),ue},Tt.get.hsl=function(lt){if(!lt)return null;var Gt=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,vt=lt.match(Gt);if(vt){var _t=parseFloat(vt[4]),ne=(parseFloat(vt[1])%360+360)%360,jt=mt(parseFloat(vt[2]),0,100),ue=mt(parseFloat(vt[3]),0,100),Ht=mt(isNaN(_t)?1:_t,0,1);return[ne,jt,ue,Ht]}return null},Tt.get.hwb=function(lt){if(!lt)return null;var Gt=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,vt=lt.match(Gt);if(vt){var _t=parseFloat(vt[4]),ne=(parseFloat(vt[1])%360+360)%360,jt=mt(parseFloat(vt[2]),0,100),ue=mt(parseFloat(vt[3]),0,100),Ht=mt(isNaN(_t)?1:_t,0,1);return[ne,jt,ue,Ht]}return null},Tt.to.hex=function(){var lt=Pt(arguments);return"#"+At(lt[0])+At(lt[1])+At(lt[2])+(lt[3]<1?At(Math.round(lt[3]*255)):"")},Tt.to.rgb=function(){var lt=Pt(arguments);return lt.length<4||lt[3]===1?"rgb("+Math.round(lt[0])+", "+Math.round(lt[1])+", "+Math.round(lt[2])+")":"rgba("+Math.round(lt[0])+", "+Math.round(lt[1])+", "+Math.round(lt[2])+", "+lt[3]+")"},Tt.to.rgb.percent=function(){var lt=Pt(arguments),Gt=Math.round(lt[0]/255*100),vt=Math.round(lt[1]/255*100),_t=Math.round(lt[2]/255*100);return lt.length<4||lt[3]===1?"rgb("+Gt+"%, "+vt+"%, "+_t+"%)":"rgba("+Gt+"%, "+vt+"%, "+_t+"%, "+lt[3]+")"},Tt.to.hsl=function(){var lt=Pt(arguments);return lt.length<4||lt[3]===1?"hsl("+lt[0]+", "+lt[1]+"%, "+lt[2]+"%)":"hsla("+lt[0]+", "+lt[1]+"%, "+lt[2]+"%, "+lt[3]+")"},Tt.to.hwb=function(){var lt=Pt(arguments),Gt="";return lt.length>=4&&lt[3]!==1&&(Gt=", "+lt[3]),"hwb("+lt[0]+", "+lt[1]+"%, "+lt[2]+"%"+Gt+")"},Tt.to.keyword=function(lt){return D[lt.slice(0,3)]};function mt(lt,Gt,vt){return Math.min(Math.max(Gt,lt),vt)}function At(lt){var Gt=Math.round(lt).toString(16).toUpperCase();return Gt.length<2?"0"+Gt:Gt}},11312:function(yn){"use strict";var ir=Object.prototype.hasOwnProperty,xt="~";function se(){}Object.create&&(se.prototype=Object.create(null),new se().__proto__||(xt=!1));function Pt(Tt,mt,At){this.fn=Tt,this.context=mt,this.once=At||!1}function Lt(Tt,mt,At,lt,Gt){if(typeof At!="function")throw new TypeError("The listener must be a function");var vt=new Pt(At,lt||Tt,Gt),_t=xt?xt+mt:mt;return Tt._events[_t]?Tt._events[_t].fn?Tt._events[_t]=[Tt._events[_t],vt]:Tt._events[_t].push(vt):(Tt._events[_t]=vt,Tt._eventsCount++),Tt}function D(Tt,mt){--Tt._eventsCount===0?Tt._events=new se:delete Tt._events[mt]}function It(){this._events=new se,this._eventsCount=0}It.prototype.eventNames=function(){var mt=[],At,lt;if(this._eventsCount===0)return mt;for(lt in At=this._events)ir.call(At,lt)&&mt.push(xt?lt.slice(1):lt);return Object.getOwnPropertySymbols?mt.concat(Object.getOwnPropertySymbols(At)):mt},It.prototype.listeners=function(mt){var At=xt?xt+mt:mt,lt=this._events[At];if(!lt)return[];if(lt.fn)return[lt.fn];for(var Gt=0,vt=lt.length,_t=new Array(vt);Gt<vt;Gt++)_t[Gt]=lt[Gt].fn;return _t},It.prototype.listenerCount=function(mt){var At=xt?xt+mt:mt,lt=this._events[At];return lt?lt.fn?1:lt.length:0},It.prototype.emit=function(mt,At,lt,Gt,vt,_t){var ne=xt?xt+mt:mt;if(!this._events[ne])return!1;var jt=this._events[ne],ue=arguments.length,Ht,Dt;if(jt.fn){switch(jt.once&&this.removeListener(mt,jt.fn,void 0,!0),ue){case 1:return jt.fn.call(jt.context),!0;case 2:return jt.fn.call(jt.context,At),!0;case 3:return jt.fn.call(jt.context,At,lt),!0;case 4:return jt.fn.call(jt.context,At,lt,Gt),!0;case 5:return jt.fn.call(jt.context,At,lt,Gt,vt),!0;case 6:return jt.fn.call(jt.context,At,lt,Gt,vt,_t),!0}for(Dt=1,Ht=new Array(ue-1);Dt<ue;Dt++)Ht[Dt-1]=arguments[Dt];jt.fn.apply(jt.context,Ht)}else{var ut=jt.length,J;for(Dt=0;Dt<ut;Dt++)switch(jt[Dt].once&&this.removeListener(mt,jt[Dt].fn,void 0,!0),ue){case 1:jt[Dt].fn.call(jt[Dt].context);break;case 2:jt[Dt].fn.call(jt[Dt].context,At);break;case 3:jt[Dt].fn.call(jt[Dt].context,At,lt);break;case 4:jt[Dt].fn.call(jt[Dt].context,At,lt,Gt);break;default:if(!Ht)for(J=1,Ht=new Array(ue-1);J<ue;J++)Ht[J-1]=arguments[J];jt[Dt].fn.apply(jt[Dt].context,Ht)}}return!0},It.prototype.on=function(mt,At,lt){return Lt(this,mt,At,lt,!1)},It.prototype.once=function(mt,At,lt){return Lt(this,mt,At,lt,!0)},It.prototype.removeListener=function(mt,At,lt,Gt){var vt=xt?xt+mt:mt;if(!this._events[vt])return this;if(!At)return D(this,vt),this;var _t=this._events[vt];if(_t.fn)_t.fn===At&&(!Gt||_t.once)&&(!lt||_t.context===lt)&&D(this,vt);else{for(var ne=0,jt=[],ue=_t.length;ne<ue;ne++)(_t[ne].fn!==At||Gt&&!_t[ne].once||lt&&_t[ne].context!==lt)&&jt.push(_t[ne]);jt.length?this._events[vt]=jt.length===1?jt[0]:jt:D(this,vt)}return this},It.prototype.removeAllListeners=function(mt){var At;return mt?(At=xt?xt+mt:mt,this._events[At]&&D(this,At)):(this._events=new se,this._eventsCount=0),this},It.prototype.off=It.prototype.removeListener,It.prototype.addListener=It.prototype.on,It.prefixed=xt,It.EventEmitter=It,yn.exports=It},48254:function(yn){yn.exports=function(xt){return!xt||typeof xt=="string"?!1:xt instanceof Array||Array.isArray(xt)||xt.length>=0&&(xt.splice instanceof Function||Object.getOwnPropertyDescriptor(xt,xt.length-1)&&xt.constructor.name!=="String")}},3580:function(yn){(function(ir,xt){yn.exports=xt()})(this,function(){"use strict";function ir(ut,J,ft,ct,Ot){xt(ut,J,ft||0,ct||ut.length-1,Ot||Pt)}function xt(ut,J,ft,ct,Ot){for(;ct>ft;){if(ct-ft>600){var Mt=ct-ft+1,gt=J-ft+1,q=Math.log(Mt),Vt=.5*Math.exp(2*q/3),Me=.5*Math.sqrt(q*Vt*(Mt-Vt)/Mt)*(gt-Mt/2<0?-1:1),je=Math.max(ft,Math.floor(J-gt*Vt/Mt+Me)),un=Math.min(ct,Math.floor(J+(Mt-gt)*Vt/Mt+Me));xt(ut,J,je,un,Ot)}var An=ut[J],Wn=ft,Cn=ct;for(se(ut,ft,J),Ot(ut[ct],An)>0&&se(ut,ft,ct);Wn<Cn;){for(se(ut,Wn,Cn),Wn++,Cn--;Ot(ut[Wn],An)<0;)Wn++;for(;Ot(ut[Cn],An)>0;)Cn--}Ot(ut[ft],An)===0?se(ut,ft,Cn):(Cn++,se(ut,Cn,ct)),Cn<=J&&(ft=Cn+1),J<=Cn&&(ct=Cn-1)}}function se(ut,J,ft){var ct=ut[J];ut[J]=ut[ft],ut[ft]=ct}function Pt(ut,J){return ut<J?-1:ut>J?1:0}var Lt=function(J){J===void 0&&(J=9),this._maxEntries=Math.max(4,J),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};Lt.prototype.all=function(){return this._all(this.data,[])},Lt.prototype.search=function(J){var ft=this.data,ct=[];if(!ue(J,ft))return ct;for(var Ot=this.toBBox,Mt=[];ft;){for(var gt=0;gt<ft.children.length;gt++){var q=ft.children[gt],Vt=ft.leaf?Ot(q):q;ue(J,Vt)&&(ft.leaf?ct.push(q):jt(J,Vt)?this._all(q,ct):Mt.push(q))}ft=Mt.pop()}return ct},Lt.prototype.collides=function(J){var ft=this.data;if(!ue(J,ft))return!1;for(var ct=[];ft;){for(var Ot=0;Ot<ft.children.length;Ot++){var Mt=ft.children[Ot],gt=ft.leaf?this.toBBox(Mt):Mt;if(ue(J,gt)){if(ft.leaf||jt(J,gt))return!0;ct.push(Mt)}}ft=ct.pop()}return!1},Lt.prototype.load=function(J){if(!(J&&J.length))return this;if(J.length<this._minEntries){for(var ft=0;ft<J.length;ft++)this.insert(J[ft]);return this}var ct=this._build(J.slice(),0,J.length-1,0);if(!this.data.children.length)this.data=ct;else if(this.data.height===ct.height)this._splitRoot(this.data,ct);else{if(this.data.height<ct.height){var Ot=this.data;this.data=ct,ct=Ot}this._insert(ct,this.data.height-ct.height-1,!0)}return this},Lt.prototype.insert=function(J){return J&&this._insert(J,this.data.height-1),this},Lt.prototype.clear=function(){return this.data=Ht([]),this},Lt.prototype.remove=function(J,ft){if(!J)return this;for(var ct=this.data,Ot=this.toBBox(J),Mt=[],gt=[],q,Vt,Me;ct||Mt.length;){if(ct||(ct=Mt.pop(),Vt=Mt[Mt.length-1],q=gt.pop(),Me=!0),ct.leaf){var je=D(J,ct.children,ft);if(je!==-1)return ct.children.splice(je,1),Mt.push(ct),this._condense(Mt),this}!Me&&!ct.leaf&&jt(ct,Ot)?(Mt.push(ct),gt.push(q),q=0,Vt=ct,ct=ct.children[0]):Vt?(q++,ct=Vt.children[q],Me=!1):ct=null}return this},Lt.prototype.toBBox=function(J){return J},Lt.prototype.compareMinX=function(J,ft){return J.minX-ft.minX},Lt.prototype.compareMinY=function(J,ft){return J.minY-ft.minY},Lt.prototype.toJSON=function(){return this.data},Lt.prototype.fromJSON=function(J){return this.data=J,this},Lt.prototype._all=function(J,ft){for(var ct=[];J;)J.leaf?ft.push.apply(ft,J.children):ct.push.apply(ct,J.children),J=ct.pop();return ft},Lt.prototype._build=function(J,ft,ct,Ot){var Mt=ct-ft+1,gt=this._maxEntries,q;if(Mt<=gt)return q=Ht(J.slice(ft,ct+1)),It(q,this.toBBox),q;Ot||(Ot=Math.ceil(Math.log(Mt)/Math.log(gt)),gt=Math.ceil(Mt/Math.pow(gt,Ot-1))),q=Ht([]),q.leaf=!1,q.height=Ot;var Vt=Math.ceil(Mt/gt),Me=Vt*Math.ceil(Math.sqrt(gt));Dt(J,ft,ct,Me,this.compareMinX);for(var je=ft;je<=ct;je+=Me){var un=Math.min(je+Me-1,ct);Dt(J,je,un,Vt,this.compareMinY);for(var An=je;An<=un;An+=Vt){var Wn=Math.min(An+Vt-1,un);q.children.push(this._build(J,An,Wn,Ot-1))}}return It(q,this.toBBox),q},Lt.prototype._chooseSubtree=function(J,ft,ct,Ot){for(;Ot.push(ft),!(ft.leaf||Ot.length-1===ct);){for(var Mt=1/0,gt=1/0,q=void 0,Vt=0;Vt<ft.children.length;Vt++){var Me=ft.children[Vt],je=Gt(Me),un=_t(J,Me)-je;un<gt?(gt=un,Mt=je<Mt?je:Mt,q=Me):un===gt&&je<Mt&&(Mt=je,q=Me)}ft=q||ft.children[0]}return ft},Lt.prototype._insert=function(J,ft,ct){var Ot=ct?J:this.toBBox(J),Mt=[],gt=this._chooseSubtree(Ot,this.data,ft,Mt);for(gt.children.push(J),mt(gt,Ot);ft>=0&&Mt[ft].children.length>this._maxEntries;)this._split(Mt,ft),ft--;this._adjustParentBBoxes(Ot,Mt,ft)},Lt.prototype._split=function(J,ft){var ct=J[ft],Ot=ct.children.length,Mt=this._minEntries;this._chooseSplitAxis(ct,Mt,Ot);var gt=this._chooseSplitIndex(ct,Mt,Ot),q=Ht(ct.children.splice(gt,ct.children.length-gt));q.height=ct.height,q.leaf=ct.leaf,It(ct,this.toBBox),It(q,this.toBBox),ft?J[ft-1].children.push(q):this._splitRoot(ct,q)},Lt.prototype._splitRoot=function(J,ft){this.data=Ht([J,ft]),this.data.height=J.height+1,this.data.leaf=!1,It(this.data,this.toBBox)},Lt.prototype._chooseSplitIndex=function(J,ft,ct){for(var Ot,Mt=1/0,gt=1/0,q=ft;q<=ct-ft;q++){var Vt=Tt(J,0,q,this.toBBox),Me=Tt(J,q,ct,this.toBBox),je=ne(Vt,Me),un=Gt(Vt)+Gt(Me);je<Mt?(Mt=je,Ot=q,gt=un<gt?un:gt):je===Mt&&un<gt&&(gt=un,Ot=q)}return Ot||ct-ft},Lt.prototype._chooseSplitAxis=function(J,ft,ct){var Ot=J.leaf?this.compareMinX:At,Mt=J.leaf?this.compareMinY:lt,gt=this._allDistMargin(J,ft,ct,Ot),q=this._allDistMargin(J,ft,ct,Mt);gt<q&&J.children.sort(Ot)},Lt.prototype._allDistMargin=function(J,ft,ct,Ot){J.children.sort(Ot);for(var Mt=this.toBBox,gt=Tt(J,0,ft,Mt),q=Tt(J,ct-ft,ct,Mt),Vt=vt(gt)+vt(q),Me=ft;Me<ct-ft;Me++){var je=J.children[Me];mt(gt,J.leaf?Mt(je):je),Vt+=vt(gt)}for(var un=ct-ft-1;un>=ft;un--){var An=J.children[un];mt(q,J.leaf?Mt(An):An),Vt+=vt(q)}return Vt},Lt.prototype._adjustParentBBoxes=function(J,ft,ct){for(var Ot=ct;Ot>=0;Ot--)mt(ft[Ot],J)},Lt.prototype._condense=function(J){for(var ft=J.length-1,ct=void 0;ft>=0;ft--)J[ft].children.length===0?ft>0?(ct=J[ft-1].children,ct.splice(ct.indexOf(J[ft]),1)):this.clear():It(J[ft],this.toBBox)};function D(ut,J,ft){if(!ft)return J.indexOf(ut);for(var ct=0;ct<J.length;ct++)if(ft(ut,J[ct]))return ct;return-1}function It(ut,J){Tt(ut,0,ut.children.length,J,ut)}function Tt(ut,J,ft,ct,Ot){Ot||(Ot=Ht(null)),Ot.minX=1/0,Ot.minY=1/0,Ot.maxX=-1/0,Ot.maxY=-1/0;for(var Mt=J;Mt<ft;Mt++){var gt=ut.children[Mt];mt(Ot,ut.leaf?ct(gt):gt)}return Ot}function mt(ut,J){return ut.minX=Math.min(ut.minX,J.minX),ut.minY=Math.min(ut.minY,J.minY),ut.maxX=Math.max(ut.maxX,J.maxX),ut.maxY=Math.max(ut.maxY,J.maxY),ut}function At(ut,J){return ut.minX-J.minX}function lt(ut,J){return ut.minY-J.minY}function Gt(ut){return(ut.maxX-ut.minX)*(ut.maxY-ut.minY)}function vt(ut){return ut.maxX-ut.minX+(ut.maxY-ut.minY)}function _t(ut,J){return(Math.max(J.maxX,ut.maxX)-Math.min(J.minX,ut.minX))*(Math.max(J.maxY,ut.maxY)-Math.min(J.minY,ut.minY))}function ne(ut,J){var ft=Math.max(ut.minX,J.minX),ct=Math.max(ut.minY,J.minY),Ot=Math.min(ut.maxX,J.maxX),Mt=Math.min(ut.maxY,J.maxY);return Math.max(0,Ot-ft)*Math.max(0,Mt-ct)}function jt(ut,J){return ut.minX<=J.minX&&ut.minY<=J.minY&&J.maxX<=ut.maxX&&J.maxY<=ut.maxY}function ue(ut,J){return J.minX<=ut.maxX&&J.minY<=ut.maxY&&J.maxX>=ut.minX&&J.maxY>=ut.minY}function Ht(ut){return{children:ut,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Dt(ut,J,ft,ct,Ot){for(var Mt=[J,ft];Mt.length;)if(ft=Mt.pop(),J=Mt.pop(),!(ft-J<=ct)){var gt=J+Math.ceil((ft-J)/ct/2)*ct;ir(ut,gt,J,ft,Ot),Mt.push(J,gt,gt,ft)}}return Lt})},27933:function(yn,ir,xt){"use strict";var se=xt(48254),Pt=Array.prototype.concat,Lt=Array.prototype.slice,D=yn.exports=function(Tt){for(var mt=[],At=0,lt=Tt.length;At<lt;At++){var Gt=Tt[At];se(Gt)?mt=Pt.call(mt,Lt.call(Gt)):mt.push(Gt)}return mt};D.wrap=function(It){return function(){return It(D(arguments))}}},37107:function(yn,ir,xt){var se=xt(53332).parse;se.parseSVG=se,se.makeAbsolute=Pt,yn.exports=se;function Pt(Lt){var D,It={x:0,y:0},Tt={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return Lt.forEach(function(mt){mt.command==="moveto"&&(D=mt),mt.x0=It.x,mt.y0=It.y;for(var At in Tt)At in mt&&(mt[At]+=mt.relative?mt[Tt[At]]:0);"x"in mt||(mt.x=It.x),"y"in mt||(mt.y=It.y),mt.relative=!1,mt.code=mt.code.toUpperCase(),mt.command=="closepath"&&(mt.x=D.x,mt.y=D.y),It=mt}),Lt}},53332:function(yn){"use strict";function ir(Pt,Lt){function D(){this.constructor=Pt}D.prototype=Lt.prototype,Pt.prototype=new D}function xt(Pt,Lt,D,It){this.message=Pt,this.expected=Lt,this.found=D,this.location=It,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xt)}ir(xt,Error),xt.buildMessage=function(Pt,Lt){var D={literal:function(vt){return'"'+Tt(vt.text)+'"'},class:function(vt){var _t="",ne;for(ne=0;ne<vt.parts.length;ne++)_t+=vt.parts[ne]instanceof Array?mt(vt.parts[ne][0])+"-"+mt(vt.parts[ne][1]):mt(vt.parts[ne]);return"["+(vt.inverted?"^":"")+_t+"]"},any:function(vt){return"any character"},end:function(vt){return"end of input"},other:function(vt){return vt.description}};function It(vt){return vt.charCodeAt(0).toString(16).toUpperCase()}function Tt(vt){return vt.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_t){return"\\x0"+It(_t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_t){return"\\x"+It(_t)})}function mt(vt){return vt.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_t){return"\\x0"+It(_t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_t){return"\\x"+It(_t)})}function At(vt){return D[vt.type](vt)}function lt(vt){var _t=new Array(vt.length),ne,jt;for(ne=0;ne<vt.length;ne++)_t[ne]=At(vt[ne]);if(_t.sort(),_t.length>0){for(ne=1,jt=1;ne<_t.length;ne++)_t[ne-1]!==_t[ne]&&(_t[jt]=_t[ne],jt++);_t.length=jt}switch(_t.length){case 1:return _t[0];case 2:return _t[0]+" or "+_t[1];default:return _t.slice(0,-1).join(", ")+", or "+_t[_t.length-1]}}function Gt(vt){return vt?'"'+Tt(vt)+'"':"end of input"}return"Expected "+lt(Pt)+" but "+Gt(Lt)+" found."};function se(Pt,Lt){Lt=Lt!==void 0?Lt:{};var D={},It={svg_path:io},Tt=io,mt=function(R){if(!R)return[];for(var B=[],V=0;V<R.length;V++)B=B.concat.apply(B,R[V]);var G=B[0];return G&&G.code=="m"&&(delete G.relative,G.code="M"),B},At=function(R,B){return sc(R,B)},lt=/^[Mm]/,Gt=Te(["M","m"],!1,!1),vt=function(R,B,V){var G=Ir(R,[B]);return V&&(G=G.concat(Ir(R=="M"?"L":"l",V[1]))),G},_t=/^[Zz]/,ne=Te(["Z","z"],!1,!1),jt=function(){return Ir("Z")},ue=/^[Ll]/,Ht=Te(["L","l"],!1,!1),Dt=function(R,B){return Ir(R,B)},ut=/^[Hh]/,J=Te(["H","h"],!1,!1),ft=function(R,B){return Ir(R,B.map(function(V){return{x:V}}))},ct=/^[Vv]/,Ot=Te(["V","v"],!1,!1),Mt=function(R,B){return Ir(R,B.map(function(V){return{y:V}}))},gt=/^[Cc]/,q=Te(["C","c"],!1,!1),Vt=function(R,B,V){return{x1:R.x,y1:R.y,x2:B.x,y2:B.y,x:V.x,y:V.y}},Me=/^[Ss]/,je=Te(["S","s"],!1,!1),un=function(R,B){return{x2:R.x,y2:R.y,x:B.x,y:B.y}},An=/^[Qq]/,Wn=Te(["Q","q"],!1,!1),Cn=function(R,B){return{x1:R.x,y1:R.y,x:B.x,y:B.y}},Xl=/^[Tt]/,la=Te(["T","t"],!1,!1),z=/^[Aa]/,ua=Te(["A","a"],!1,!1),Fi=function(R,B,V,G,U,ht){return{rx:R,ry:B,xAxisRotation:V,largeArc:G,sweep:U,x:ht.x,y:ht.y}},kt=function(R,B){return{x:R,y:B}},zi=function(R){return R*1},qn=function(R){return R.join("")*1},Qr=/^[01]/,Ja=Te(["0","1"],!1,!1),ql=function(R){return R=="1"},fa=function(){return""},Qs=",",to=Wi(",",!1),Gi=function(R){return R.join("")},Js=".",tc=Wi(".",!1),$i=/^[eE]/,Bo=Te(["e","E"],!1,!1),eo=/^[+\-]/,Fo=Te(["+","-"],!1,!1),jn=/^[0-9]/,Rr=Te([["0","9"]],!1,!1),no=function(R){return R.join("")},ec=/^[ \t\n\r]/,nc=Te([" ","	",`
`,"\r"],!1,!1),Y=0,ce=0,ha=[{line:1,column:1}],Yn=0,ro=[],fn=0,da;if("startRule"in Lt){if(!(Lt.startRule in It))throw new Error(`Can't start parsing from rule "`+Lt.startRule+'".');Tt=It[Lt.startRule]}function Ul(){return Pt.substring(ce,Y)}function Kl(){return Sr(ce,Y)}function pa(R,B){throw B=B!==void 0?B:Sr(ce,Y),Go([rc(R)],Pt.substring(ce,Y),B)}function fr(R,B){throw B=B!==void 0?B:Sr(ce,Y),ic(R,B)}function Wi(R,B){return{type:"literal",text:R,ignoreCase:B}}function Te(R,B,V){return{type:"class",parts:R,inverted:B,ignoreCase:V}}function Yi(){return{type:"any"}}function zo(){return{type:"end"}}function rc(R){return{type:"other",description:R}}function pi(R){var B=ha[R],V;if(B)return B;for(V=R-1;!ha[V];)V--;for(B=ha[V],B={line:B.line,column:B.column};V<R;)Pt.charCodeAt(V)===10?(B.line++,B.column=1):B.column++,V++;return ha[R]=B,B}function Sr(R,B){var V=pi(R),G=pi(B);return{start:{offset:R,line:V.line,column:V.column},end:{offset:B,line:G.line,column:G.column}}}function $e(R){Y<Yn||(Y>Yn&&(Yn=Y,ro=[]),ro.push(R))}function ic(R,B){return new xt(R,null,null,B)}function Go(R,B,V){return new xt(xt.buildMessage(R,B),R,B,V)}function io(){var R,B,V,G,U;for(R=Y,B=[],V=ye();V!==D;)B.push(V),V=ye();if(B!==D)if(V=ac(),V===D&&(V=null),V!==D){for(G=[],U=ye();U!==D;)G.push(U),U=ye();G!==D?(ce=R,B=mt(V),R=B):(Y=R,R=D)}else Y=R,R=D;else Y=R,R=D;return R}function ac(){var R,B,V,G,U,ht;if(R=Y,B=Ce(),B!==D){for(V=[],G=Y,U=[],ht=ye();ht!==D;)U.push(ht),ht=ye();for(U!==D?(ht=Ce(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;){for(V.push(G),G=Y,U=[],ht=ye();ht!==D;)U.push(ht),ht=ye();U!==D?(ht=Ce(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D)}V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function Ce(){var R,B,V,G,U,ht;if(R=Y,B=$(),B!==D){for(V=[],G=Y,U=[],ht=ye();ht!==D;)U.push(ht),ht=ye();for(U!==D?(ht=W(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;){for(V.push(G),G=Y,U=[],ht=ye();ht!==D;)U.push(ht),ht=ye();U!==D?(ht=W(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D)}V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function W(){var R;return R=H(),R===D&&(R=Z(),R===D&&(R=it(),R===D&&(R=et(),R===D&&(R=at(),R===D&&(R=Et(),R===D&&(R=Ft(),R===D&&(R=Jt(),R===D&&(R=Pe())))))))),R}function $(){var R,B,V,G,U,ht,ga;if(R=Y,lt.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(Gt)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=Nn(),G!==D?(U=Y,ht=Xe(),ht===D&&(ht=null),ht!==D?(ga=st(),ga!==D?(ht=[ht,ga],U=ht):(Y=U,U=D)):(Y=U,U=D),U===D&&(U=null),U!==D?(ce=R,B=vt(B,G,U),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function H(){var R,B;return R=Y,_t.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(ne)),B!==D&&(ce=R,B=jt()),R=B,R}function Z(){var R,B,V,G;if(R=Y,ue.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(Ht)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=st(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function st(){var R,B,V,G,U,ht;if(R=Y,B=Nn(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Nn(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Nn(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function it(){var R,B,V,G;if(R=Y,ut.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(J)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=tt(),G!==D?(ce=R,B=ft(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function tt(){var R,B,V,G,U,ht;if(R=Y,B=Hi(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Hi(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Hi(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function et(){var R,B,V,G;if(R=Y,ct.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(Ot)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=tt(),G!==D?(ce=R,B=Mt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function at(){var R,B,V,G;if(R=Y,gt.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(q)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=pt(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function pt(){var R,B,V,G,U,ht;if(R=Y,B=ot(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=ot(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=ot(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function ot(){var R,B,V,G,U,ht;return R=Y,B=Nn(),B!==D?(V=Xe(),V===D&&(V=null),V!==D?(G=Nn(),G!==D?(U=Xe(),U===D&&(U=null),U!==D?(ht=Nn(),ht!==D?(ce=R,B=Vt(B,G,ht),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D),R}function Et(){var R,B,V,G;if(R=Y,Me.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(je)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=Xt(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function Xt(){var R,B,V,G,U,ht;if(R=Y,B=Bt(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Bt(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Bt(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function Bt(){var R,B,V,G;return R=Y,B=Nn(),B!==D?(V=Xe(),V===D&&(V=null),V!==D?(G=Nn(),G!==D?(ce=R,B=un(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D),R}function Ft(){var R,B,V,G;if(R=Y,An.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(Wn)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=zt(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function zt(){var R,B,V,G,U,ht;if(R=Y,B=St(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=St(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=St(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function St(){var R,B,V,G;return R=Y,B=Nn(),B!==D?(V=Xe(),V===D&&(V=null),V!==D?(G=Nn(),G!==D?(ce=R,B=Cn(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D),R}function Jt(){var R,B,V,G;if(R=Y,Xl.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(la)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=te(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function te(){var R,B,V,G,U,ht;if(R=Y,B=Nn(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Nn(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Nn(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function Pe(){var R,B,V,G;if(R=Y,z.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(ua)),B!==D){for(V=[],G=ye();G!==D;)V.push(G),G=ye();V!==D?(G=Kt(),G!==D?(ce=R,B=Dt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)}else Y=R,R=D;return R}function Kt(){var R,B,V,G,U,ht;if(R=Y,B=Oe(),B!==D){for(V=[],G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Oe(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);G!==D;)V.push(G),G=Y,U=Xe(),U===D&&(U=null),U!==D?(ht=Oe(),ht!==D?(U=[U,ht],G=U):(Y=G,G=D)):(Y=G,G=D);V!==D?(ce=R,B=At(B,V),R=B):(Y=R,R=D)}else Y=R,R=D;return R}function Oe(){var R,B,V,G,U,ht,ga,cc,$o,lc,Wo,Yo;return R=Y,B=Zl(),B!==D?(V=Xe(),V===D&&(V=null),V!==D?(G=Zl(),G!==D?(U=Xe(),U===D&&(U=null),U!==D?(ht=Hi(),ht!==D?(ga=Xe(),ga!==D?(cc=Ql(),cc!==D?($o=Xe(),$o===D&&($o=null),$o!==D?(lc=Ql(),lc!==D?(Wo=Xe(),Wo===D&&(Wo=null),Wo!==D?(Yo=Nn(),Yo!==D?(ce=R,B=Fi(B,G,ht,cc,lc,Yo),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D),R}function Nn(){var R,B,V,G;return R=Y,B=Hi(),B!==D?(V=Xe(),V===D&&(V=null),V!==D?(G=Hi(),G!==D?(ce=R,B=kt(B,G),R=B):(Y=R,R=D)):(Y=R,R=D)):(Y=R,R=D),R}function Zl(){var R,B;return R=Y,B=tu(),B===D&&(B=Le()),B!==D&&(ce=R,B=zi(B)),R=B,R}function Hi(){var R,B,V,G;return R=Y,B=Y,V=oc(),V===D&&(V=null),V!==D?(G=tu(),G!==D?(V=[V,G],B=V):(Y=B,B=D)):(Y=B,B=D),B===D&&(B=Y,V=oc(),V===D&&(V=null),V!==D?(G=Le(),G!==D?(V=[V,G],B=V):(Y=B,B=D)):(Y=B,B=D)),B!==D&&(ce=R,B=qn(B)),R=B,R}function Ql(){var R,B;return R=Y,Qr.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(Ja)),B!==D&&(ce=R,B=ql(B)),R=B,R}function Xe(){var R,B,V,G,U;if(R=Y,B=[],V=ye(),V!==D)for(;V!==D;)B.push(V),V=ye();else B=D;if(B!==D)if(V=Jl(),V===D&&(V=null),V!==D){for(G=[],U=ye();U!==D;)G.push(U),U=ye();G!==D?(B=[B,V,G],R=B):(Y=R,R=D)}else Y=R,R=D;else Y=R,R=D;if(R===D){if(R=Y,B=Y,V=Jl(),V!==D){for(G=[],U=ye();U!==D;)G.push(U),U=ye();G!==D?(V=[V,G],B=V):(Y=B,B=D)}else Y=B,B=D;B!==D&&(ce=R,B=fa()),R=B}return R}function Jl(){var R;return Pt.charCodeAt(Y)===44?(R=Qs,Y++):(R=D,fn===0&&$e(to)),R}function tu(){var R,B,V,G;return R=Y,B=Y,V=eu(),V!==D?(G=vi(),G===D&&(G=null),G!==D?(V=[V,G],B=V):(Y=B,B=D)):(Y=B,B=D),B===D&&(B=Y,V=Le(),V!==D?(G=vi(),G!==D?(V=[V,G],B=V):(Y=B,B=D)):(Y=B,B=D)),B!==D&&(ce=R,B=Gi(B)),R=B,R}function eu(){var R,B,V,G,U;return R=Y,B=Y,V=Le(),V===D&&(V=null),V!==D?(Pt.charCodeAt(Y)===46?(G=Js,Y++):(G=D,fn===0&&$e(tc)),G!==D?(U=Le(),U!==D?(V=[V,G,U],B=V):(Y=B,B=D)):(Y=B,B=D)):(Y=B,B=D),B===D&&(B=Y,V=Le(),V!==D?(Pt.charCodeAt(Y)===46?(G=Js,Y++):(G=D,fn===0&&$e(tc)),G!==D?(V=[V,G],B=V):(Y=B,B=D)):(Y=B,B=D)),B!==D&&(ce=R,B=Gi(B)),R=B,R}function vi(){var R,B,V,G,U;return R=Y,B=Y,$i.test(Pt.charAt(Y))?(V=Pt.charAt(Y),Y++):(V=D,fn===0&&$e(Bo)),V!==D?(G=oc(),G===D&&(G=null),G!==D?(U=Le(),U!==D?(V=[V,G,U],B=V):(Y=B,B=D)):(Y=B,B=D)):(Y=B,B=D),B!==D&&(ce=R,B=Gi(B)),R=B,R}function oc(){var R;return eo.test(Pt.charAt(Y))?(R=Pt.charAt(Y),Y++):(R=D,fn===0&&$e(Fo)),R}function Le(){var R,B,V;if(R=Y,B=[],jn.test(Pt.charAt(Y))?(V=Pt.charAt(Y),Y++):(V=D,fn===0&&$e(Rr)),V!==D)for(;V!==D;)B.push(V),jn.test(Pt.charAt(Y))?(V=Pt.charAt(Y),Y++):(V=D,fn===0&&$e(Rr));else B=D;return B!==D&&(ce=R,B=no(B)),R=B,R}function ye(){var R,B;return R=Y,ec.test(Pt.charAt(Y))?(B=Pt.charAt(Y),Y++):(B=D,fn===0&&$e(nc)),B!==D&&(ce=R,B=fa()),R=B,R}function sc(R,B){if(!B)return[R];for(var V=[R],G=0,U=B.length;G<U;G++)V[G+1]=B[G][1];return V}var ao={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var va in ao)ao[va.toUpperCase()]=ao[va];function Ir(R,B){B||(B=[{}]);for(var V=B.length;V--;){var G={code:R,command:ao[R]};R==R.toLowerCase()&&(G.relative=!0);for(var U in B[V])G[U]=B[V][U];B[V]=G}return B}if(da=Tt(),da!==D&&Y===Pt.length)return da;throw da!==D&&Y<Pt.length&&$e(zo()),Go(ro,Yn<Pt.length?Pt.charAt(Yn):null,Yn<Pt.length?Sr(Yn,Yn+1):Sr(Yn,Yn))}yn.exports={SyntaxError:xt,parse:se}},9522:function(yn,ir,xt){var se=xt(94945);function Pt(Lt,D){var It=typeof Symbol!="undefined"&&Lt[Symbol.iterator]||Lt["@@iterator"];if(!It){if(Array.isArray(Lt)||(It=se(Lt))||D&&Lt&&typeof Lt.length=="number"){It&&(Lt=It);var Tt=0,mt=function(){};return{s:mt,n:function(){return Tt>=Lt.length?{done:!0}:{done:!1,value:Lt[Tt++]}},e:function(_t){throw _t},f:mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var At=!0,lt=!1,Gt;return{s:function(){It=It.call(Lt)},n:function(){var _t=It.next();return At=_t.done,_t},e:function(_t){lt=!0,Gt=_t},f:function(){try{!At&&It.return!=null&&It.return()}finally{if(lt)throw Gt}}}}yn.exports=Pt,yn.exports.__esModule=!0,yn.exports.default=yn.exports}}]);
